{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { tuiIsPresent, tuiPure, TUI_DEFAULT_STRINGIFY, TUI_DEFAULT_MATCHER, TUI_FOCUSABLE_ITEM_ACCESSOR } from '@taiga-ui/cdk';\nimport { tuiIsFlat } from '@taiga-ui/kit/utils';\nimport * as i0 from '@angular/core';\nimport { Pipe, Inject, NgModule } from '@angular/core';\nimport { TUI_DATA_LIST_HOST } from '@taiga-ui/core';\nclass AbstractTuiFilterByInput {\n  get query() {\n    return this.accessor.nativeFocusableElement ? this.accessor.nativeFocusableElement.value || `` : ``;\n  }\n  filter(items, matcher, stringify, query) {\n    if (!items) {\n      return null;\n    }\n    return tuiIsFlat(items) ? this.filterFlat(items, matcher, stringify, query) : this.filter2d(items, matcher, stringify, query);\n  }\n  filterFlat(items, matcher, stringify, query) {\n    const match = this.getMatch(items, stringify, query);\n    return tuiIsPresent(match) ? items : items.filter(item => matcher(item, query, stringify));\n  }\n  filter2d(items, matcher, stringify, query) {\n    const match = items.find(item => tuiIsPresent(this.getMatch(item, stringify, query)));\n    return tuiIsPresent(match) ? items : items.map(inner => this.filterFlat(inner, matcher, stringify, query));\n  }\n  getMatch(items, stringify, query) {\n    return items.find(item => stringify(item).toLocaleLowerCase() === query.toLocaleLowerCase());\n  }\n}\n__decorate([tuiPure], AbstractTuiFilterByInput.prototype, \"filter\", null);\nclass TuiFilterByInputPipe extends AbstractTuiFilterByInput {\n  constructor(accessor, host) {\n    super();\n    this.accessor = accessor;\n    this.host = host;\n  }\n  transform(items, matcher = TUI_DEFAULT_MATCHER) {\n    return this.filter(items, matcher, this.host.stringify || TUI_DEFAULT_STRINGIFY, this.query);\n  }\n}\nTuiFilterByInputPipe.ɵfac = function TuiFilterByInputPipe_Factory(t) {\n  return new (t || TuiFilterByInputPipe)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 16), i0.ɵɵdirectiveInject(TUI_DATA_LIST_HOST, 16));\n};\nTuiFilterByInputPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"tuiFilterByInput\",\n  type: TuiFilterByInputPipe,\n  pure: false\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiFilterByInputPipe, [{\n    type: Pipe,\n    args: [{\n      name: `tuiFilterByInput`,\n      pure: false\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_FOCUSABLE_ITEM_ACCESSOR]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_DATA_LIST_HOST]\n      }]\n    }];\n  }, null);\n})();\n\n/**\n * @deprecated Use {@link TuiFilterByInputPipe} instead\n */\nclass TuiFilterByInputWithPipe extends AbstractTuiFilterByInput {\n  constructor(accessor) {\n    super();\n    this.accessor = accessor;\n  }\n  transform(items, stringify) {\n    return this.filter(items, TUI_DEFAULT_MATCHER, stringify, this.query);\n  }\n}\nTuiFilterByInputWithPipe.ɵfac = function TuiFilterByInputWithPipe_Factory(t) {\n  return new (t || TuiFilterByInputWithPipe)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 16));\n};\nTuiFilterByInputWithPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"tuiFilterByInputWith\",\n  type: TuiFilterByInputWithPipe,\n  pure: false\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiFilterByInputWithPipe, [{\n    type: Pipe,\n    args: [{\n      name: `tuiFilterByInputWith`,\n      pure: false\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_FOCUSABLE_ITEM_ACCESSOR]\n      }]\n    }];\n  }, null);\n})();\nclass TuiFilterByInputPipeModule {}\nTuiFilterByInputPipeModule.ɵfac = function TuiFilterByInputPipeModule_Factory(t) {\n  return new (t || TuiFilterByInputPipeModule)();\n};\nTuiFilterByInputPipeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: TuiFilterByInputPipeModule\n});\nTuiFilterByInputPipeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiFilterByInputPipeModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [TuiFilterByInputPipe, TuiFilterByInputWithPipe],\n      exports: [TuiFilterByInputPipe, TuiFilterByInputWithPipe]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiFilterByInput, TuiFilterByInputPipe, TuiFilterByInputPipeModule, TuiFilterByInputWithPipe };","map":{"version":3,"names":["__decorate","tuiIsPresent","tuiPure","TUI_DEFAULT_STRINGIFY","TUI_DEFAULT_MATCHER","TUI_FOCUSABLE_ITEM_ACCESSOR","tuiIsFlat","i0","Pipe","Inject","NgModule","TUI_DATA_LIST_HOST","AbstractTuiFilterByInput","query","accessor","nativeFocusableElement","value","filter","items","matcher","stringify","filterFlat","filter2d","match","getMatch","item","find","map","inner","toLocaleLowerCase","prototype","TuiFilterByInputPipe","constructor","host","transform","ɵfac","ɵpipe","type","args","name","pure","undefined","decorators","TuiFilterByInputWithPipe","TuiFilterByInputPipeModule","ɵmod","ɵinj","declarations","exports"],"sources":["C:/Users/denis/PycharmProjects/example_project/frontend/node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-pipes-filter-by-input.js"],"sourcesContent":["import { __decorate } from 'tslib';\nimport { tuiIsPresent, tuiPure, TUI_DEFAULT_STRINGIFY, TUI_DEFAULT_MATCHER, TUI_FOCUSABLE_ITEM_ACCESSOR } from '@taiga-ui/cdk';\nimport { tuiIsFlat } from '@taiga-ui/kit/utils';\nimport * as i0 from '@angular/core';\nimport { Pipe, Inject, NgModule } from '@angular/core';\nimport { TUI_DATA_LIST_HOST } from '@taiga-ui/core';\n\nclass AbstractTuiFilterByInput {\n    get query() {\n        return this.accessor.nativeFocusableElement\n            ? this.accessor.nativeFocusableElement.value || ``\n            : ``;\n    }\n    filter(items, matcher, stringify, query) {\n        if (!items) {\n            return null;\n        }\n        return tuiIsFlat(items)\n            ? this.filterFlat(items, matcher, stringify, query)\n            : this.filter2d(items, matcher, stringify, query);\n    }\n    filterFlat(items, matcher, stringify, query) {\n        const match = this.getMatch(items, stringify, query);\n        return tuiIsPresent(match)\n            ? items\n            : items.filter(item => matcher(item, query, stringify));\n    }\n    filter2d(items, matcher, stringify, query) {\n        const match = items.find(item => tuiIsPresent(this.getMatch(item, stringify, query)));\n        return tuiIsPresent(match)\n            ? items\n            : items.map(inner => this.filterFlat(inner, matcher, stringify, query));\n    }\n    getMatch(items, stringify, query) {\n        return items.find(item => stringify(item).toLocaleLowerCase() === query.toLocaleLowerCase());\n    }\n}\n__decorate([\n    tuiPure\n], AbstractTuiFilterByInput.prototype, \"filter\", null);\n\nclass TuiFilterByInputPipe extends AbstractTuiFilterByInput {\n    constructor(accessor, host) {\n        super();\n        this.accessor = accessor;\n        this.host = host;\n    }\n    transform(items, matcher = TUI_DEFAULT_MATCHER) {\n        return this.filter(items, matcher, this.host.stringify || TUI_DEFAULT_STRINGIFY, this.query);\n    }\n}\nTuiFilterByInputPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipe, deps: [{ token: TUI_FOCUSABLE_ITEM_ACCESSOR }, { token: TUI_DATA_LIST_HOST }], target: i0.ɵɵFactoryTarget.Pipe });\nTuiFilterByInputPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipe, name: \"tuiFilterByInput\", pure: false });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: `tuiFilterByInput`,\n                    pure: false,\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_FOCUSABLE_ITEM_ACCESSOR]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_DATA_LIST_HOST]\n                }] }]; } });\n\n/**\n * @deprecated Use {@link TuiFilterByInputPipe} instead\n */\nclass TuiFilterByInputWithPipe extends AbstractTuiFilterByInput {\n    constructor(accessor) {\n        super();\n        this.accessor = accessor;\n    }\n    transform(items, stringify) {\n        return this.filter(items, TUI_DEFAULT_MATCHER, stringify, this.query);\n    }\n}\nTuiFilterByInputWithPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputWithPipe, deps: [{ token: TUI_FOCUSABLE_ITEM_ACCESSOR }], target: i0.ɵɵFactoryTarget.Pipe });\nTuiFilterByInputWithPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputWithPipe, name: \"tuiFilterByInputWith\", pure: false });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputWithPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: `tuiFilterByInputWith`,\n                    pure: false,\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_FOCUSABLE_ITEM_ACCESSOR]\n                }] }]; } });\n\nclass TuiFilterByInputPipeModule {\n}\nTuiFilterByInputPipeModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTuiFilterByInputPipeModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipeModule, declarations: [TuiFilterByInputPipe, TuiFilterByInputWithPipe], exports: [TuiFilterByInputPipe, TuiFilterByInputWithPipe] });\nTuiFilterByInputPipeModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipeModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiFilterByInputPipeModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [TuiFilterByInputPipe, TuiFilterByInputWithPipe],\n                    exports: [TuiFilterByInputPipe, TuiFilterByInputWithPipe],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiFilterByInput, TuiFilterByInputPipe, TuiFilterByInputPipeModule, TuiFilterByInputWithPipe };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}