{"ast":null,"code":"import { HttpHeaders, HttpParams } from \"@angular/common/http\";\nimport { forkJoin } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GroupService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://localhost:8000/api/groups/';\n    this.apiGroupCreate = 'http://localhost:8000/api/teacher/create_group/';\n    this.apiGetGroup = 'http://localhost:8000/api/teacher/get_group/';\n    this.apiGetParticipants = 'http://localhost:8000/api/teacher/get_participants/';\n    this.apiGetaccounts = 'http://localhost:8000/api/teacher/get_accounts/';\n    this.headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      Authorization: 'Token ' + localStorage.getItem('my-token')\n    });\n  }\n  getGroups() {\n    const body = {};\n    return this.http.get(this.apiUrl, {\n      headers: {\n        Authorization: 'Token ' + localStorage.getItem('my-token')\n      }\n    });\n  }\n  getGroup(id) {\n    let params = new HttpParams().set(\"id\", id);\n    forkJoin();\n    const groupData = this.http.get(this.apiGetGroup + id, {\n      headers: {\n        Authorization: 'Token ' + localStorage.getItem('my-token')\n      },\n      params: params\n    });\n    const participantsData = this.http.get(this.apiGetParticipants + id, {\n      headers: {\n        Authorization: 'Token ' + localStorage.getItem('my-token')\n      },\n      params: params\n    });\n    const accountsData = this.http.get(this.apiGetaccounts + id, {\n      headers: {\n        Authorization: 'Token ' + localStorage.getItem('my-token')\n      },\n      params: params\n    });\n    return {\n      group: groupData,\n      participants: participantsData,\n      accounts: accountsData\n    };\n  }\n  createGroup(nameGroup, login, password) {\n    const group = {\n      group_name: nameGroup,\n      login: login,\n      password: password\n    };\n    return this.http.post(this.apiGroupCreate, group, {\n      headers: this.headers\n    });\n  }\n}\nGroupService.ɵfac = function GroupService_Factory(t) {\n  return new (t || GroupService)(i0.ɵɵinject(i1.HttpClient));\n};\nGroupService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GroupService,\n  factory: GroupService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAAoBA,WAAW,EAAEC,UAAU,QAAO,sBAAsB;AACxE,SAAQC,QAAQ,QAAmB,MAAM;;;AAOzC,OAAM,MAAOC,YAAY;EACzBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IACd,WAAM,GAAG,mCAAmC;IAC5C,mBAAc,GAAG,iDAAiD;IAClE,gBAAW,GAAG,8CAA8C;IAC5D,uBAAkB,GAAE,qDAAqD;IACzE,mBAAc,GAAG,iDAAiD;IAElE,YAAO,GAAG,IAAIL,WAAW,CAC7B;MAAC,cAAc,EAAE,kBAAkB;MACjCM,aAAa,EAAE,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU;IAAC,CAAC,CAC9D;EAVmC;EAYtCC,SAAS;IACP,MAAMC,IAAI,GAAG,EAAE;IACf,OAAO,IAAI,CAACL,IAAI,CAACM,GAAG,CAAW,IAAI,CAACC,MAAM,EAAC;MAACC,OAAO,EAC/C;QAACP,aAAa,EAAE,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU;MAAC;KAC9D,CAAC;EACJ;EAEAM,QAAQ,CAACC,EAAU;IACjB,IAAIC,MAAM,GAAG,IAAIf,UAAU,EAAE,CAACgB,GAAG,CAAC,IAAI,EAAEF,EAAE,CAAC;IAC3Cb,QAAQ,EAAC;IACT,MAAMgB,SAAS,GAAG,IAAI,CAACb,IAAI,CAACM,GAAG,CAAM,IAAI,CAACQ,WAAW,GAAGJ,EAAE,EAAE;MACxDF,OAAO,EAAE;QAACP,aAAa,EAAE,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU;MAAC,CAAC;MACrEQ,MAAM,EAAEA;KAAQ,CAAC;IACrB,MAAMI,gBAAgB,GAAG,IAAI,CAACf,IAAI,CAACM,GAAG,CAAM,IAAI,CAACU,kBAAkB,GAAGN,EAAE,EAAE;MACtEF,OAAO,EAAE;QAACP,aAAa,EAAE,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU;MAAC,CAAC;MACrEQ,MAAM,EAAEA;KAAQ,CAAC;IACrB,MAAMM,YAAY,GAAG,IAAI,CAACjB,IAAI,CAACM,GAAG,CAAM,IAAI,CAACY,cAAc,GAAGR,EAAE,EAAE;MAC9DF,OAAO,EAAE;QAACP,aAAa,EAAE,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU;MAAC,CAAC;MACrEQ,MAAM,EAAEA;KAAQ,CAAC;IACrB,OAAO;MACLQ,KAAK,EAAEN,SAAS;MAChBO,YAAY,EAAEL,gBAAgB;MAC9BM,QAAQ,EAAEJ;KACX;EACH;EAEAK,WAAW,CAACC,SAAiB,EAAEC,KAAa,EAAEC,QAAgB;IAC5D,MAAMN,KAAK,GAAG;MAACO,UAAU,EAAGH,SAAS;MAAEC,KAAK,EAAEA,KAAK;MAAEC,QAAQ,EAAEA;IAAQ,CAAC;IACxE,OAAO,IAAI,CAACzB,IAAI,CAAC2B,IAAI,CAAC,IAAI,CAACC,cAAc,EAAET,KAAK,EAAE;MAACX,OAAO,EAAE,IAAI,CAACA;IAAO,CAAC,CAAC;EAC5E;;AA1CWV,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAA+B,SAAZ/B,YAAY;EAAAgC,YAFX;AAAM","names":["HttpHeaders","HttpParams","forkJoin","GroupService","constructor","http","Authorization","localStorage","getItem","getGroups","body","get","apiUrl","headers","getGroup","id","params","set","groupData","apiGetGroup","participantsData","apiGetParticipants","accountsData","apiGetaccounts","group","participants","accounts","createGroup","nameGroup","login","password","group_name","post","apiGroupCreate","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\denis\\PycharmProjects\\example_project\\frontend\\src\\app\\servicies\\group.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\nimport {forkJoin, Observable} from \"rxjs\";\nimport {IGroup} from \"../interfaces/interface.group\";\nimport {AccountService} from \"./account.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GroupService {\nconstructor(private http: HttpClient) { }\n  private apiUrl = 'http://localhost:8000/api/groups/';\n  private apiGroupCreate = 'http://localhost:8000/api/teacher/create_group/';\n  private apiGetGroup = 'http://localhost:8000/api/teacher/get_group/';\n  private apiGetParticipants= 'http://localhost:8000/api/teacher/get_participants/';\n  private apiGetaccounts = 'http://localhost:8000/api/teacher/get_accounts/';\n\n  private headers = new HttpHeaders(\n      {'Content-Type': 'application/json',\n        Authorization: 'Token ' + localStorage.getItem('my-token')}\n    );\n\n  getGroups(): Observable<IGroup[]> {\n    const body = {}\n    return this.http.get<IGroup[]>(this.apiUrl,{headers:\n        {Authorization: 'Token ' + localStorage.getItem('my-token')}\n    });\n  }\n\n  getGroup(id: number): any {\n    let params = new HttpParams().set(\"id\", id)\n    forkJoin(\n    const groupData = this.http.get<any>(this.apiGetGroup + id, {\n        headers: {Authorization: 'Token ' + localStorage.getItem('my-token')},\n        params: params });\n    const participantsData = this.http.get<any>(this.apiGetParticipants + id, {\n        headers: {Authorization: 'Token ' + localStorage.getItem('my-token')},\n        params: params });\n    const accountsData = this.http.get<any>(this.apiGetaccounts + id, {\n        headers: {Authorization: 'Token ' + localStorage.getItem('my-token')},\n        params: params });\n    return {\n      group: groupData,\n      participants: participantsData,\n      accounts: accountsData\n    };\n  }\n\n  createGroup(nameGroup: string, login: string, password: string): Observable<any> {\n    const group = {group_name:  nameGroup, login: login, password: password};\n    return this.http.post(this.apiGroupCreate, group, {headers: this.headers});\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}