{"ast":null,"code":"import * as i1$1 from '@angular/common';\nimport { DOCUMENT, ViewportScroller, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Directive, NgZone, Renderer2, Inject, Self, Optional, Input, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { ANIMATION_FRAME, WINDOW } from '@ng-web-apis/common';\nimport { tuiTypedFromEvent, tuiPreventDefault, tuiStopPropagation, tuiZonefree, POLLING_TIME, TuiDestroyService, tuiZoneOptimized, TuiLetModule } from '@taiga-ui/cdk';\nimport { tuiFadeIn } from '@taiga-ui/core/animations';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_ELEMENT_REF, TUI_SCROLL_REF, TUI_ANIMATION_OPTIONS, TUI_MODE } from '@taiga-ui/core/tokens';\nimport { map, switchMap, takeUntil, throttleTime, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nimport { merge, fromEvent } from 'rxjs';\nfunction TuiScrollControlsComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-bar_has-horizontal\", bars_r1[1]);\n    i0.ɵɵproperty(\"@tuiFadeIn\", ctx_r2.animation);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-bar_has-vertical\", bars_r1[0]);\n    i0.ɵɵproperty(\"@tuiFadeIn\", ctx_r3.animation);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiScrollControlsComponent_ng_container_0_div_1_Template, 2, 3, \"div\", 1);\n    i0.ɵɵtemplate(2, TuiScrollControlsComponent_ng_container_0_div_2_Template, 2, 3, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", bars_r1[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", bars_r1[1]);\n  }\n}\nclass TuiScrollbarWrapperDirective {}\nTuiScrollbarWrapperDirective.ɵfac = function TuiScrollbarWrapperDirective_Factory(t) {\n  return new (t || TuiScrollbarWrapperDirective)();\n};\nTuiScrollbarWrapperDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TuiScrollbarWrapperDirective,\n  selectors: [[\"\", \"tuiScrollbarWrapper\", \"\"]],\n  features: [i0.ɵɵProvidersFeature([{\n    provide: TUI_ELEMENT_REF,\n    useExisting: ElementRef\n  }])]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiScrollbarWrapperDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[tuiScrollbarWrapper]',\n      providers: [{\n        provide: TUI_ELEMENT_REF,\n        useExisting: ElementRef\n      }]\n    }]\n  }], null, null);\n})();\nconst MIN_WIDTH = 24;\nclass TuiScrollbarDirective {\n  constructor(ngZone, renderer, destroy$, animationFrame$, wrapper, container, doc, win, el, viewportScroller) {\n    this.wrapper = wrapper;\n    this.container = container;\n    this.doc = doc;\n    this.win = win;\n    this.el = el;\n    this.viewportScroller = viewportScroller;\n    this.tuiScrollbar = 'vertical';\n    const {\n      nativeElement\n    } = this.el;\n    const mousedown$ = tuiTypedFromEvent(nativeElement, 'mousedown');\n    const mousemove$ = tuiTypedFromEvent(this.doc, 'mousemove');\n    const mouseup$ = tuiTypedFromEvent(this.doc, 'mouseup');\n    const mousedownWrapper$ = tuiTypedFromEvent(wrapper.nativeElement, 'mousedown');\n    merge(mousedownWrapper$.pipe(tuiPreventDefault(), map(event => this.getScrolled(event, 0.5, 0.5))), mousedown$.pipe(tuiPreventDefault(), tuiStopPropagation(), switchMap(event => {\n      const rect = nativeElement.getBoundingClientRect();\n      const vertical = getOffsetVertical(event, rect);\n      const horizontal = getOffsetHorizontal(event, rect);\n      return mousemove$.pipe(map(event => this.getScrolled(event, vertical, horizontal)), takeUntil(mouseup$));\n    }))).pipe(tuiZonefree(ngZone), takeUntil(destroy$)).subscribe(([scrollTop, scrollLeft]) => {\n      const [x, y] = this.viewportScroller.getScrollPosition();\n      if (!this.container) {\n        this.viewportScroller.scrollToPosition([this.tuiScrollbar === 'vertical' ? x : scrollLeft, this.tuiScrollbar === 'vertical' ? scrollTop : y]);\n        return;\n      }\n      if (this.tuiScrollbar === 'vertical') {\n        renderer.setProperty(this.container.nativeElement, 'scrollTop', scrollTop);\n      } else {\n        renderer.setProperty(this.container.nativeElement, 'scrollLeft', scrollLeft);\n      }\n    });\n    merge(fromEvent(this.container ? this.container.nativeElement : this.win, 'scroll'), animationFrame$.pipe(throttleTime(POLLING_TIME))).pipe(tuiZonefree(ngZone), takeUntil(destroy$)).subscribe(() => {\n      if (this.tuiScrollbar === 'vertical') {\n        renderer.setStyle(nativeElement, 'top', `${this.thumb * 100}%`);\n        renderer.setStyle(nativeElement, 'height', `${this.view * 100}%`);\n      } else {\n        renderer.setStyle(nativeElement, 'left', `${this.thumb * 100}%`);\n        renderer.setStyle(nativeElement, 'width', `${this.view * 100}%`);\n      }\n    });\n  }\n  get scrolled() {\n    const {\n      scrollTop,\n      scrollHeight,\n      clientHeight,\n      scrollLeft,\n      scrollWidth,\n      clientWidth\n    } = this.computedContainer;\n    return this.tuiScrollbar === 'vertical' ? scrollTop / (scrollHeight - clientHeight) : scrollLeft / (scrollWidth - clientWidth);\n  }\n  get compensation() {\n    const {\n      clientHeight,\n      scrollHeight,\n      clientWidth,\n      scrollWidth\n    } = this.computedContainer;\n    if (clientHeight * clientHeight / scrollHeight > MIN_WIDTH && this.tuiScrollbar === 'vertical' || clientWidth * clientWidth / scrollWidth > MIN_WIDTH && this.tuiScrollbar === 'horizontal') {\n      return 0;\n    }\n    return this.tuiScrollbar === 'vertical' ? MIN_WIDTH / clientHeight : MIN_WIDTH / clientWidth;\n  }\n  get thumb() {\n    const compensation = this.compensation || this.view;\n    return this.scrolled * (1 - compensation);\n  }\n  get view() {\n    const {\n      clientHeight,\n      scrollHeight,\n      clientWidth,\n      scrollWidth\n    } = this.computedContainer;\n    return this.tuiScrollbar === 'vertical' ? Math.ceil(clientHeight / scrollHeight * 100) / 100 : Math.ceil(clientWidth / scrollWidth * 100) / 100;\n  }\n  get computedContainer() {\n    var _a;\n    return ((_a = this.container) === null || _a === void 0 ? void 0 : _a.nativeElement) || this.doc.documentElement;\n  }\n  getScrolled({\n    clientY,\n    clientX\n  }, offsetVertical, offsetHorizontal) {\n    const {\n      offsetHeight,\n      offsetWidth\n    } = this.el.nativeElement;\n    const {\n      top,\n      left,\n      width,\n      height\n    } = this.wrapper.nativeElement.getBoundingClientRect();\n    const maxTop = this.computedContainer.scrollHeight - height;\n    const maxLeft = this.computedContainer.scrollWidth - width;\n    const scrolledTop = (clientY - top - offsetHeight * offsetVertical) / (height - offsetHeight);\n    const scrolledLeft = (clientX - left - offsetWidth * offsetHorizontal) / (width - offsetWidth);\n    return [maxTop * scrolledTop, maxLeft * scrolledLeft];\n  }\n}\nTuiScrollbarDirective.ɵfac = function TuiScrollbarDirective_Factory(t) {\n  return new (t || TuiScrollbarDirective)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(ANIMATION_FRAME), i0.ɵɵdirectiveInject(TUI_ELEMENT_REF), i0.ɵɵdirectiveInject(TUI_SCROLL_REF, 8), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(WINDOW), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(ViewportScroller));\n};\nTuiScrollbarDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TuiScrollbarDirective,\n  selectors: [[\"\", \"tuiScrollbar\", \"\"]],\n  inputs: {\n    tuiScrollbar: \"tuiScrollbar\"\n  },\n  features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiScrollbarDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[tuiScrollbar]',\n      providers: [TuiDestroyService]\n    }]\n  }], function () {\n    return [{\n      type: i0.NgZone,\n      decorators: [{\n        type: Inject,\n        args: [NgZone]\n      }]\n    }, {\n      type: i0.Renderer2,\n      decorators: [{\n        type: Inject,\n        args: [Renderer2]\n      }]\n    }, {\n      type: i1.Observable,\n      decorators: [{\n        type: Self\n      }, {\n        type: Inject,\n        args: [TuiDestroyService]\n      }]\n    }, {\n      type: i1.Observable,\n      decorators: [{\n        type: Inject,\n        args: [ANIMATION_FRAME]\n      }]\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [TUI_ELEMENT_REF]\n      }]\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [TUI_SCROLL_REF]\n      }]\n    }, {\n      type: Document,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: Window,\n      decorators: [{\n        type: Inject,\n        args: [WINDOW]\n      }]\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [ElementRef]\n      }]\n    }, {\n      type: i1$1.ViewportScroller,\n      decorators: [{\n        type: Inject,\n        args: [ViewportScroller]\n      }]\n    }];\n  }, {\n    tuiScrollbar: [{\n      type: Input\n    }]\n  });\n})();\nfunction getOffsetVertical({\n  clientY\n}, {\n  top,\n  height\n}) {\n  return (clientY - top) / height;\n}\nfunction getOffsetHorizontal({\n  clientX\n}, {\n  left,\n  width\n}) {\n  return (clientX - left) / width;\n}\nclass TuiScrollControlsComponent {\n  constructor(options, ngZone, doc, scrollRef, animationFrame$, mode$) {\n    this.options = options;\n    this.ngZone = ngZone;\n    this.doc = doc;\n    this.scrollRef = scrollRef;\n    this.animationFrame$ = animationFrame$;\n    this.mode$ = mode$;\n    this.refresh$ = this.animationFrame$.pipe(throttleTime(300), map(() => this.scrollbars), startWith([false, false]), distinctUntilChanged((a, b) => a[0] === b[0] && a[1] === b[1]), tuiZoneOptimized(this.ngZone));\n    this.animation = Object.assign({\n      value: ''\n    }, this.options);\n  }\n  get scrollbars() {\n    const {\n      clientHeight,\n      scrollHeight,\n      clientWidth,\n      scrollWidth\n    } = this.scrollRef ? this.scrollRef.nativeElement : this.doc.documentElement;\n    return [Math.ceil(clientHeight / scrollHeight * 100) < 100, Math.ceil(clientWidth / scrollWidth * 100) < 100];\n  }\n}\nTuiScrollControlsComponent.ɵfac = function TuiScrollControlsComponent_Factory(t) {\n  return new (t || TuiScrollControlsComponent)(i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_SCROLL_REF, 8), i0.ɵɵdirectiveInject(ANIMATION_FRAME), i0.ɵɵdirectiveInject(TUI_MODE));\n};\nTuiScrollControlsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TuiScrollControlsComponent,\n  selectors: [[\"tui-scroll-controls\"]],\n  hostBindings: function TuiScrollControlsComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"$.data-mode.attr\", function TuiScrollControlsComponent___data_mode_attr_HostBindingHandler() {\n        return ctx.mode$;\n      });\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([MODE_PROVIDER])],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"tuiScrollbarWrapper\", \"\", \"class\", \"t-bar t-bar_vertical\", 3, \"t-bar_has-horizontal\", 4, \"ngIf\"], [\"tuiScrollbarWrapper\", \"\", \"class\", \"t-bar t-bar_horizontal\", 3, \"t-bar_has-vertical\", 4, \"ngIf\"], [\"tuiScrollbarWrapper\", \"\", 1, \"t-bar\", \"t-bar_vertical\"], [\"tuiScrollbar\", \"vertical\", 1, \"t-thumb\"], [\"tuiScrollbarWrapper\", \"\", 1, \"t-bar\", \"t-bar_horizontal\"], [\"tuiScrollbar\", \"horizontal\", 1, \"t-thumb\"]],\n  template: function TuiScrollControlsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TuiScrollControlsComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.refresh$));\n    }\n  },\n  dependencies: [i1$1.NgIf, TuiScrollbarWrapperDirective, TuiScrollbarDirective, i1$1.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;min-width:calc(100% - 1px);min-height:calc(100% - 1px);max-width:calc(100% - 1px);max-height:calc(100% - 1px);float:left;margin-right:calc(-100% + 1px);-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:calc(-100% + 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto}.t-bar_vertical[_ngcontent-%COMP%]{top:0;width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;height:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{transition-property:all;transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;background:var(--tui-text-01);background-clip:content-box;box-sizing:border-box;transition-property:width,height;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}[data-mode=onDark][_nghost-%COMP%]   .t-thumb[_ngcontent-%COMP%]{background-color:var(--tui-text-01-night)}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;width:.75rem;min-height:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;height:.75rem;min-width:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{height:.875rem}\"],\n  data: {\n    animation: [tuiFadeIn]\n  },\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiScrollControlsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'tui-scroll-controls',\n      templateUrl: './scroll-controls.template.html',\n      styleUrls: ['./scroll-controls.style.less'],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      animations: [tuiFadeIn],\n      providers: [MODE_PROVIDER],\n      host: {\n        '($.data-mode.attr)': 'mode$'\n      }\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_ANIMATION_OPTIONS]\n      }]\n    }, {\n      type: i0.NgZone,\n      decorators: [{\n        type: Inject,\n        args: [NgZone]\n      }]\n    }, {\n      type: Document,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [TUI_SCROLL_REF]\n      }]\n    }, {\n      type: i1.Observable,\n      decorators: [{\n        type: Inject,\n        args: [ANIMATION_FRAME]\n      }]\n    }, {\n      type: i1.Observable,\n      decorators: [{\n        type: Inject,\n        args: [TUI_MODE]\n      }]\n    }];\n  }, null);\n})();\nclass TuiScrollControlsModule {}\nTuiScrollControlsModule.ɵfac = function TuiScrollControlsModule_Factory(t) {\n  return new (t || TuiScrollControlsModule)();\n};\nTuiScrollControlsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: TuiScrollControlsModule\n});\nTuiScrollControlsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, TuiLetModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiScrollControlsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, TuiLetModule],\n      declarations: [TuiScrollbarDirective, TuiScrollbarWrapperDirective, TuiScrollControlsComponent],\n      exports: [TuiScrollControlsComponent]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiScrollControlsComponent, TuiScrollControlsModule, TuiScrollbarDirective };","map":{"version":3,"names":["i1$1","DOCUMENT","ViewportScroller","CommonModule","i0","ElementRef","Directive","NgZone","Renderer2","Inject","Self","Optional","Input","Component","ChangeDetectionStrategy","NgModule","ANIMATION_FRAME","WINDOW","tuiTypedFromEvent","tuiPreventDefault","tuiStopPropagation","tuiZonefree","POLLING_TIME","TuiDestroyService","tuiZoneOptimized","TuiLetModule","tuiFadeIn","MODE_PROVIDER","TUI_ELEMENT_REF","TUI_SCROLL_REF","TUI_ANIMATION_OPTIONS","TUI_MODE","map","switchMap","takeUntil","throttleTime","startWith","distinctUntilChanged","i1","merge","fromEvent","TuiScrollbarWrapperDirective","ɵfac","ɵdir","provide","useExisting","type","args","selector","providers","MIN_WIDTH","TuiScrollbarDirective","constructor","ngZone","renderer","destroy$","animationFrame$","wrapper","container","doc","win","el","viewportScroller","tuiScrollbar","nativeElement","mousedown$","mousemove$","mouseup$","mousedownWrapper$","pipe","event","getScrolled","rect","getBoundingClientRect","vertical","getOffsetVertical","horizontal","getOffsetHorizontal","subscribe","scrollTop","scrollLeft","x","y","getScrollPosition","scrollToPosition","setProperty","setStyle","thumb","view","scrolled","scrollHeight","clientHeight","scrollWidth","clientWidth","computedContainer","compensation","Math","ceil","_a","documentElement","clientY","clientX","offsetVertical","offsetHorizontal","offsetHeight","offsetWidth","top","left","width","height","maxTop","maxLeft","scrolledTop","scrolledLeft","decorators","Observable","Document","Window","TuiScrollControlsComponent","options","scrollRef","mode$","refresh$","scrollbars","a","b","animation","Object","assign","value","ɵcmp","NgIf","AsyncPipe","templateUrl","styleUrls","changeDetection","OnPush","animations","host","undefined","TuiScrollControlsModule","ɵmod","ɵinj","imports","declarations","exports"],"sources":["C:/Users/denis/PycharmProjects/example_project/frontend/node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-scroll-controls.js"],"sourcesContent":["import * as i1$1 from '@angular/common';\nimport { DOCUMENT, ViewportScroller, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Directive, NgZone, Renderer2, Inject, Self, Optional, Input, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { ANIMATION_FRAME, WINDOW } from '@ng-web-apis/common';\nimport { tuiTypedFromEvent, tuiPreventDefault, tuiStopPropagation, tuiZonefree, POLLING_TIME, TuiDestroyService, tuiZoneOptimized, TuiLetModule } from '@taiga-ui/cdk';\nimport { tuiFadeIn } from '@taiga-ui/core/animations';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_ELEMENT_REF, TUI_SCROLL_REF, TUI_ANIMATION_OPTIONS, TUI_MODE } from '@taiga-ui/core/tokens';\nimport { map, switchMap, takeUntil, throttleTime, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nimport { merge, fromEvent } from 'rxjs';\n\nclass TuiScrollbarWrapperDirective {\n}\nTuiScrollbarWrapperDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollbarWrapperDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nTuiScrollbarWrapperDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiScrollbarWrapperDirective, selector: \"[tuiScrollbarWrapper]\", providers: [\n        {\n            provide: TUI_ELEMENT_REF,\n            useExisting: ElementRef,\n        },\n    ], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollbarWrapperDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[tuiScrollbarWrapper]',\n                    providers: [\n                        {\n                            provide: TUI_ELEMENT_REF,\n                            useExisting: ElementRef,\n                        },\n                    ],\n                }]\n        }] });\n\nconst MIN_WIDTH = 24;\nclass TuiScrollbarDirective {\n    constructor(ngZone, renderer, destroy$, animationFrame$, wrapper, container, doc, win, el, viewportScroller) {\n        this.wrapper = wrapper;\n        this.container = container;\n        this.doc = doc;\n        this.win = win;\n        this.el = el;\n        this.viewportScroller = viewportScroller;\n        this.tuiScrollbar = 'vertical';\n        const { nativeElement } = this.el;\n        const mousedown$ = tuiTypedFromEvent(nativeElement, 'mousedown');\n        const mousemove$ = tuiTypedFromEvent(this.doc, 'mousemove');\n        const mouseup$ = tuiTypedFromEvent(this.doc, 'mouseup');\n        const mousedownWrapper$ = tuiTypedFromEvent(wrapper.nativeElement, 'mousedown');\n        merge(mousedownWrapper$.pipe(tuiPreventDefault(), map(event => this.getScrolled(event, 0.5, 0.5))), mousedown$.pipe(tuiPreventDefault(), tuiStopPropagation(), switchMap(event => {\n            const rect = nativeElement.getBoundingClientRect();\n            const vertical = getOffsetVertical(event, rect);\n            const horizontal = getOffsetHorizontal(event, rect);\n            return mousemove$.pipe(map(event => this.getScrolled(event, vertical, horizontal)), takeUntil(mouseup$));\n        })))\n            .pipe(tuiZonefree(ngZone), takeUntil(destroy$))\n            .subscribe(([scrollTop, scrollLeft]) => {\n            const [x, y] = this.viewportScroller.getScrollPosition();\n            if (!this.container) {\n                this.viewportScroller.scrollToPosition([\n                    this.tuiScrollbar === 'vertical' ? x : scrollLeft,\n                    this.tuiScrollbar === 'vertical' ? scrollTop : y,\n                ]);\n                return;\n            }\n            if (this.tuiScrollbar === 'vertical') {\n                renderer.setProperty(this.container.nativeElement, 'scrollTop', scrollTop);\n            }\n            else {\n                renderer.setProperty(this.container.nativeElement, 'scrollLeft', scrollLeft);\n            }\n        });\n        merge(fromEvent(this.container ? this.container.nativeElement : this.win, 'scroll'), animationFrame$.pipe(throttleTime(POLLING_TIME)))\n            .pipe(tuiZonefree(ngZone), takeUntil(destroy$))\n            .subscribe(() => {\n            if (this.tuiScrollbar === 'vertical') {\n                renderer.setStyle(nativeElement, 'top', `${this.thumb * 100}%`);\n                renderer.setStyle(nativeElement, 'height', `${this.view * 100}%`);\n            }\n            else {\n                renderer.setStyle(nativeElement, 'left', `${this.thumb * 100}%`);\n                renderer.setStyle(nativeElement, 'width', `${this.view * 100}%`);\n            }\n        });\n    }\n    get scrolled() {\n        const { scrollTop, scrollHeight, clientHeight, scrollLeft, scrollWidth, clientWidth, } = this.computedContainer;\n        return this.tuiScrollbar === 'vertical'\n            ? scrollTop / (scrollHeight - clientHeight)\n            : scrollLeft / (scrollWidth - clientWidth);\n    }\n    get compensation() {\n        const { clientHeight, scrollHeight, clientWidth, scrollWidth } = this.computedContainer;\n        if (((clientHeight * clientHeight) / scrollHeight > MIN_WIDTH &&\n            this.tuiScrollbar === 'vertical') ||\n            ((clientWidth * clientWidth) / scrollWidth > MIN_WIDTH &&\n                this.tuiScrollbar === 'horizontal')) {\n            return 0;\n        }\n        return this.tuiScrollbar === 'vertical'\n            ? MIN_WIDTH / clientHeight\n            : MIN_WIDTH / clientWidth;\n    }\n    get thumb() {\n        const compensation = this.compensation || this.view;\n        return this.scrolled * (1 - compensation);\n    }\n    get view() {\n        const { clientHeight, scrollHeight, clientWidth, scrollWidth } = this.computedContainer;\n        return this.tuiScrollbar === 'vertical'\n            ? Math.ceil((clientHeight / scrollHeight) * 100) / 100\n            : Math.ceil((clientWidth / scrollWidth) * 100) / 100;\n    }\n    get computedContainer() {\n        var _a;\n        return ((_a = this.container) === null || _a === void 0 ? void 0 : _a.nativeElement) || this.doc.documentElement;\n    }\n    getScrolled({ clientY, clientX }, offsetVertical, offsetHorizontal) {\n        const { offsetHeight, offsetWidth } = this.el.nativeElement;\n        const { top, left, width, height } = this.wrapper.nativeElement.getBoundingClientRect();\n        const maxTop = this.computedContainer.scrollHeight - height;\n        const maxLeft = this.computedContainer.scrollWidth - width;\n        const scrolledTop = (clientY - top - offsetHeight * offsetVertical) / (height - offsetHeight);\n        const scrolledLeft = (clientX - left - offsetWidth * offsetHorizontal) / (width - offsetWidth);\n        return [maxTop * scrolledTop, maxLeft * scrolledLeft];\n    }\n}\nTuiScrollbarDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollbarDirective, deps: [{ token: NgZone }, { token: Renderer2 }, { token: TuiDestroyService, self: true }, { token: ANIMATION_FRAME }, { token: TUI_ELEMENT_REF }, { token: TUI_SCROLL_REF, optional: true }, { token: DOCUMENT }, { token: WINDOW }, { token: ElementRef }, { token: ViewportScroller }], target: i0.ɵɵFactoryTarget.Directive });\nTuiScrollbarDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiScrollbarDirective, selector: \"[tuiScrollbar]\", inputs: { tuiScrollbar: \"tuiScrollbar\" }, providers: [TuiDestroyService], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollbarDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[tuiScrollbar]',\n                    providers: [TuiDestroyService],\n                }]\n        }], ctorParameters: function () { return [{ type: i0.NgZone, decorators: [{\n                    type: Inject,\n                    args: [NgZone]\n                }] }, { type: i0.Renderer2, decorators: [{\n                    type: Inject,\n                    args: [Renderer2]\n                }] }, { type: i1.Observable, decorators: [{\n                    type: Self\n                }, {\n                    type: Inject,\n                    args: [TuiDestroyService]\n                }] }, { type: i1.Observable, decorators: [{\n                    type: Inject,\n                    args: [ANIMATION_FRAME]\n                }] }, { type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [TUI_ELEMENT_REF]\n                }] }, { type: i0.ElementRef, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [TUI_SCROLL_REF]\n                }] }, { type: Document, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: Window, decorators: [{\n                    type: Inject,\n                    args: [WINDOW]\n                }] }, { type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [ElementRef]\n                }] }, { type: i1$1.ViewportScroller, decorators: [{\n                    type: Inject,\n                    args: [ViewportScroller]\n                }] }]; }, propDecorators: { tuiScrollbar: [{\n                type: Input\n            }] } });\nfunction getOffsetVertical({ clientY }, { top, height }) {\n    return (clientY - top) / height;\n}\nfunction getOffsetHorizontal({ clientX }, { left, width }) {\n    return (clientX - left) / width;\n}\n\nclass TuiScrollControlsComponent {\n    constructor(options, ngZone, doc, scrollRef, animationFrame$, mode$) {\n        this.options = options;\n        this.ngZone = ngZone;\n        this.doc = doc;\n        this.scrollRef = scrollRef;\n        this.animationFrame$ = animationFrame$;\n        this.mode$ = mode$;\n        this.refresh$ = this.animationFrame$.pipe(throttleTime(300), map(() => this.scrollbars), startWith([false, false]), distinctUntilChanged((a, b) => a[0] === b[0] && a[1] === b[1]), tuiZoneOptimized(this.ngZone));\n        this.animation = Object.assign({ value: '' }, this.options);\n    }\n    get scrollbars() {\n        const { clientHeight, scrollHeight, clientWidth, scrollWidth } = this.scrollRef\n            ? this.scrollRef.nativeElement\n            : this.doc.documentElement;\n        return [\n            Math.ceil((clientHeight / scrollHeight) * 100) < 100,\n            Math.ceil((clientWidth / scrollWidth) * 100) < 100,\n        ];\n    }\n}\nTuiScrollControlsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollControlsComponent, deps: [{ token: TUI_ANIMATION_OPTIONS }, { token: NgZone }, { token: DOCUMENT }, { token: TUI_SCROLL_REF, optional: true }, { token: ANIMATION_FRAME }, { token: TUI_MODE }], target: i0.ɵɵFactoryTarget.Component });\nTuiScrollControlsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiScrollControlsComponent, selector: \"tui-scroll-controls\", host: { listeners: { \"$.data-mode.attr\": \"mode$\" } }, providers: [MODE_PROVIDER], ngImport: i0, template: \"<ng-container *ngIf=\\\"refresh$ | async as bars\\\">\\n    <div\\n        *ngIf=\\\"bars[0]\\\"\\n        tuiScrollbarWrapper\\n        class=\\\"t-bar t-bar_vertical\\\"\\n        [@tuiFadeIn]=\\\"animation\\\"\\n        [class.t-bar_has-horizontal]=\\\"bars[1]\\\"\\n    >\\n        <div\\n            tuiScrollbar=\\\"vertical\\\"\\n            class=\\\"t-thumb\\\"\\n        ></div>\\n    </div>\\n    <div\\n        *ngIf=\\\"bars[1]\\\"\\n        tuiScrollbarWrapper\\n        class=\\\"t-bar t-bar_horizontal\\\"\\n        [@tuiFadeIn]=\\\"animation\\\"\\n        [class.t-bar_has-vertical]=\\\"bars[0]\\\"\\n    >\\n        <div\\n            tuiScrollbar=\\\"horizontal\\\"\\n            class=\\\"t-thumb\\\"\\n        ></div>\\n    </div>\\n</ng-container>\\n\", styles: [\":host{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;min-width:calc(100% - 1px);min-height:calc(100% - 1px);max-width:calc(100% - 1px);max-height:calc(100% - 1px);float:left;margin-right:calc(-100% + 1px);-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:calc(-100% + 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar{position:absolute;right:0;bottom:0;pointer-events:auto}.t-bar_vertical{top:0;width:.875rem}.t-bar_horizontal{left:0;height:.875rem}.t-bar_has-horizontal{bottom:.5rem}.t-bar_has-vertical{right:.5rem}.t-thumb{transition-property:all;transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;background:var(--tui-text-01);background-clip:content-box;box-sizing:border-box;transition-property:width,height;opacity:.2}.t-thumb:hover{opacity:.24}.t-thumb:active{opacity:.48}:host[data-mode=onDark] .t-thumb{background-color:var(--tui-text-01-night)}.t-bar_vertical .t-thumb{right:0;width:.75rem;min-height:1.25rem}.t-bar_vertical:hover .t-thumb,.t-bar_vertical .t-thumb:active{width:.875rem}.t-bar_horizontal .t-thumb{bottom:0;height:.75rem;min-width:1.25rem}.t-bar_horizontal:hover .t-thumb,.t-bar_horizontal .t-thumb:active{height:.875rem}\\n\"], directives: [{ type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: TuiScrollbarWrapperDirective, selector: \"[tuiScrollbarWrapper]\" }, { type: TuiScrollbarDirective, selector: \"[tuiScrollbar]\", inputs: [\"tuiScrollbar\"] }], pipes: { \"async\": i1$1.AsyncPipe }, animations: [tuiFadeIn], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollControlsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'tui-scroll-controls',\n                    templateUrl: './scroll-controls.template.html',\n                    styleUrls: ['./scroll-controls.style.less'],\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    animations: [tuiFadeIn],\n                    providers: [MODE_PROVIDER],\n                    host: {\n                        '($.data-mode.attr)': 'mode$',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_ANIMATION_OPTIONS]\n                }] }, { type: i0.NgZone, decorators: [{\n                    type: Inject,\n                    args: [NgZone]\n                }] }, { type: Document, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i0.ElementRef, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [TUI_SCROLL_REF]\n                }] }, { type: i1.Observable, decorators: [{\n                    type: Inject,\n                    args: [ANIMATION_FRAME]\n                }] }, { type: i1.Observable, decorators: [{\n                    type: Inject,\n                    args: [TUI_MODE]\n                }] }]; } });\n\nclass TuiScrollControlsModule {\n}\nTuiScrollControlsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollControlsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTuiScrollControlsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollControlsModule, declarations: [TuiScrollbarDirective,\n        TuiScrollbarWrapperDirective,\n        TuiScrollControlsComponent], imports: [CommonModule, TuiLetModule], exports: [TuiScrollControlsComponent] });\nTuiScrollControlsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollControlsModule, imports: [[CommonModule, TuiLetModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiScrollControlsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, TuiLetModule],\n                    declarations: [\n                        TuiScrollbarDirective,\n                        TuiScrollbarWrapperDirective,\n                        TuiScrollControlsComponent,\n                    ],\n                    exports: [TuiScrollControlsComponent],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiScrollControlsComponent, TuiScrollControlsModule, TuiScrollbarDirective };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}