{"ast":null,"code":"import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Output, Input, EventEmitter, ChangeDetectorRef, TemplateRef, Component, ChangeDetectionStrategy, HostBinding, ContentChildren, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiTypedFromEvent, ALWAYS_FALSE_HANDLER, ALWAYS_TRUE_HANDLER, tuiIfMap, EMPTY_QUERY, tuiClamp, TUI_IS_MOBILE, TuiItemDirective, tuiDefaultProp, tuiPure, TuiPanModule, TuiSwipeModule, TuiItemModule } from '@taiga-ui/cdk';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { filter, throttleTime, map, tap } from 'rxjs/operators';\nimport * as i3 from '@ng-web-apis/intersection-observer';\nimport { IntersectionObserverModule } from '@ng-web-apis/intersection-observer';\nimport { PAGE_VISIBILITY } from '@ng-web-apis/common';\nimport * as i1 from 'rxjs';\nimport { Observable, BehaviorSubject, merge, combineLatest, interval } from 'rxjs';\nimport { tuiButtonOptionsProvider } from '@taiga-ui/core';\nfunction TuiCarouselComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiCarouselComponent_fieldset_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"fieldset\", 5);\n    i0.ɵɵlistener(\"waIntersectionObservee\", function TuiCarouselComponent_fieldset_5_Template_fieldset_waIntersectionObservee_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onIntersection($event[0], i_r3));\n    });\n    i0.ɵɵelementContainer(1, 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isDisabled(i_r3))(\"ngStyle\", ctx_r1.getStyle(ctx_r1.itemsCount));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", item_r2);\n  }\n}\nclass TuiCarouselScrollDirective {\n  constructor(el) {\n    this.el = el;\n    this.tuiCarouselScroll = tuiTypedFromEvent(this.el.nativeElement, 'wheel').pipe(filter(({\n      deltaX\n    }) => Math.abs(deltaX) > 20), throttleTime(500), map(({\n      deltaX\n    }) => Math.sign(deltaX)), tap(() => {\n      // So we always have space to scroll and overflow-behavior saves us from back nav\n      this.el.nativeElement.scrollLeft = 10;\n    }));\n  }\n}\nTuiCarouselScrollDirective.ɵfac = function TuiCarouselScrollDirective_Factory(t) {\n  return new (t || TuiCarouselScrollDirective)(i0.ɵɵdirectiveInject(ElementRef));\n};\nTuiCarouselScrollDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TuiCarouselScrollDirective,\n  selectors: [[\"\", \"tuiCarouselScroll\", \"\"]],\n  outputs: {\n    tuiCarouselScroll: \"tuiCarouselScroll\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCarouselScrollDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[tuiCarouselScroll]'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [ElementRef]\n      }]\n    }];\n  }, {\n    tuiCarouselScroll: [{\n      type: Output\n    }]\n  });\n})();\nclass TuiCarouselDirective extends Observable {\n  constructor(el, visible$) {\n    super(subscriber => this.output$.subscribe(subscriber));\n    this.el = el;\n    this.visible$ = visible$;\n    this.duration$ = new BehaviorSubject(0);\n    this.running$ = merge(tuiTypedFromEvent(this.el.nativeElement, 'mouseenter').pipe(map(ALWAYS_FALSE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'touchstart').pipe(map(ALWAYS_FALSE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'touchend').pipe(map(ALWAYS_TRUE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'mouseleave').pipe(map(ALWAYS_TRUE_HANDLER)), this.visible$);\n    this.output$ = combineLatest([this.duration$, this.running$]).pipe(tuiIfMap(([duration]) => interval(duration), values => values.every(Boolean)));\n  }\n  set duration(duration) {\n    this.duration$.next(duration);\n  }\n  set index(_) {\n    this.duration$.next(this.duration$.value);\n  }\n}\nTuiCarouselDirective.ɵfac = function TuiCarouselDirective_Factory(t) {\n  return new (t || TuiCarouselDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(PAGE_VISIBILITY));\n};\nTuiCarouselDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TuiCarouselDirective,\n  selectors: [[\"tui-carousel\"]],\n  inputs: {\n    duration: \"duration\",\n    index: \"index\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCarouselDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'tui-carousel'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [ElementRef]\n      }]\n    }, {\n      type: i1.Observable,\n      decorators: [{\n        type: Inject,\n        args: [PAGE_VISIBILITY]\n      }]\n    }];\n  }, {\n    duration: [{\n      type: Input\n    }],\n    index: [{\n      type: Input\n    }]\n  });\n})();\nclass TuiCarouselAutoscrollDirective {\n  constructor(tuiCarouselAutoscroll) {\n    this.tuiCarouselAutoscroll = tuiCarouselAutoscroll;\n  }\n}\nTuiCarouselAutoscrollDirective.ɵfac = function TuiCarouselAutoscrollDirective_Factory(t) {\n  return new (t || TuiCarouselAutoscrollDirective)(i0.ɵɵdirectiveInject(TuiCarouselDirective));\n};\nTuiCarouselAutoscrollDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TuiCarouselAutoscrollDirective,\n  selectors: [[\"\", \"tuiCarouselAutoscroll\", \"\"]],\n  outputs: {\n    tuiCarouselAutoscroll: \"tuiCarouselAutoscroll\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCarouselAutoscrollDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[tuiCarouselAutoscroll]',\n      outputs: ['tuiCarouselAutoscroll']\n    }]\n  }], function () {\n    return [{\n      type: i1.Observable,\n      decorators: [{\n        type: Inject,\n        args: [TuiCarouselDirective]\n      }]\n    }];\n  }, null);\n})();\nclass TuiCarouselComponent {\n  constructor(cdr, el, isMobile) {\n    this.cdr = cdr;\n    this.el = el;\n    this.isMobile = isMobile;\n    this.translate = 0;\n    this.draggable = false;\n    this.itemsCount = 1;\n    this.index = 0;\n    this.indexChange = new EventEmitter();\n    this.items = EMPTY_QUERY;\n    this.transitioned = true;\n  }\n  get transform() {\n    const x = this.transitioned ? this.computedTranslate : this.translate;\n    return `translateX(${100 * x}%)`;\n  }\n  onTransitioned(transitioned) {\n    this.transitioned = transitioned;\n    if (!transitioned) {\n      this.translate = this.computedTranslate;\n    }\n  }\n  getStyle(itemsCount) {\n    const percent = `${100 / itemsCount}%`;\n    return {\n      flexBasis: percent,\n      minWidth: percent,\n      maxWidth: percent\n    };\n  }\n  next() {\n    this.updateIndex(this.index + 1);\n  }\n  prev() {\n    this.updateIndex(this.index - 1);\n  }\n  isDisabled(index) {\n    return index < this.index || index > this.index + this.itemsCount;\n  }\n  onIntersection({\n    intersectionRatio\n  }, index) {\n    if (intersectionRatio && intersectionRatio !== 1 && !this.transitioned) {\n      this.updateIndex(index - Math.floor(this.itemsCount / 2));\n    }\n  }\n  onScroll(delta) {\n    if (!this.isMobile) {\n      this.updateIndex(this.index + delta);\n    }\n  }\n  onPan(x) {\n    if (!this.computedDraggable) {\n      return;\n    }\n    const {\n      clientWidth\n    } = this.el.nativeElement;\n    const min = 1 - this.items.length / this.itemsCount;\n    this.translate = tuiClamp(x / clientWidth + this.translate, min, 0);\n  }\n  onSwipe(direction) {\n    if (direction === 'left') {\n      this.next();\n    } else if (direction === 'right') {\n      this.prev();\n    }\n  }\n  onAutoscroll() {\n    this.updateIndex(this.index === this.items.length - 1 ? 0 : this.index + 1);\n  }\n  get computedTranslate() {\n    return -this.index / this.itemsCount;\n  }\n  get computedDraggable() {\n    return this.isMobile || this.draggable;\n  }\n  updateIndex(index) {\n    this.index = tuiClamp(index, 0, this.items.length - 1);\n    this.indexChange.emit(this.index);\n    this.cdr.markForCheck();\n  }\n}\nTuiCarouselComponent.ɵfac = function TuiCarouselComponent_Factory(t) {\n  return new (t || TuiCarouselComponent)(i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_IS_MOBILE));\n};\nTuiCarouselComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TuiCarouselComponent,\n  selectors: [[\"tui-carousel\"]],\n  contentQueries: function TuiCarouselComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, TuiItemDirective, 4, TemplateRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.items = _t);\n    }\n  },\n  hostVars: 4,\n  hostBindings: function TuiCarouselComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"touchstart\", function TuiCarouselComponent_touchstart_HostBindingHandler() {\n        return ctx.onTransitioned(false);\n      })(\"touchend\", function TuiCarouselComponent_touchend_HostBindingHandler() {\n        return ctx.onTransitioned(true);\n      })(\"mousedown\", function TuiCarouselComponent_mousedown_HostBindingHandler() {\n        return ctx.onTransitioned(false);\n      })(\"mouseup.silent\", function TuiCarouselComponent_mouseup_silent_HostBindingHandler() {\n        return ctx.onTransitioned(true);\n      }, false, i0.ɵɵresolveDocument);\n    }\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"_draggable\", ctx.draggable)(\"_transitioned\", ctx.transitioned);\n    }\n  },\n  inputs: {\n    draggable: \"draggable\",\n    itemsCount: \"itemsCount\",\n    index: \"index\"\n  },\n  outputs: {\n    indexChange: \"indexChange\"\n  },\n  decls: 6,\n  vars: 6,\n  consts: [[4, \"ngIf\"], [1, \"t-scroller\", 3, \"tuiCarouselScroll\"], [\"waIntersectionRoot\", \"\", \"waIntersectionObserver\", \"\", \"waIntersectionThreshold\", \"0,1\", \"waIntersectionRootMargin\", \"100px 1000000px 100px -51%\", 1, \"t-wrapper\"], [1, \"t-items\", 3, \"tuiPan\", \"tuiSwipe\", \"tuiCarouselAutoscroll\"], [\"class\", \"t-item\", 3, \"disabled\", \"ngStyle\", \"waIntersectionObservee\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-item\", 3, \"disabled\", \"ngStyle\", \"waIntersectionObservee\"], [3, \"ngTemplateOutlet\"]],\n  template: function TuiCarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TuiCarouselComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵlistener(\"tuiCarouselScroll\", function TuiCarouselComponent_Template_div_tuiCarouselScroll_2_listener($event) {\n        return ctx.onScroll($event);\n      });\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3);\n      i0.ɵɵlistener(\"tuiPan\", function TuiCarouselComponent_Template_div_tuiPan_4_listener($event) {\n        return ctx.onPan($event[0]);\n      })(\"tuiSwipe\", function TuiCarouselComponent_Template_div_tuiSwipe_4_listener($event) {\n        return ctx.onSwipe($event.direction);\n      })(\"tuiCarouselAutoscroll\", function TuiCarouselComponent_Template_div_tuiCarouselAutoscroll_4_listener() {\n        return ctx.onAutoscroll();\n      });\n      i0.ɵɵtemplate(5, TuiCarouselComponent_fieldset_5_Template, 2, 3, \"fieldset\", 4);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 4, ctx.items.changes));\n      i0.ɵɵadvance(4);\n      i0.ɵɵstyleProp(\"transform\", ctx.transform);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.items);\n    }\n  },\n  dependencies: [i1$1.NgIf, TuiCarouselScrollDirective, i3.IntersectionRootDirective, i3.IntersectionObserverDirective, i4.TuiPanDirective, i4.TuiSwipeDirective, TuiCarouselAutoscrollDirective, i1$1.NgForOf, i1$1.NgStyle, i3.IntersectionObserveeDirective, i1$1.NgTemplateOutlet, i1$1.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}._draggable[_nghost-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}._draggable[_nghost-%COMP%]:hover{cursor:grab}._draggable[_nghost-%COMP%]:active{cursor:grabbing}.t-items[_ngcontent-%COMP%]{display:flex}._transitioned[_nghost-%COMP%]   .t-items[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:var(--tui-carousel-padding, 0 1.25rem);flex:1;min-width:100%;max-width:100%;box-sizing:border-box;border:none;margin:0}.t-wrapper[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;left:0;right:0;min-width:100%;overflow:hidden}.t-scroller[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;display:flex;overflow:auto;overscroll-behavior-x:none;padding-bottom:2rem;margin-bottom:-2rem}.t-scroller[_ngcontent-%COMP%]::-webkit-scrollbar, .t-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:transparent;width:0;height:0}.t-scroller[_ngcontent-%COMP%]:before, .t-scroller[_ngcontent-%COMP%]:after{content:\\\"\\\";display:block;min-width:1rem}\"],\n  changeDetection: 0\n});\n__decorate([tuiDefaultProp()], TuiCarouselComponent.prototype, \"draggable\", void 0);\n__decorate([tuiDefaultProp()], TuiCarouselComponent.prototype, \"itemsCount\", void 0);\n__decorate([tuiDefaultProp()], TuiCarouselComponent.prototype, \"index\", void 0);\n__decorate([tuiPure], TuiCarouselComponent.prototype, \"getStyle\", null);\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCarouselComponent, [{\n    type: Component,\n    args: [{\n      selector: 'tui-carousel',\n      templateUrl: './carousel.template.html',\n      styleUrls: ['./carousel.style.less'],\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef,\n      decorators: [{\n        type: Inject,\n        args: [ChangeDetectorRef]\n      }]\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [ElementRef]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_IS_MOBILE]\n      }]\n    }];\n  }, {\n    draggable: [{\n      type: Input\n    }, {\n      type: HostBinding,\n      args: ['class._draggable']\n    }],\n    itemsCount: [{\n      type: Input\n    }],\n    index: [{\n      type: Input\n    }],\n    indexChange: [{\n      type: Output\n    }],\n    items: [{\n      type: ContentChildren,\n      args: [TuiItemDirective, {\n        read: TemplateRef\n      }]\n    }],\n    transitioned: [{\n      type: HostBinding,\n      args: ['class._transitioned']\n    }],\n    onTransitioned: [{\n      type: HostListener,\n      args: ['touchstart', ['false']]\n    }, {\n      type: HostListener,\n      args: ['touchend', ['true']]\n    }, {\n      type: HostListener,\n      args: ['mousedown', ['false']]\n    }, {\n      type: HostListener,\n      args: ['document:mouseup.silent', ['true']]\n    }],\n    getStyle: []\n  });\n})();\nclass TuiCarouselButtonsDirective {}\nTuiCarouselButtonsDirective.ɵfac = function TuiCarouselButtonsDirective_Factory(t) {\n  return new (t || TuiCarouselButtonsDirective)();\n};\nTuiCarouselButtonsDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TuiCarouselButtonsDirective,\n  selectors: [[\"\", \"tuiCarouselButtons\", \"\"]],\n  features: [i0.ɵɵProvidersFeature([tuiButtonOptionsProvider({\n    appearance: \"secondary\" /* Secondary */,\n    shape: 'rounded',\n    size: 'm'\n  })])]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCarouselButtonsDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[tuiCarouselButtons]',\n      providers: [tuiButtonOptionsProvider({\n        appearance: \"secondary\" /* Secondary */,\n        shape: 'rounded',\n        size: 'm'\n      })]\n    }]\n  }], null, null);\n})();\nclass TuiCarouselModule {}\nTuiCarouselModule.ɵfac = function TuiCarouselModule_Factory(t) {\n  return new (t || TuiCarouselModule)();\n};\nTuiCarouselModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: TuiCarouselModule\n});\nTuiCarouselModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, IntersectionObserverModule, TuiPanModule, TuiSwipeModule, TuiItemModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCarouselModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, IntersectionObserverModule, TuiPanModule, TuiSwipeModule, TuiItemModule],\n      declarations: [TuiCarouselComponent, TuiCarouselDirective, TuiCarouselButtonsDirective, TuiCarouselAutoscrollDirective, TuiCarouselScrollDirective],\n      exports: [TuiCarouselComponent, TuiCarouselDirective, TuiCarouselButtonsDirective, TuiItemDirective]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCarouselAutoscrollDirective, TuiCarouselButtonsDirective, TuiCarouselComponent, TuiCarouselDirective, TuiCarouselModule, TuiCarouselScrollDirective };","map":{"version":3,"names":["__decorate","i0","ElementRef","Directive","Inject","Output","Input","EventEmitter","ChangeDetectorRef","TemplateRef","Component","ChangeDetectionStrategy","HostBinding","ContentChildren","HostListener","NgModule","i4","tuiTypedFromEvent","ALWAYS_FALSE_HANDLER","ALWAYS_TRUE_HANDLER","tuiIfMap","EMPTY_QUERY","tuiClamp","TUI_IS_MOBILE","TuiItemDirective","tuiDefaultProp","tuiPure","TuiPanModule","TuiSwipeModule","TuiItemModule","i1$1","CommonModule","filter","throttleTime","map","tap","i3","IntersectionObserverModule","PAGE_VISIBILITY","i1","Observable","BehaviorSubject","merge","combineLatest","interval","tuiButtonOptionsProvider","TuiCarouselScrollDirective","constructor","el","tuiCarouselScroll","nativeElement","pipe","deltaX","Math","abs","sign","scrollLeft","ɵfac","ɵdir","type","args","selector","decorators","TuiCarouselDirective","visible$","subscriber","output$","subscribe","duration$","running$","duration","values","every","Boolean","next","index","_","value","TuiCarouselAutoscrollDirective","tuiCarouselAutoscroll","outputs","TuiCarouselComponent","cdr","isMobile","translate","draggable","itemsCount","indexChange","items","transitioned","transform","x","computedTranslate","onTransitioned","getStyle","percent","flexBasis","minWidth","maxWidth","updateIndex","prev","isDisabled","onIntersection","intersectionRatio","floor","onScroll","delta","onPan","computedDraggable","clientWidth","min","length","onSwipe","direction","onAutoscroll","emit","markForCheck","ɵcmp","NgIf","IntersectionRootDirective","IntersectionObserverDirective","TuiPanDirective","TuiSwipeDirective","NgForOf","NgStyle","IntersectionObserveeDirective","NgTemplateOutlet","AsyncPipe","prototype","templateUrl","styleUrls","changeDetection","OnPush","undefined","read","TuiCarouselButtonsDirective","appearance","shape","size","providers","TuiCarouselModule","ɵmod","ɵinj","imports","declarations","exports"],"sources":["C:/Users/denis/PycharmProjects/example_project/frontend/node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-carousel.js"],"sourcesContent":["import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Output, Input, EventEmitter, ChangeDetectorRef, TemplateRef, Component, ChangeDetectionStrategy, HostBinding, ContentChildren, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiTypedFromEvent, ALWAYS_FALSE_HANDLER, ALWAYS_TRUE_HANDLER, tuiIfMap, EMPTY_QUERY, tuiClamp, TUI_IS_MOBILE, TuiItemDirective, tuiDefaultProp, tuiPure, TuiPanModule, TuiSwipeModule, TuiItemModule } from '@taiga-ui/cdk';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { filter, throttleTime, map, tap } from 'rxjs/operators';\nimport * as i3 from '@ng-web-apis/intersection-observer';\nimport { IntersectionObserverModule } from '@ng-web-apis/intersection-observer';\nimport { PAGE_VISIBILITY } from '@ng-web-apis/common';\nimport * as i1 from 'rxjs';\nimport { Observable, BehaviorSubject, merge, combineLatest, interval } from 'rxjs';\nimport { tuiButtonOptionsProvider } from '@taiga-ui/core';\n\nclass TuiCarouselScrollDirective {\n    constructor(el) {\n        this.el = el;\n        this.tuiCarouselScroll = tuiTypedFromEvent(this.el.nativeElement, 'wheel').pipe(filter(({ deltaX }) => Math.abs(deltaX) > 20), throttleTime(500), map(({ deltaX }) => Math.sign(deltaX)), tap(() => {\n            // So we always have space to scroll and overflow-behavior saves us from back nav\n            this.el.nativeElement.scrollLeft = 10;\n        }));\n    }\n}\nTuiCarouselScrollDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselScrollDirective, deps: [{ token: ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\nTuiCarouselScrollDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiCarouselScrollDirective, selector: \"[tuiCarouselScroll]\", outputs: { tuiCarouselScroll: \"tuiCarouselScroll\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselScrollDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[tuiCarouselScroll]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [ElementRef]\n                }] }]; }, propDecorators: { tuiCarouselScroll: [{\n                type: Output\n            }] } });\n\nclass TuiCarouselDirective extends Observable {\n    constructor(el, visible$) {\n        super(subscriber => this.output$.subscribe(subscriber));\n        this.el = el;\n        this.visible$ = visible$;\n        this.duration$ = new BehaviorSubject(0);\n        this.running$ = merge(tuiTypedFromEvent(this.el.nativeElement, 'mouseenter').pipe(map(ALWAYS_FALSE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'touchstart').pipe(map(ALWAYS_FALSE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'touchend').pipe(map(ALWAYS_TRUE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'mouseleave').pipe(map(ALWAYS_TRUE_HANDLER)), this.visible$);\n        this.output$ = combineLatest([this.duration$, this.running$]).pipe(tuiIfMap(([duration]) => interval(duration), values => values.every(Boolean)));\n    }\n    set duration(duration) {\n        this.duration$.next(duration);\n    }\n    set index(_) {\n        this.duration$.next(this.duration$.value);\n    }\n}\nTuiCarouselDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselDirective, deps: [{ token: ElementRef }, { token: PAGE_VISIBILITY }], target: i0.ɵɵFactoryTarget.Directive });\nTuiCarouselDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiCarouselDirective, selector: \"tui-carousel\", inputs: { duration: \"duration\", index: \"index\" }, usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'tui-carousel',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [ElementRef]\n                }] }, { type: i1.Observable, decorators: [{\n                    type: Inject,\n                    args: [PAGE_VISIBILITY]\n                }] }]; }, propDecorators: { duration: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }] } });\n\nclass TuiCarouselAutoscrollDirective {\n    constructor(tuiCarouselAutoscroll) {\n        this.tuiCarouselAutoscroll = tuiCarouselAutoscroll;\n    }\n}\nTuiCarouselAutoscrollDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselAutoscrollDirective, deps: [{ token: TuiCarouselDirective }], target: i0.ɵɵFactoryTarget.Directive });\nTuiCarouselAutoscrollDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiCarouselAutoscrollDirective, selector: \"[tuiCarouselAutoscroll]\", outputs: { tuiCarouselAutoscroll: \"tuiCarouselAutoscroll\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselAutoscrollDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[tuiCarouselAutoscroll]',\n                    outputs: ['tuiCarouselAutoscroll'],\n                }]\n        }], ctorParameters: function () { return [{ type: i1.Observable, decorators: [{\n                    type: Inject,\n                    args: [TuiCarouselDirective]\n                }] }]; } });\n\nclass TuiCarouselComponent {\n    constructor(cdr, el, isMobile) {\n        this.cdr = cdr;\n        this.el = el;\n        this.isMobile = isMobile;\n        this.translate = 0;\n        this.draggable = false;\n        this.itemsCount = 1;\n        this.index = 0;\n        this.indexChange = new EventEmitter();\n        this.items = EMPTY_QUERY;\n        this.transitioned = true;\n    }\n    get transform() {\n        const x = this.transitioned ? this.computedTranslate : this.translate;\n        return `translateX(${100 * x}%)`;\n    }\n    onTransitioned(transitioned) {\n        this.transitioned = transitioned;\n        if (!transitioned) {\n            this.translate = this.computedTranslate;\n        }\n    }\n    getStyle(itemsCount) {\n        const percent = `${100 / itemsCount}%`;\n        return {\n            flexBasis: percent,\n            minWidth: percent,\n            maxWidth: percent,\n        };\n    }\n    next() {\n        this.updateIndex(this.index + 1);\n    }\n    prev() {\n        this.updateIndex(this.index - 1);\n    }\n    isDisabled(index) {\n        return index < this.index || index > this.index + this.itemsCount;\n    }\n    onIntersection({ intersectionRatio }, index) {\n        if (intersectionRatio && intersectionRatio !== 1 && !this.transitioned) {\n            this.updateIndex(index - Math.floor(this.itemsCount / 2));\n        }\n    }\n    onScroll(delta) {\n        if (!this.isMobile) {\n            this.updateIndex(this.index + delta);\n        }\n    }\n    onPan(x) {\n        if (!this.computedDraggable) {\n            return;\n        }\n        const { clientWidth } = this.el.nativeElement;\n        const min = 1 - this.items.length / this.itemsCount;\n        this.translate = tuiClamp(x / clientWidth + this.translate, min, 0);\n    }\n    onSwipe(direction) {\n        if (direction === 'left') {\n            this.next();\n        }\n        else if (direction === 'right') {\n            this.prev();\n        }\n    }\n    onAutoscroll() {\n        this.updateIndex(this.index === this.items.length - 1 ? 0 : this.index + 1);\n    }\n    get computedTranslate() {\n        return -this.index / this.itemsCount;\n    }\n    get computedDraggable() {\n        return this.isMobile || this.draggable;\n    }\n    updateIndex(index) {\n        this.index = tuiClamp(index, 0, this.items.length - 1);\n        this.indexChange.emit(this.index);\n        this.cdr.markForCheck();\n    }\n}\nTuiCarouselComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselComponent, deps: [{ token: ChangeDetectorRef }, { token: ElementRef }, { token: TUI_IS_MOBILE }], target: i0.ɵɵFactoryTarget.Component });\nTuiCarouselComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiCarouselComponent, selector: \"tui-carousel\", inputs: { draggable: \"draggable\", itemsCount: \"itemsCount\", index: \"index\" }, outputs: { indexChange: \"indexChange\" }, host: { listeners: { \"touchstart\": \"onTransitioned(false)\", \"touchend\": \"onTransitioned(true)\", \"mousedown\": \"onTransitioned(false)\", \"document:mouseup.silent\": \"onTransitioned(true)\" }, properties: { \"class._draggable\": \"this.draggable\", \"class._transitioned\": \"this.transitioned\" } }, queries: [{ propertyName: \"items\", predicate: TuiItemDirective, read: TemplateRef }], ngImport: i0, template: \"<ng-container *ngIf=\\\"items.changes | async\\\"></ng-container>\\n<div\\n    class=\\\"t-scroller\\\"\\n    (tuiCarouselScroll)=\\\"onScroll($event)\\\"\\n>\\n    <div\\n        waIntersectionRoot\\n        waIntersectionObserver\\n        waIntersectionThreshold=\\\"0,1\\\"\\n        waIntersectionRootMargin=\\\"100px 1000000px 100px -51%\\\"\\n        class=\\\"t-wrapper\\\"\\n    >\\n        <div\\n            class=\\\"t-items\\\"\\n            [style.transform]=\\\"transform\\\"\\n            (tuiPan)=\\\"onPan($event[0])\\\"\\n            (tuiSwipe)=\\\"onSwipe($event.direction)\\\"\\n            (tuiCarouselAutoscroll)=\\\"onAutoscroll()\\\"\\n        >\\n            <fieldset\\n                *ngFor=\\\"let item of items; let i = index\\\"\\n                class=\\\"t-item\\\"\\n                [disabled]=\\\"isDisabled(i)\\\"\\n                [ngStyle]=\\\"getStyle(itemsCount)\\\"\\n                (waIntersectionObservee)=\\\"onIntersection($event[0], i)\\\"\\n            >\\n                <ng-container [ngTemplateOutlet]=\\\"item\\\"></ng-container>\\n            </fieldset>\\n        </div>\\n    </div>\\n</div>\\n\", styles: [\":host{position:relative;display:block;overflow:hidden}:host._draggable{-webkit-user-select:none;-moz-user-select:none;user-select:none}:host._draggable:hover{cursor:grab}:host._draggable:active{cursor:grabbing}.t-items{display:flex}:host._transitioned .t-items{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-item{display:flex;flex-direction:column;justify-content:center;padding:var(--tui-carousel-padding, 0 1.25rem);flex:1;min-width:100%;max-width:100%;box-sizing:border-box;border:none;margin:0}.t-wrapper{position:-webkit-sticky;position:sticky;left:0;right:0;min-width:100%;overflow:hidden}.t-scroller{scrollbar-width:none;-ms-overflow-style:none;display:flex;overflow:auto;overscroll-behavior-x:none;padding-bottom:2rem;margin-bottom:-2rem}.t-scroller::-webkit-scrollbar,.t-scroller::-webkit-scrollbar-thumb{background:transparent;width:0;height:0}.t-scroller:before,.t-scroller:after{content:\\\"\\\";display:block;min-width:1rem}\\n\"], directives: [{ type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: TuiCarouselScrollDirective, selector: \"[tuiCarouselScroll]\", outputs: [\"tuiCarouselScroll\"] }, { type: i3.IntersectionRootDirective, selector: \"[waIntersectionRoot]\" }, { type: i3.IntersectionObserverDirective, selector: \"[waIntersectionObserver]\", exportAs: [\"IntersectionObserver\"] }, { type: i4.TuiPanDirective, selector: \"[tuiPan]\", outputs: [\"tuiPan\"] }, { type: i4.TuiSwipeDirective, selector: \"[tuiSwipe]\", outputs: [\"tuiSwipe\"] }, { type: TuiCarouselAutoscrollDirective, selector: \"[tuiCarouselAutoscroll]\", outputs: [\"tuiCarouselAutoscroll\"] }, { type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { type: i3.IntersectionObserveeDirective, selector: \"[waIntersectionObservee]\", outputs: [\"waIntersectionObservee\"] }, { type: i1$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], pipes: { \"async\": i1$1.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\n__decorate([\n    tuiDefaultProp()\n], TuiCarouselComponent.prototype, \"draggable\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCarouselComponent.prototype, \"itemsCount\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCarouselComponent.prototype, \"index\", void 0);\n__decorate([\n    tuiPure\n], TuiCarouselComponent.prototype, \"getStyle\", null);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'tui-carousel',\n                    templateUrl: './carousel.template.html',\n                    styleUrls: ['./carousel.style.less'],\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef, decorators: [{\n                    type: Inject,\n                    args: [ChangeDetectorRef]\n                }] }, { type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [ElementRef]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_IS_MOBILE]\n                }] }]; }, propDecorators: { draggable: [{\n                type: Input\n            }, {\n                type: HostBinding,\n                args: ['class._draggable']\n            }], itemsCount: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }], indexChange: [{\n                type: Output\n            }], items: [{\n                type: ContentChildren,\n                args: [TuiItemDirective, { read: TemplateRef }]\n            }], transitioned: [{\n                type: HostBinding,\n                args: ['class._transitioned']\n            }], onTransitioned: [{\n                type: HostListener,\n                args: ['touchstart', ['false']]\n            }, {\n                type: HostListener,\n                args: ['touchend', ['true']]\n            }, {\n                type: HostListener,\n                args: ['mousedown', ['false']]\n            }, {\n                type: HostListener,\n                args: ['document:mouseup.silent', ['true']]\n            }], getStyle: [] } });\n\nclass TuiCarouselButtonsDirective {\n}\nTuiCarouselButtonsDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselButtonsDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nTuiCarouselButtonsDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiCarouselButtonsDirective, selector: \"[tuiCarouselButtons]\", providers: [\n        tuiButtonOptionsProvider({\n            appearance: \"secondary\" /* Secondary */,\n            shape: 'rounded',\n            size: 'm',\n        }),\n    ], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselButtonsDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[tuiCarouselButtons]',\n                    providers: [\n                        tuiButtonOptionsProvider({\n                            appearance: \"secondary\" /* Secondary */,\n                            shape: 'rounded',\n                            size: 'm',\n                        }),\n                    ],\n                }]\n        }] });\n\nclass TuiCarouselModule {\n}\nTuiCarouselModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTuiCarouselModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselModule, declarations: [TuiCarouselComponent,\n        TuiCarouselDirective,\n        TuiCarouselButtonsDirective,\n        TuiCarouselAutoscrollDirective,\n        TuiCarouselScrollDirective], imports: [CommonModule,\n        IntersectionObserverModule,\n        TuiPanModule,\n        TuiSwipeModule,\n        TuiItemModule], exports: [TuiCarouselComponent,\n        TuiCarouselDirective,\n        TuiCarouselButtonsDirective,\n        TuiItemDirective] });\nTuiCarouselModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselModule, imports: [[\n            CommonModule,\n            IntersectionObserverModule,\n            TuiPanModule,\n            TuiSwipeModule,\n            TuiItemModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCarouselModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        IntersectionObserverModule,\n                        TuiPanModule,\n                        TuiSwipeModule,\n                        TuiItemModule,\n                    ],\n                    declarations: [\n                        TuiCarouselComponent,\n                        TuiCarouselDirective,\n                        TuiCarouselButtonsDirective,\n                        TuiCarouselAutoscrollDirective,\n                        TuiCarouselScrollDirective,\n                    ],\n                    exports: [\n                        TuiCarouselComponent,\n                        TuiCarouselDirective,\n                        TuiCarouselButtonsDirective,\n                        TuiItemDirective,\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCarouselAutoscrollDirective, TuiCarouselButtonsDirective, TuiCarouselComponent, TuiCarouselDirective, TuiCarouselModule, TuiCarouselScrollDirective };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}