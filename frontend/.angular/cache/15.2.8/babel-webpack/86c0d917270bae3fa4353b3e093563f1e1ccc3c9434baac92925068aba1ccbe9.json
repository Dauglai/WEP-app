{"ast":null,"code":"import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, ChangeDetectorRef, Component, ChangeDetectionStrategy, Optional, Inject, Self, Input, Output, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { TuiMonth, ALWAYS_FALSE_HANDLER, TUI_FIRST_DAY, TUI_LAST_DAY, tuiWatch, tuiIsString, TuiDayRange, tuiNullableSame, tuiObjectFromEntries, TuiDestroyService, tuiDefaultProp, tuiPure, TuiMapperPipeModule, TuiPreventDefaultModule } from '@taiga-ui/cdk';\nimport * as i2 from '@taiga-ui/core';\nimport { TUI_DEFAULT_MARKER_HANDLER, TuiCalendarModule, TuiSvgModule, TuiDataListModule } from '@taiga-ui/core';\nimport { MAX_DAY_RANGE_LENGTH_MAPPER } from '@taiga-ui/kit/constants';\nimport { TUI_CALENDAR_DATE_STREAM, TUI_OTHER_DATE_TEXT } from '@taiga-ui/kit/tokens';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/kit/internal/primitive-calendar-range';\nimport { TuiPrimitiveCalendarRangeModule } from '@taiga-ui/kit/internal/primitive-calendar-range';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from 'rxjs';\nconst _c0 = function (a0, a1, a2, a3) {\n  return [a0, a1, a2, a3, true];\n};\nconst _c1 = function (a0, a1, a2, a3) {\n  return [a0, a1, a2, a3, false];\n};\nfunction TuiCalendarRangeComponent_tui_primitive_calendar_range_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-primitive-calendar-range\", 2);\n    i0.ɵɵlistener(\"dayClick\", function TuiCalendarRangeComponent_tui_primitive_calendar_range_0_Template_tui_primitive_calendar_range_dayClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onDayClick($event));\n    });\n    i0.ɵɵpipe(1, \"tuiMapper\");\n    i0.ɵɵpipe(2, \"tuiMapper\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"markerHandler\", ctx_r0.markerHandler)(\"min\", i0.ɵɵpipeBindV(1, 6, i0.ɵɵpureFunction4(18, _c0, ctx_r0.min, ctx_r0.maxLengthMapper, ctx_r0.value, ctx_r0.maxLength)))(\"max\", i0.ɵɵpipeBindV(2, 12, i0.ɵɵpureFunction4(23, _c1, ctx_r0.max, ctx_r0.maxLengthMapper, ctx_r0.value, ctx_r0.maxLength)))(\"defaultViewedMonthFirst\", ctx_r0.defaultViewedMonth)(\"disabledItemHandler\", ctx_r0.calculatedDisabledItemHandler)(\"value\", ctx_r0.value);\n  }\n}\nfunction TuiCalendarRangeComponent_ng_template_1_button_5_tui_svg_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 9);\n  }\n}\nfunction TuiCalendarRangeComponent_ng_template_1_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"keydown.enter.prevent\", function TuiCalendarRangeComponent_ng_template_1_button_5_Template_button_keydown_enter_prevent_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.onItemSelect(item_r6));\n    })(\"keydown.space.prevent\", function TuiCalendarRangeComponent_ng_template_1_button_5_Template_button_keydown_space_prevent_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.onItemSelect(item_r6));\n    })(\"click\", function TuiCalendarRangeComponent_ng_template_1_button_5_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.onItemSelect(item_r6));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, TuiCalendarRangeComponent_ng_template_1_button_5_tui_svg_2_Template, 1, 0, \"tui-svg\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-checked\", ctx_r5.isItemActive(item_r6));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r6, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isItemActive(item_r6));\n  }\n}\nconst _c2 = function (a0, a1, a2, a3, a4, a5) {\n  return [a0, a1, a2, a3, a4, a5];\n};\nfunction TuiCalendarRangeComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"tui-calendar\", 4);\n    i0.ɵɵlistener(\"dayClick\", function TuiCalendarRangeComponent_ng_template_1_Template_tui_calendar_dayClick_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onDayClick($event));\n    });\n    i0.ɵɵpipe(2, \"tuiMapper\");\n    i0.ɵɵpipe(3, \"tuiMapper\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"tui-data-list\", 5);\n    i0.ɵɵtemplate(5, TuiCalendarRangeComponent_ng_template_1_button_5_Template, 3, 3, \"button\", 6);\n    i0.ɵɵpipe(6, \"tuiMapper\");\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r2.value)(\"markerHandler\", ctx_r2.markerHandler)(\"min\", i0.ɵɵpipeBindV(2, 7, i0.ɵɵpureFunction4(28, _c0, ctx_r2.min, ctx_r2.maxLengthMapper, ctx_r2.value, ctx_r2.maxLength)))(\"max\", i0.ɵɵpipeBindV(3, 13, i0.ɵɵpureFunction4(33, _c1, ctx_r2.max, ctx_r2.maxLengthMapper, ctx_r2.value, ctx_r2.maxLength)))(\"month\", ctx_r2.computedMonth)(\"disabledItemHandler\", ctx_r2.calculatedDisabledItemHandler);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBindV(6, 19, i0.ɵɵpureFunction6(38, _c2, ctx_r2.items, ctx_r2.mapper, ctx_r2.min, ctx_r2.max, ctx_r2.minLength, i0.ɵɵpipeBind1(7, 26, ctx_r2.otherDateText$))));\n  }\n}\nclass TuiCalendarRangeComponent {\n  constructor(valueChanges, cdr, destroy$, otherDateText$) {\n    this.otherDateText$ = otherDateText$;\n    this.defaultViewedMonth = TuiMonth.currentLocal();\n    this.disabledItemHandler = ALWAYS_FALSE_HANDLER;\n    this.markerHandler = TUI_DEFAULT_MARKER_HANDLER;\n    this.items = [];\n    this.min = TUI_FIRST_DAY;\n    this.max = TUI_LAST_DAY;\n    this.minLength = null;\n    this.maxLength = null;\n    this.value = null;\n    this.valueChange = new EventEmitter();\n    this.previousValue = null;\n    this.maxLengthMapper = MAX_DAY_RANGE_LENGTH_MAPPER;\n    this.mapper = (items, min, max, minLength, otherDateText) => [...items.filter(item => (minLength === null || item.range.from.append(minLength).daySameOrBefore(item.range.to)) && item.range.to.daySameOrAfter(min) && (max === null || item.range.from.daySameOrBefore(max))), otherDateText];\n    if (!valueChanges) {\n      return;\n    }\n    valueChanges.pipe(tuiWatch(cdr), takeUntil(destroy$)).subscribe(value => {\n      this.value = value;\n    });\n  }\n  onEsc(event) {\n    var _a;\n    if (event.key !== 'Escape' || !((_a = this.value) === null || _a === void 0 ? void 0 : _a.isSingleDay)) {\n      return;\n    }\n    event.stopPropagation();\n    this.value = this.previousValue;\n  }\n  get calculatedDisabledItemHandler() {\n    return this.calculateDisabledItemHandler(this.disabledItemHandler, this.value, this.minLength);\n  }\n  get computedMonth() {\n    return this.value ? this.value.to : this.defaultViewedMonth;\n  }\n  isItemActive(item) {\n    const {\n      activePeriod\n    } = this;\n    return tuiIsString(item) && activePeriod === null || activePeriod === item;\n  }\n  onRangeChange(dayRange) {\n    this.updateValue(dayRange);\n  }\n  onDayClick(day) {\n    const {\n      value\n    } = this;\n    this.previousValue = value;\n    if (value === null || !value.isSingleDay) {\n      this.value = new TuiDayRange(day, day);\n      return;\n    }\n    this.updateValue(TuiDayRange.sort(value.from, day));\n  }\n  onItemSelect(item) {\n    if (typeof item !== 'string') {\n      this.updateValue(item.range.dayLimit(this.min, this.max));\n      return;\n    }\n    if (this.activePeriod !== null) {\n      this.updateValue(null);\n    }\n  }\n  updateValue(value) {\n    this.value = value;\n    this.valueChange.emit(value);\n  }\n  get activePeriod() {\n    return this.items.find(item => tuiNullableSame(this.value, item.range, (a, b) => a.from.daySame(b.from.dayLimit(this.min, this.max)) && a.to.daySame(b.to.dayLimit(this.min, this.max)))) || null;\n  }\n  calculateDisabledItemHandler(disabledItemHandler, value, minLength) {\n    return item => {\n      if (!(value === null || value === void 0 ? void 0 : value.isSingleDay) || !minLength) {\n        return disabledItemHandler(item);\n      }\n      const negativeMinLength = tuiObjectFromEntries(Object.entries(minLength).map(([key, value]) => [key, -value]));\n      const disabledBefore = value.from.append(negativeMinLength).append({\n        day: 1\n      });\n      const disabledAfter = value.from.append(minLength).append({\n        day: -1\n      });\n      const inDisabledRange = disabledBefore.dayBefore(item) && disabledAfter.dayAfter(item);\n      return inDisabledRange || disabledItemHandler(item);\n    };\n  }\n}\nTuiCalendarRangeComponent.ɵfac = function TuiCalendarRangeComponent_Factory(t) {\n  return new (t || TuiCalendarRangeComponent)(i0.ɵɵdirectiveInject(TUI_CALENDAR_DATE_STREAM, 8), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_OTHER_DATE_TEXT));\n};\nTuiCalendarRangeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TuiCalendarRangeComponent,\n  selectors: [[\"tui-calendar-range\"]],\n  hostBindings: function TuiCalendarRangeComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keydown.capture\", function TuiCalendarRangeComponent_keydown_capture_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      }, false, i0.ɵɵresolveDocument);\n    }\n  },\n  inputs: {\n    defaultViewedMonth: \"defaultViewedMonth\",\n    disabledItemHandler: \"disabledItemHandler\",\n    markerHandler: \"markerHandler\",\n    items: \"items\",\n    min: \"min\",\n    max: \"max\",\n    minLength: \"minLength\",\n    maxLength: \"maxLength\",\n    value: \"value\"\n  },\n  outputs: {\n    valueChange: \"valueChange\"\n  },\n  features: [i0.ɵɵProvidersFeature([TuiDestroyService])],\n  decls: 3,\n  vars: 2,\n  consts: [[\"automation-id\", \"tui-calendar-range__calendars\", \"tuiPreventDefault\", \"mousedown\", 3, \"markerHandler\", \"min\", \"max\", \"defaultViewedMonthFirst\", \"disabledItemHandler\", \"value\", \"dayClick\", 4, \"ngIf\", \"ngIfElse\"], [\"presets\", \"\"], [\"automation-id\", \"tui-calendar-range__calendars\", \"tuiPreventDefault\", \"mousedown\", 3, \"markerHandler\", \"min\", \"max\", \"defaultViewedMonthFirst\", \"disabledItemHandler\", \"value\", \"dayClick\"], [1, \"t-wrapper\"], [\"automation-id\", \"tui-calendar-range__calendar\", \"tuiPreventDefault\", \"mousedown\", 3, \"value\", \"markerHandler\", \"min\", \"max\", \"month\", \"disabledItemHandler\", \"dayClick\"], [\"role\", \"menu\", \"automation-id\", \"tui-calendar-range__menu\", 1, \"t-menu\"], [\"tuiOption\", \"\", \"tuiPreventDefault\", \"mousedown\", \"role\", \"menuitemradio\", \"automation-id\", \"tui-calendar-range__menu__item\", 3, \"keydown.enter.prevent\", \"keydown.space.prevent\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", \"tuiPreventDefault\", \"mousedown\", \"role\", \"menuitemradio\", \"automation-id\", \"tui-calendar-range__menu__item\", 3, \"keydown.enter.prevent\", \"keydown.space.prevent\", \"click\"], [\"automation-id\", \"tui-calendar-range__checkmark\", \"src\", \"tuiIconCheck\", \"class\", \"t-checkmark\", 4, \"ngIf\"], [\"automation-id\", \"tui-calendar-range__checkmark\", \"src\", \"tuiIconCheck\", 1, \"t-checkmark\"]],\n  template: function TuiCalendarRangeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TuiCalendarRangeComponent_tui_primitive_calendar_range_0_Template, 3, 28, \"tui-primitive-calendar-range\", 0);\n      i0.ɵɵtemplate(1, TuiCalendarRangeComponent_ng_template_1_Template, 8, 45, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.items.length)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i1.TuiPrimitiveCalendarRangeComponent, i2.TuiCalendarComponent, i2.TuiDataListComponent, i2.TuiOptionComponent, i2.TuiSvgComponent, i3.NgIf, i4.TuiPreventDefaultDirective, i3.NgForOf, i4.TuiMapperPipe, i3.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]{display:block}.t-wrapper[_ngcontent-%COMP%]{display:flex}.t-menu[_ngcontent-%COMP%]{width:11rem;border-left:1px solid var(--tui-base-03)}.t-checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}\"],\n  changeDetection: 0\n});\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"defaultViewedMonth\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"disabledItemHandler\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"markerHandler\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"items\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"min\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"max\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"minLength\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"maxLength\", void 0);\n__decorate([tuiDefaultProp()], TuiCalendarRangeComponent.prototype, \"value\", void 0);\n__decorate([tuiPure], TuiCalendarRangeComponent.prototype, \"calculateDisabledItemHandler\", null);\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCalendarRangeComponent, [{\n    type: Component,\n    args: [{\n      selector: 'tui-calendar-range',\n      templateUrl: './calendar-range.template.html',\n      styleUrls: ['./calendar-range.style.less'],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [TuiDestroyService]\n    }]\n  }], function () {\n    return [{\n      type: i5.Observable,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [TUI_CALENDAR_DATE_STREAM]\n      }]\n    }, {\n      type: i0.ChangeDetectorRef,\n      decorators: [{\n        type: Inject,\n        args: [ChangeDetectorRef]\n      }]\n    }, {\n      type: i4.TuiDestroyService,\n      decorators: [{\n        type: Self\n      }, {\n        type: Inject,\n        args: [TuiDestroyService]\n      }]\n    }, {\n      type: i5.Observable,\n      decorators: [{\n        type: Inject,\n        args: [TUI_OTHER_DATE_TEXT]\n      }]\n    }];\n  }, {\n    defaultViewedMonth: [{\n      type: Input\n    }],\n    disabledItemHandler: [{\n      type: Input\n    }],\n    markerHandler: [{\n      type: Input\n    }],\n    items: [{\n      type: Input\n    }],\n    min: [{\n      type: Input\n    }],\n    max: [{\n      type: Input\n    }],\n    minLength: [{\n      type: Input\n    }],\n    maxLength: [{\n      type: Input\n    }],\n    value: [{\n      type: Input\n    }],\n    valueChange: [{\n      type: Output\n    }],\n    onEsc: [{\n      type: HostListener,\n      args: ['document:keydown.capture', ['$event']]\n    }],\n    calculateDisabledItemHandler: []\n  });\n})();\nclass TuiCalendarRangeModule {}\nTuiCalendarRangeModule.ɵfac = function TuiCalendarRangeModule_Factory(t) {\n  return new (t || TuiCalendarRangeModule)();\n};\nTuiCalendarRangeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: TuiCalendarRangeModule\n});\nTuiCalendarRangeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, TuiMapperPipeModule, TuiPreventDefaultModule, TuiCalendarModule, TuiCalendarModule, TuiSvgModule, TuiDataListModule, TuiPrimitiveCalendarRangeModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiCalendarRangeModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, TuiMapperPipeModule, TuiPreventDefaultModule, TuiCalendarModule, TuiCalendarModule, TuiSvgModule, TuiDataListModule, TuiPrimitiveCalendarRangeModule],\n      declarations: [TuiCalendarRangeComponent],\n      exports: [TuiCalendarRangeComponent]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCalendarRangeComponent, TuiCalendarRangeModule };","map":{"version":3,"names":["__decorate","i0","EventEmitter","ChangeDetectorRef","Component","ChangeDetectionStrategy","Optional","Inject","Self","Input","Output","HostListener","NgModule","i4","TuiMonth","ALWAYS_FALSE_HANDLER","TUI_FIRST_DAY","TUI_LAST_DAY","tuiWatch","tuiIsString","TuiDayRange","tuiNullableSame","tuiObjectFromEntries","TuiDestroyService","tuiDefaultProp","tuiPure","TuiMapperPipeModule","TuiPreventDefaultModule","i2","TUI_DEFAULT_MARKER_HANDLER","TuiCalendarModule","TuiSvgModule","TuiDataListModule","MAX_DAY_RANGE_LENGTH_MAPPER","TUI_CALENDAR_DATE_STREAM","TUI_OTHER_DATE_TEXT","takeUntil","i1","TuiPrimitiveCalendarRangeModule","i3","CommonModule","i5","TuiCalendarRangeComponent","constructor","valueChanges","cdr","destroy$","otherDateText$","defaultViewedMonth","currentLocal","disabledItemHandler","markerHandler","items","min","max","minLength","maxLength","value","valueChange","previousValue","maxLengthMapper","mapper","otherDateText","filter","item","range","from","append","daySameOrBefore","to","daySameOrAfter","pipe","subscribe","onEsc","event","_a","key","isSingleDay","stopPropagation","calculatedDisabledItemHandler","calculateDisabledItemHandler","computedMonth","isItemActive","activePeriod","onRangeChange","dayRange","updateValue","onDayClick","day","sort","onItemSelect","dayLimit","emit","find","a","b","daySame","negativeMinLength","Object","entries","map","disabledBefore","disabledAfter","inDisabledRange","dayBefore","dayAfter","ɵfac","ɵcmp","TuiPrimitiveCalendarRangeComponent","TuiCalendarComponent","TuiDataListComponent","TuiOptionComponent","TuiSvgComponent","NgIf","TuiPreventDefaultDirective","NgForOf","TuiMapperPipe","AsyncPipe","prototype","type","args","selector","templateUrl","styleUrls","changeDetection","OnPush","providers","Observable","decorators","TuiCalendarRangeModule","ɵmod","ɵinj","imports","declarations","exports"],"sources":["C:/Users/denis/PycharmProjects/example_project/frontend/node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-calendar-range.js"],"sourcesContent":["import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, ChangeDetectorRef, Component, ChangeDetectionStrategy, Optional, Inject, Self, Input, Output, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { TuiMonth, ALWAYS_FALSE_HANDLER, TUI_FIRST_DAY, TUI_LAST_DAY, tuiWatch, tuiIsString, TuiDayRange, tuiNullableSame, tuiObjectFromEntries, TuiDestroyService, tuiDefaultProp, tuiPure, TuiMapperPipeModule, TuiPreventDefaultModule } from '@taiga-ui/cdk';\nimport * as i2 from '@taiga-ui/core';\nimport { TUI_DEFAULT_MARKER_HANDLER, TuiCalendarModule, TuiSvgModule, TuiDataListModule } from '@taiga-ui/core';\nimport { MAX_DAY_RANGE_LENGTH_MAPPER } from '@taiga-ui/kit/constants';\nimport { TUI_CALENDAR_DATE_STREAM, TUI_OTHER_DATE_TEXT } from '@taiga-ui/kit/tokens';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/kit/internal/primitive-calendar-range';\nimport { TuiPrimitiveCalendarRangeModule } from '@taiga-ui/kit/internal/primitive-calendar-range';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from 'rxjs';\n\nclass TuiCalendarRangeComponent {\n    constructor(valueChanges, cdr, destroy$, otherDateText$) {\n        this.otherDateText$ = otherDateText$;\n        this.defaultViewedMonth = TuiMonth.currentLocal();\n        this.disabledItemHandler = ALWAYS_FALSE_HANDLER;\n        this.markerHandler = TUI_DEFAULT_MARKER_HANDLER;\n        this.items = [];\n        this.min = TUI_FIRST_DAY;\n        this.max = TUI_LAST_DAY;\n        this.minLength = null;\n        this.maxLength = null;\n        this.value = null;\n        this.valueChange = new EventEmitter();\n        this.previousValue = null;\n        this.maxLengthMapper = MAX_DAY_RANGE_LENGTH_MAPPER;\n        this.mapper = (items, min, max, minLength, otherDateText) => [\n            ...items.filter(item => (minLength === null ||\n                item.range.from.append(minLength).daySameOrBefore(item.range.to)) &&\n                item.range.to.daySameOrAfter(min) &&\n                (max === null || item.range.from.daySameOrBefore(max))),\n            otherDateText,\n        ];\n        if (!valueChanges) {\n            return;\n        }\n        valueChanges.pipe(tuiWatch(cdr), takeUntil(destroy$)).subscribe(value => {\n            this.value = value;\n        });\n    }\n    onEsc(event) {\n        var _a;\n        if (event.key !== 'Escape' || !((_a = this.value) === null || _a === void 0 ? void 0 : _a.isSingleDay)) {\n            return;\n        }\n        event.stopPropagation();\n        this.value = this.previousValue;\n    }\n    get calculatedDisabledItemHandler() {\n        return this.calculateDisabledItemHandler(this.disabledItemHandler, this.value, this.minLength);\n    }\n    get computedMonth() {\n        return this.value ? this.value.to : this.defaultViewedMonth;\n    }\n    isItemActive(item) {\n        const { activePeriod } = this;\n        return (tuiIsString(item) && activePeriod === null) || activePeriod === item;\n    }\n    onRangeChange(dayRange) {\n        this.updateValue(dayRange);\n    }\n    onDayClick(day) {\n        const { value } = this;\n        this.previousValue = value;\n        if (value === null || !value.isSingleDay) {\n            this.value = new TuiDayRange(day, day);\n            return;\n        }\n        this.updateValue(TuiDayRange.sort(value.from, day));\n    }\n    onItemSelect(item) {\n        if (typeof item !== 'string') {\n            this.updateValue(item.range.dayLimit(this.min, this.max));\n            return;\n        }\n        if (this.activePeriod !== null) {\n            this.updateValue(null);\n        }\n    }\n    updateValue(value) {\n        this.value = value;\n        this.valueChange.emit(value);\n    }\n    get activePeriod() {\n        return (this.items.find(item => tuiNullableSame(this.value, item.range, (a, b) => a.from.daySame(b.from.dayLimit(this.min, this.max)) &&\n            a.to.daySame(b.to.dayLimit(this.min, this.max)))) || null);\n    }\n    calculateDisabledItemHandler(disabledItemHandler, value, minLength) {\n        return item => {\n            if (!(value === null || value === void 0 ? void 0 : value.isSingleDay) || !minLength) {\n                return disabledItemHandler(item);\n            }\n            const negativeMinLength = tuiObjectFromEntries(Object.entries(minLength).map(([key, value]) => [key, -value]));\n            const disabledBefore = value.from.append(negativeMinLength).append({ day: 1 });\n            const disabledAfter = value.from.append(minLength).append({ day: -1 });\n            const inDisabledRange = disabledBefore.dayBefore(item) && disabledAfter.dayAfter(item);\n            return inDisabledRange || disabledItemHandler(item);\n        };\n    }\n}\nTuiCalendarRangeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCalendarRangeComponent, deps: [{ token: TUI_CALENDAR_DATE_STREAM, optional: true }, { token: ChangeDetectorRef }, { token: TuiDestroyService, self: true }, { token: TUI_OTHER_DATE_TEXT }], target: i0.ɵɵFactoryTarget.Component });\nTuiCalendarRangeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.17\", type: TuiCalendarRangeComponent, selector: \"tui-calendar-range\", inputs: { defaultViewedMonth: \"defaultViewedMonth\", disabledItemHandler: \"disabledItemHandler\", markerHandler: \"markerHandler\", items: \"items\", min: \"min\", max: \"max\", minLength: \"minLength\", maxLength: \"maxLength\", value: \"value\" }, outputs: { valueChange: \"valueChange\" }, host: { listeners: { \"document:keydown.capture\": \"onEsc($event)\" } }, providers: [TuiDestroyService], ngImport: i0, template: \"<tui-primitive-calendar-range\\n    *ngIf=\\\"!items.length; else presets\\\"\\n    automation-id=\\\"tui-calendar-range__calendars\\\"\\n    tuiPreventDefault=\\\"mousedown\\\"\\n    [markerHandler]=\\\"markerHandler\\\"\\n    [min]=\\\"min | tuiMapper : maxLengthMapper : value : maxLength : true\\\"\\n    [max]=\\\"max | tuiMapper : maxLengthMapper : value : maxLength : false\\\"\\n    [defaultViewedMonthFirst]=\\\"defaultViewedMonth\\\"\\n    [disabledItemHandler]=\\\"calculatedDisabledItemHandler\\\"\\n    [value]=\\\"value\\\"\\n    (dayClick)=\\\"onDayClick($event)\\\"\\n></tui-primitive-calendar-range>\\n<ng-template #presets>\\n    <div class=\\\"t-wrapper\\\">\\n        <tui-calendar\\n            automation-id=\\\"tui-calendar-range__calendar\\\"\\n            tuiPreventDefault=\\\"mousedown\\\"\\n            [value]=\\\"value\\\"\\n            [markerHandler]=\\\"markerHandler\\\"\\n            [min]=\\\"min | tuiMapper : maxLengthMapper : value : maxLength : true\\\"\\n            [max]=\\\"max | tuiMapper : maxLengthMapper : value : maxLength : false\\\"\\n            [month]=\\\"computedMonth\\\"\\n            [disabledItemHandler]=\\\"calculatedDisabledItemHandler\\\"\\n            (dayClick)=\\\"onDayClick($event)\\\"\\n        ></tui-calendar>\\n        <tui-data-list\\n            role=\\\"menu\\\"\\n            automation-id=\\\"tui-calendar-range__menu\\\"\\n            class=\\\"t-menu\\\"\\n        >\\n            <button\\n                *ngFor=\\\"let item of items | tuiMapper : mapper : min : max : minLength : (otherDateText$ | async)\\\"\\n                tuiOption\\n                tuiPreventDefault=\\\"mousedown\\\"\\n                role=\\\"menuitemradio\\\"\\n                automation-id=\\\"tui-calendar-range__menu__item\\\"\\n                [attr.aria-checked]=\\\"isItemActive(item)\\\"\\n                (keydown.enter.prevent)=\\\"onItemSelect(item)\\\"\\n                (keydown.space.prevent)=\\\"onItemSelect(item)\\\"\\n                (click)=\\\"onItemSelect(item)\\\"\\n            >\\n                {{ item }}\\n                <tui-svg\\n                    *ngIf=\\\"isItemActive(item)\\\"\\n                    automation-id=\\\"tui-calendar-range__checkmark\\\"\\n                    src=\\\"tuiIconCheck\\\"\\n                    class=\\\"t-checkmark\\\"\\n                ></tui-svg>\\n            </button>\\n        </tui-data-list>\\n    </div>\\n</ng-template>\\n\", styles: [\":host{display:block}.t-wrapper{display:flex}.t-menu{width:11rem;border-left:1px solid var(--tui-base-03)}.t-checkmark{margin-left:auto;width:1rem;height:1rem}\\n\"], components: [{ type: i1.TuiPrimitiveCalendarRangeComponent, selector: \"tui-primitive-calendar-range\", inputs: [\"disabledItemHandler\", \"markerHandler\", \"defaultViewedMonthFirst\", \"defaultViewedMonthSecond\", \"min\", \"max\", \"value\"], outputs: [\"dayClick\"] }, { type: i2.TuiCalendarComponent, selector: \"tui-calendar\", inputs: [\"month\", \"disabledItemHandler\", \"min\", \"max\", \"minViewedMonth\", \"maxViewedMonth\", \"hoveredItem\", \"showAdjacent\", \"markerHandler\", \"value\"], outputs: [\"dayClick\", \"monthChange\", \"hoveredItemChange\"] }, { type: i2.TuiDataListComponent, selector: \"tui-data-list\", inputs: [\"role\", \"emptyContent\", \"size\"] }, { type: i2.TuiOptionComponent, selector: \"button[tuiOption], a[tuiOption]\", inputs: [\"size\", \"role\", \"disabled\", \"value\"] }, { type: i2.TuiSvgComponent, selector: \"tui-svg\", inputs: [\"src\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i4.TuiPreventDefaultDirective, selector: \"[tuiPreventDefault]\", inputs: [\"tuiPreventDefault\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"tuiMapper\": i4.TuiMapperPipe, \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"defaultViewedMonth\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"disabledItemHandler\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"markerHandler\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"items\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"min\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"max\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"minLength\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"maxLength\", void 0);\n__decorate([\n    tuiDefaultProp()\n], TuiCalendarRangeComponent.prototype, \"value\", void 0);\n__decorate([\n    tuiPure\n], TuiCalendarRangeComponent.prototype, \"calculateDisabledItemHandler\", null);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCalendarRangeComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'tui-calendar-range',\n                    templateUrl: './calendar-range.template.html',\n                    styleUrls: ['./calendar-range.style.less'],\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [TuiDestroyService],\n                }]\n        }], ctorParameters: function () { return [{ type: i5.Observable, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [TUI_CALENDAR_DATE_STREAM]\n                }] }, { type: i0.ChangeDetectorRef, decorators: [{\n                    type: Inject,\n                    args: [ChangeDetectorRef]\n                }] }, { type: i4.TuiDestroyService, decorators: [{\n                    type: Self\n                }, {\n                    type: Inject,\n                    args: [TuiDestroyService]\n                }] }, { type: i5.Observable, decorators: [{\n                    type: Inject,\n                    args: [TUI_OTHER_DATE_TEXT]\n                }] }]; }, propDecorators: { defaultViewedMonth: [{\n                type: Input\n            }], disabledItemHandler: [{\n                type: Input\n            }], markerHandler: [{\n                type: Input\n            }], items: [{\n                type: Input\n            }], min: [{\n                type: Input\n            }], max: [{\n                type: Input\n            }], minLength: [{\n                type: Input\n            }], maxLength: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], valueChange: [{\n                type: Output\n            }], onEsc: [{\n                type: HostListener,\n                args: ['document:keydown.capture', ['$event']]\n            }], calculateDisabledItemHandler: [] } });\n\nclass TuiCalendarRangeModule {\n}\nTuiCalendarRangeModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCalendarRangeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTuiCalendarRangeModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCalendarRangeModule, declarations: [TuiCalendarRangeComponent], imports: [CommonModule,\n        TuiMapperPipeModule,\n        TuiPreventDefaultModule,\n        TuiCalendarModule,\n        TuiCalendarModule,\n        TuiSvgModule,\n        TuiDataListModule,\n        TuiPrimitiveCalendarRangeModule], exports: [TuiCalendarRangeComponent] });\nTuiCalendarRangeModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCalendarRangeModule, imports: [[\n            CommonModule,\n            TuiMapperPipeModule,\n            TuiPreventDefaultModule,\n            TuiCalendarModule,\n            TuiCalendarModule,\n            TuiSvgModule,\n            TuiDataListModule,\n            TuiPrimitiveCalendarRangeModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiCalendarRangeModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        TuiMapperPipeModule,\n                        TuiPreventDefaultModule,\n                        TuiCalendarModule,\n                        TuiCalendarModule,\n                        TuiSvgModule,\n                        TuiDataListModule,\n                        TuiPrimitiveCalendarRangeModule,\n                    ],\n                    declarations: [TuiCalendarRangeComponent],\n                    exports: [TuiCalendarRangeComponent],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCalendarRangeComponent, TuiCalendarRangeModule };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}