{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AccountService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://127.0.0.1:8000/api/account/registr/';\n    this.apiGetToken = 'http://127.0.0.1:8000/auth-token/token/login/';\n    this.apiGetAccount = 'http://127.0.0.1:8000/api/account/user/by/token/';\n    this.apiLogoutAccount = 'http://127.0.0.1:8000/auth-token/token/logout/';\n  }\n  createAccount(last_name, first_name, patronymic, location, school_number, email, password, password2, is_teacher, gender) {\n    const account = {\n      last_name: last_name,\n      first_name: first_name,\n      patronymic: patronymic,\n      location: location,\n      school_number: school_number,\n      email: email,\n      password: password,\n      password2: password2,\n      is_teacher: is_teacher,\n      gender: gender\n    };\n    return this.http.post(this.apiUrl, account);\n  }\n  getToken(email, password) {\n    const account = {\n      email: email,\n      password: password\n    };\n    return this.http.post(this.apiGetToken, account);\n  }\n  getAccountWhithToken(Token) {\n    const myHeaders = new HttpHeaders({\n      'Content-Type': 'application/json',\n      Authorization: 'Token ' + Token\n    });\n    const body = {};\n    return this.http.post(this.apiGetAccount, body, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Token ' + Token\n      }\n    });\n  }\n  logout() {\n    const myHeaders = new HttpHeaders({\n      'Content-Type': 'application/json',\n      Authorization: 'Token ' + localStorage.getItem('my-token')\n    });\n    const body = {};\n    return this.http.post(this.apiLogoutAccount, body, {\n      headers: myHeaders\n    });\n  }\n}\nAccountService.ɵfac = function AccountService_Factory(t) {\n  return new (t || AccountService)(i0.ɵɵinject(i1.HttpClient));\n};\nAccountService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AccountService,\n  factory: AccountService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAAoBA,WAAW,QAAO,sBAAsB;;;AAM5D,OAAM,MAAOC,cAAc;EAEzBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAChB,WAAM,GAAG,4CAA4C;IACrD,gBAAW,GAAG,+CAA+C;IAC7D,kBAAa,GAAG,kDAAkD;IAClE,qBAAgB,GAAG,gDAAgD;EAJnC;EAMxCC,aAAa,CAACC,SAAiB,EAAEC,UAAkB,EAAEC,UAAkB,EAAEC,QAAgB,EAC3EC,aAAqB,EAAEC,KAAa,EAAEC,QAAgB,EAAEC,SAAiB,EACzEC,UAAmB,EAAEC,MAAc;IAC/C,MAAMC,OAAO,GAAG;MAAEV,SAAS,EAAEA,SAAS;MAAEC,UAAU,EAAEA,UAAU;MAAEC,UAAU,EAAEA,UAAU;MACpFC,QAAQ,EAAEA,QAAQ;MAAEC,aAAa,EAAEA,aAAa;MAAEC,KAAK,EAAEA,KAAK;MAAEC,QAAQ,EAAEA,QAAQ;MAClFC,SAAS,EAAEA,SAAS;MAAEC,UAAU,EAAEA,UAAU;MAAEC,MAAM,EAAEA;IAAM,CAAC;IAC/D,OAAO,IAAI,CAACX,IAAI,CAACa,IAAI,CAAC,IAAI,CAACC,MAAM,EAAEF,OAAO,CAAC;EAC7C;EAEAG,QAAQ,CAACR,KAAa,EAAEC,QAAgB;IACtC,MAAMI,OAAO,GAAG;MAAEL,KAAK,EAAEA,KAAK;MAAEC,QAAQ,EAAEA;IAAQ,CAAC;IACnD,OAAO,IAAI,CAACR,IAAI,CAACa,IAAI,CAAC,IAAI,CAACG,WAAW,EAAEJ,OAAO,CAAC;EAClD;EAEAK,oBAAoB,CAACC,KAAU;IAC7B,MAAMC,SAAS,GAAG,IAAItB,WAAW,CAC/B;MAAC,cAAc,EAAE,kBAAkB;MAAEuB,aAAa,EAAE,QAAQ,GAAGF;IAAK,CAAC,CACtE;IACD,MAAMG,IAAI,GAAG,EAAE;IACf,OAAO,IAAI,CAACrB,IAAI,CAACa,IAAI,CAAC,IAAI,CAACS,aAAa,EAAED,IAAI,EAC5C;MAACE,OAAO,EAAE;QAAC,cAAc,EAAE,kBAAkB;QAAEH,aAAa,EAAE,QAAQ,GAAGF;MAAK;IAAC,CAAC,CAAC;EACrF;EAEAM,MAAM;IACJ,MAAML,SAAS,GAAG,IAAItB,WAAW,CAC/B;MAAC,cAAc,EAAE,kBAAkB;MAAEuB,aAAa,EAAE,QAAQ,GAAGK,YAAY,CAACC,OAAO,CAAC,UAAU;IAAC,CAAC,CACjG;IACD,MAAML,IAAI,GAAG,EAAE;IACf,OAAO,IAAI,CAACrB,IAAI,CAACa,IAAI,CAAC,IAAI,CAACc,gBAAgB,EAAEN,IAAI,EAC/C;MAACE,OAAO,EAAEJ;IAAS,CAAC,CAAC;EACzB;;AAtCWrB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAA8B,SAAd9B,cAAc;EAAA+B,YAFb;AAAM","names":["HttpHeaders","AccountService","constructor","http","createAccount","last_name","first_name","patronymic","location","school_number","email","password","password2","is_teacher","gender","account","post","apiUrl","getToken","apiGetToken","getAccountWhithToken","Token","myHeaders","Authorization","body","apiGetAccount","headers","logout","localStorage","getItem","apiLogoutAccount","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\denis\\PycharmProjects\\example_project\\frontend\\src\\app\\servicies\\account.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\r\nimport {Observable} from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AccountService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  private apiUrl = 'http://127.0.0.1:8000/api/account/registr/';\r\n  private apiGetToken = 'http://127.0.0.1:8000/auth-token/token/login/';\r\n  private apiGetAccount = 'http://127.0.0.1:8000/api/account/user/by/token/';\r\n  private apiLogoutAccount = 'http://127.0.0.1:8000/auth-token/token/logout/';\r\n\r\n  createAccount(last_name: string, first_name: string, patronymic: string, location: string,\r\n                school_number: number, email: string, password: string, password2: string,\r\n                is_teacher: boolean, gender: string): Observable<any> {\r\n    const account = { last_name: last_name, first_name: first_name, patronymic: patronymic,\r\n      location: location, school_number: school_number, email: email, password: password,\r\n      password2: password2, is_teacher: is_teacher, gender: gender};\r\n    return this.http.post(this.apiUrl, account);\r\n  }\r\n\r\n  getToken(email: string, password: string):Observable<any> {\r\n    const account = { email: email, password: password};\r\n    return this.http.post(this.apiGetToken, account)\r\n  }\r\n\r\n  getAccountWhithToken(Token: any) {\r\n    const myHeaders = new HttpHeaders(\r\n      {'Content-Type': 'application/json', Authorization: 'Token ' + Token}\r\n    );\r\n    const body = {}\r\n    return this.http.post(this.apiGetAccount, body,\r\n      {headers: {'Content-Type': 'application/json', Authorization: 'Token ' + Token}})\r\n  }\r\n\r\n  logout() {\r\n    const myHeaders = new HttpHeaders(\r\n      {'Content-Type': 'application/json', Authorization: 'Token ' + localStorage.getItem('my-token')}\r\n    );\r\n    const body = {}\r\n    return this.http.post(this.apiLogoutAccount, body,\r\n      {headers: myHeaders})\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}