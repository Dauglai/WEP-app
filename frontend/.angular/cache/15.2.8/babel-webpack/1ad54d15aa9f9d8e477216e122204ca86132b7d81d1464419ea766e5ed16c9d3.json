{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../servicies/account.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@taiga-ui/core\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(accountService, router) {\n    this.accountService = accountService;\n    this.router = router;\n    this.errorLogin = '';\n    this.formLogin = new FormGroup({\n      email: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n  ngOnInit() {\n    // this.getUserWithToken(localStorage.getItem('my-token'));\n  }\n  login() {\n    const form = this.formLogin.value;\n    console.log(form);\n    // this.createAccount(form.email!, form.password!, form.password2!);\n    this.getToken(form.email, form.password);\n  }\n  getToken(email, password) {\n    this.accountService.getToken(email, password).subscribe(data => {\n      console.log(data);\n      localStorage.setItem('my-token', data.auth_token);\n      this.router.navigate(['/main']);\n    }, error => {\n      console.log(error);\n      this.errorLogin = 'Вы ввели неверные данные';\n    });\n  }\n  getUserWithToken(MyToken) {\n    this.accountService.getAccountWhithToken(MyToken).subscribe(data => {\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[1, \"header\"], [1, \"header__container\"], [\"routerLink\", \"/main\", 1, \"header__logo\"], [\"src\", \"../../../assets/img/header/logo.png\", \"alt\", \"logo\", 1, \"header__logo_img\"], [1, \"header__logo_text\"], [1, \"header__nav\"], [1, \"header__text\"], [\"routerLink\", \"/registration\", 1, \"header__link\"], [1, \"login__container\"], [1, \"login__window\"], [1, \"login__form-h\"], [1, \"text-error\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"placeholder\", \"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430\", \"type\", \"email\", \"formControlName\", \"email\"], [\"placeholder\", \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\", \"type\", \"password\", \"formControlName\", \"password\"], [\"tuiButton\", \"\", \"type\", \"submit\", \"appearance\", \"outline\", \"size\", \"s\", 1, \"tui-space_right-3\", \"tui-space_bottom-3\", \"btn-submit\"], [1, \"footer__container\"], [1, \"footer__text\"], [\"routerLink\", \"/registration\", 1, \"footer__link\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementStart(4, \"span\", 4);\n      i0.ɵɵtext(5, \"Master of Dungeons\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"span\", 6);\n      i0.ɵɵtext(8, \"\\u0415\\u0449\\u0451 \\u043D\\u0435\\u0442 \\u0443\\u0447\\u0435\\u0442\\u043D\\u043E\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438 ?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"a\", 7);\n      i0.ɵɵtext(10, \"\\u0420\\u0415\\u0413\\u0418\\u0421\\u0422\\u0420\\u0410\\u0426\\u0418\\u042F\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(11, \"main\", 8)(12, \"div\", 9)(13, \"h2\", 10);\n      i0.ɵɵtext(14, \"\\u0412\\u043E\\u0439\\u0442\\u0438\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"span\", 11);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"form\", 12);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_17_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelement(18, \"input\", 13)(19, \"input\", 14);\n      i0.ɵɵelementStart(20, \"button\", 15);\n      i0.ɵɵtext(21, \" \\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 16)(23, \"span\", 17);\n      i0.ɵɵtext(24, \"\\u0415\\u0449\\u0451 \\u043D\\u0435\\u0442 \\u0443\\u0447\\u0435\\u0442\\u043D\\u043E\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438 ?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"a\", 18);\n      i0.ɵɵtext(26, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵtextInterpolate(ctx.errorLogin);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.formLogin);\n    }\n  },\n  dependencies: [i3.TuiButtonComponent, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"*[_ngcontent-%COMP%] {\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n  font-style: normal;\\r\\n  font-weight: 300;\\r\\n}\\r\\n\\r\\n.text-error[_ngcontent-%COMP%] {\\r\\n  width: 80%;\\r\\n  text-align: center;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.header[_ngcontent-%COMP%] {\\r\\n  font-size: 22px;\\r\\n  font-family: Montserrat, sans-serif;\\r\\n  font-weight: 400;\\r\\n  width: 100%;\\r\\n\\r\\n  box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);\\r\\n}\\r\\n\\r\\n.header__container[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n\\r\\n  max-width: 1200px;\\r\\n  width: 100%;\\r\\n\\r\\n  margin: 0 auto;\\r\\n  height: 100%;\\r\\n  padding: 0 35px 0 0;\\r\\n}\\r\\n\\r\\n.header__logo[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  align-items: center;\\r\\n  text-decoration: none;\\r\\n  text-align: center;\\r\\n\\r\\n  margin: 10px 0 10px 0;\\r\\n}\\r\\n\\r\\n.header__logo_img[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n  height: 45px;\\r\\n  width: 45px;\\r\\n\\r\\n  margin-right: 12px;\\r\\n}\\r\\n\\r\\n.header__logo_text[_ngcontent-%COMP%] {\\r\\n  font-family: 'Oswald', sans-serif;\\r\\n  font-style: normal;\\r\\n  font-weight: 400;\\r\\n  font-size: 22px;\\r\\n  line-height: 47px;\\r\\n\\r\\n  color: var(--blue-main);\\r\\n}\\r\\n\\r\\n.header__nav[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n  top: 2px;\\r\\n\\r\\n  display: flex;\\r\\n  margin-left: auto;\\r\\n  flex-direction: row;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.header__text[_ngcontent-%COMP%] {\\r\\n  font-size: 14px;\\r\\n  line-height: 28px;\\r\\n\\r\\n  color: #000000;\\r\\n  margin-right: 15px;\\r\\n}\\r\\n\\r\\n.header__link[_ngcontent-%COMP%] {\\r\\n  text-decoration: none;\\r\\n  color: var(--blue-main);\\r\\n}\\r\\n\\r\\n.header__link[_ngcontent-%COMP%]:first-child {\\r\\n  margin-right: 20px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.login__container[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: calc(100vh - 80px);\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  \\r\\n  background: #F7F7F7;\\r\\n}\\r\\n\\r\\n.login__window[_ngcontent-%COMP%] {\\r\\n  margin: 0 auto;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  justify-items: center;\\r\\n  max-width: 400px;\\r\\n  \\r\\n  min-width: 300px;\\r\\n  \\r\\n  width: 25vw;\\r\\n  \\r\\n\\r\\n  background: #fff;\\r\\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\\r\\n}\\r\\n\\r\\n.login__form-h[_ngcontent-%COMP%] {\\r\\n  font-size: 24px;\\r\\n  line-height: 56px;\\r\\n  margin: 15px 0 10px 0;\\r\\n}\\r\\n\\r\\n.form[_ngcontent-%COMP%] {\\r\\n  padding: 0;\\r\\n  margin: 0;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n\\r\\n  margin-bottom: 7px;\\r\\n}\\r\\n\\r\\n.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n  height: 40px;\\r\\n  text-align: center;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.btn-submit[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.footer__container[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.footer__text[_ngcontent-%COMP%] {\\r\\n  font-size: 9px;\\r\\n  margin-right: 10px;\\r\\n}\\r\\n\\r\\n.footer__link[_ngcontent-%COMP%] {\\r\\n  font-size: 12px;\\r\\n  text-decoration: none;\\r\\n  color: var(--blue-main);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUNBQWlDO0VBQ2pDLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixtQ0FBbUM7RUFDbkMsZ0JBQWdCO0VBQ2hCLFdBQVc7O0VBRVgsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixtQkFBbUI7O0VBRW5CLGlCQUFpQjtFQUNqQixXQUFXOztFQUVYLGNBQWM7RUFDZCxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGtCQUFrQjs7RUFFbEIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixXQUFXOztFQUVYLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGlDQUFpQztFQUNqQyxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixpQkFBaUI7O0VBRWpCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixRQUFROztFQUVSLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixpQkFBaUI7O0VBRWpCLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOzs7O0FBSUE7RUFDRSxXQUFXO0VBQ1gsMEJBQTBCO0VBQzFCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIseUJBQXlCO0VBQ3pCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixxQkFBcUI7RUFDckIsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtFQUNyQixnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLFdBQVc7RUFDWCxnQkFBZ0I7O0VBRWhCLGdCQUFnQjtFQUNoQiwyQ0FBMkM7QUFDN0M7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLFVBQVU7RUFDVixTQUFTO0VBQ1QsYUFBYTtFQUNiLHNCQUFzQjs7RUFFdEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLHFCQUFxQjtFQUNyQix1QkFBdUI7QUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcclxuICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbn1cclxuXHJcbi50ZXh0LWVycm9yIHtcclxuICB3aWR0aDogODAlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uaGVhZGVyIHtcclxuICBmb250LXNpemU6IDIycHg7XHJcbiAgZm9udC1mYW1pbHk6IE1vbnRzZXJyYXQsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgYm94LXNoYWRvdzogMCAzcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxufVxyXG5cclxuLmhlYWRlcl9fY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cclxuICBtYXgtd2lkdGg6IDEyMDBweDtcclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHBhZGRpbmc6IDAgMzVweCAwIDA7XHJcbn1cclxuXHJcbi5oZWFkZXJfX2xvZ28ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblxyXG4gIG1hcmdpbjogMTBweCAwIDEwcHggMDtcclxufVxyXG5cclxuLmhlYWRlcl9fbG9nb19pbWcge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBoZWlnaHQ6IDQ1cHg7XHJcbiAgd2lkdGg6IDQ1cHg7XHJcblxyXG4gIG1hcmdpbi1yaWdodDogMTJweDtcclxufVxyXG5cclxuLmhlYWRlcl9fbG9nb190ZXh0IHtcclxuICBmb250LWZhbWlseTogJ09zd2FsZCcsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiA0N3B4O1xyXG5cclxuICBjb2xvcjogdmFyKC0tYmx1ZS1tYWluKTtcclxufVxyXG5cclxuLmhlYWRlcl9fbmF2IHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgdG9wOiAycHg7XHJcblxyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uaGVhZGVyX190ZXh0IHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI4cHg7XHJcblxyXG4gIGNvbG9yOiAjMDAwMDAwO1xyXG4gIG1hcmdpbi1yaWdodDogMTVweDtcclxufVxyXG5cclxuLmhlYWRlcl9fbGluayB7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIGNvbG9yOiB2YXIoLS1ibHVlLW1haW4pO1xyXG59XHJcblxyXG4uaGVhZGVyX19saW5rOmZpcnN0LWNoaWxkIHtcclxuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcblxyXG5cclxuLmxvZ2luX19jb250YWluZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDgwcHgpO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAvKmp1c3RpZnktaXRlbXM6IGNlbnRlcjsqL1xyXG4gIGJhY2tncm91bmQ6ICNGN0Y3Rjc7XHJcbn1cclxuXHJcbi5sb2dpbl9fd2luZG93IHtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWF4LXdpZHRoOiA0MDBweDtcclxuICAvKm1heC1oZWlnaHQ6IDMwMHB4OyovXHJcbiAgbWluLXdpZHRoOiAzMDBweDtcclxuICAvKm1pbi1oZWlnaHQ6IDIzMHB4OyovXHJcbiAgd2lkdGg6IDI1dnc7XHJcbiAgLypoZWlnaHQ6IDUwdmg7Ki9cclxuXHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3gtc2hhZG93OiAwcHggNHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xyXG59XHJcblxyXG4ubG9naW5fX2Zvcm0taCB7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiA1NnB4O1xyXG4gIG1hcmdpbjogMTVweCAwIDEwcHggMDtcclxufVxyXG5cclxuLmZvcm0ge1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgbWFyZ2luLWJvdHRvbTogN3B4O1xyXG59XHJcblxyXG4uZm9ybSBpbnB1dCB7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uYnRuLXN1Ym1pdCB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5cclxuLmZvb3Rlcl9fY29udGFpbmVyIHtcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uZm9vdGVyX190ZXh0IHtcclxuICBmb250LXNpemU6IDlweDtcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5mb290ZXJfX2xpbmsge1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgY29sb3I6IHZhcigtLWJsdWUtbWFpbik7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAAQA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAO,gBAAgB;;;;;;AAOjE,OAAM,MAAOC,cAAc;EAEzBC,YAAoBC,cAA8B,EAAUC,MAAc;IAAtD,mBAAc,GAAdD,cAAc;IAA0B,WAAM,GAANC,MAAM;IADlE,eAAU,GAAU,EAAE;IAOtB,cAAS,GAAG,IAAIL,SAAS,CAAC;MACxBM,KAAK,EAAE,IAAIP,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACM,QAAQ,CAAC,CAAC;MACjDC,QAAQ,EAAE,IAAIT,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACM,QAAQ,CAAC;KACpD,CAAC;EAT4E;EAE9EE,QAAQ;IACN;EAAA;EAQFC,KAAK;IACH,MAAMC,IAAI,GAAG,IAAI,CAACC,SAAS,CAACC,KAAK;IACjCC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;IACjB;IACA,IAAI,CAACK,QAAQ,CAACL,IAAI,CAACL,KAAM,EAAEK,IAAI,CAACH,QAAS,CAAC;EAC5C;EAEAQ,QAAQ,CAACV,KAAa,EAAEE,QAAgB;IACtC,IAAI,CAACJ,cAAc,CAACY,QAAQ,CAACV,KAAK,EAAEE,QAAQ,CAAC,CAACS,SAAS,CACrDC,IAAI,IAAG;MACLJ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;MACjBC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,IAAI,CAACG,UAAU,CAAC;MACjD,IAAI,CAAChB,MAAM,CAACiB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC,EACDC,KAAK,IAAG;MACNT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;MAClB,IAAI,CAACC,UAAU,GAAG,0BAA0B;IAC9C,CAAC,CACF;EACH;EAEAC,gBAAgB,CAACC,OAAY;IAC3B,IAAI,CAACtB,cAAc,CAACuB,oBAAoB,CAACD,OAAO,CAAC,CAACT,SAAS,CACzDC,IAAI,IAAG;MACLJ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;IACnB,CAAC,EACDK,KAAK,IAAG;MACNT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;IACpB,CAAC,CACF;EACH;;AA3CWrB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BC,iCAAuB;MAGjBA,yBAAmF;MACnFA,+BAAgC;MAAAA,kCAAkB;MAAAA,iBAAO;MAE3DA,8BAAyB;MACIA,uIAAwB;MAAAA,iBAAO;MAC1DA,4BAAmD;MAAAA,mFAAW;MAAAA,iBAAI;MAKxEA,gCAA+B;MAEDA,+CAAK;MAAAA,iBAAK;MACpCA,iCAAyB;MAAAA,aAAgB;MAAAA,iBAAO;MAChDA,iCAAgE;MAArBA;QAAA,OAAYC,WAAO;MAAA,EAAC;MAC7DD,6BAA6E;MAE7EA,mCACyE;MACvEA,qFACF;MAAAA,iBAAS;MAEXA,gCAA+B;MACFA,wIAAwB;MAAAA,iBAAO;MAC1DA,8BAAmD;MAAAA,mFAAW;MAAAA,iBAAI;;;MAX3CA,gBAAgB;MAAhBA,oCAAgB;MACtBA,eAAuB;MAAvBA,yCAAuB","names":["FormControl","FormGroup","Validators","LoginComponent","constructor","accountService","router","email","required","password","ngOnInit","login","form","formLogin","value","console","log","getToken","subscribe","data","localStorage","setItem","auth_token","navigate","error","errorLogin","getUserWithToken","MyToken","getAccountWhithToken","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\denis\\PycharmProjects\\example_project\\frontend\\src\\app\\components\\login\\login.component.ts","C:\\Users\\denis\\PycharmProjects\\example_project\\frontend\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {AccountService} from \"../../servicies/account.service\";\r\nimport {Router} from \"@angular/router\";\r\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit{\r\n  errorLogin: string ='';\r\n  constructor(private accountService: AccountService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    // this.getUserWithToken(localStorage.getItem('my-token'));\r\n  }\r\n\r\n  formLogin = new FormGroup({\r\n    email: new FormControl('', [Validators.required]),\r\n    password: new FormControl('', [Validators.required]),\r\n  })\r\n\r\n  login(): void {\r\n    const form = this.formLogin.value;\r\n    console.log(form)\r\n    // this.createAccount(form.email!, form.password!, form.password2!);\r\n    this.getToken(form.email!, form.password!);\r\n  }\r\n\r\n  getToken(email: string, password: string): void {\r\n    this.accountService.getToken(email, password).subscribe(\r\n      data => {\r\n        console.log(data);\r\n        localStorage.setItem('my-token', data.auth_token);\r\n        this.router.navigate(['/main']);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        this.errorLogin = 'Вы ввели неверные данные';\r\n      }\r\n    )\r\n  }\r\n\r\n  getUserWithToken(MyToken: any): void {\r\n    this.accountService.getAccountWhithToken(MyToken).subscribe(\r\n      data => {\r\n        console.log(data);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n}\r\n","<header class=\"header\">\r\n  <div class=\"header__container\">\r\n    <a class=\"header__logo\" routerLink=\"/main\">\r\n      <img class=\"header__logo_img\" src=\"../../../assets/img/header/logo.png\" alt=\"logo\">\r\n      <span class=\"header__logo_text\">Master of Dungeons</span>\r\n    </a>\r\n    <div class=\"header__nav\">\r\n      <span class=\"header__text\">Ещё нет учетной записи ?</span>\r\n      <a routerLink=\"/registration\" class=\"header__link\">РЕГИСТРАЦИЯ</a>\r\n    </div>\r\n  </div>\r\n</header>\r\n\r\n<main class=\"login__container\">\r\n  <div class=\"login__window\">\r\n    <h2 class=\"login__form-h\">Войти</h2>\r\n    <span class=\"text-error\">{{ errorLogin }}</span>\r\n    <form class=\"form\" [formGroup]=\"formLogin\" (ngSubmit)=\"login()\">\r\n      <input placeholder=\"Электронная почта\" type=\"email\" formControlName=\"email\"/>\r\n      <input placeholder=\"Пароль\" type=\"password\" formControlName=\"password\"/>\r\n      <button tuiButton type=\"submit\" appearance=\"outline\"\r\n              class=\"tui-space_right-3 tui-space_bottom-3 btn-submit\" size=\"s\">\r\n        Подтвердить\r\n      </button>\r\n    </form>\r\n    <div class=\"footer__container\">\r\n      <span class=\"footer__text\">Ещё нет учетной записи ?</span>\r\n      <a routerLink=\"/registration\" class=\"footer__link\">Регистрация</a>\r\n    </div>\r\n  </div>\r\n</main>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}