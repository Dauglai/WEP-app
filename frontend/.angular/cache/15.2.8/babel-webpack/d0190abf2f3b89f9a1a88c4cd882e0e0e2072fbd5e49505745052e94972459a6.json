{"ast":null,"code":"import { TUI_DEFAULT_LANGUAGE, TUI_LANGUAGE_STORAGE_KEY, TUI_LANGUAGE_LOADER, TUI_LANGUAGE } from '@taiga-ui/i18n/tokens';\nimport * as i0 from '@angular/core';\nimport { Injectable, Inject, Optional } from '@angular/core';\nimport { LOCAL_STORAGE } from '@ng-web-apis/common';\nimport { of, from, BehaviorSubject } from 'rxjs';\nimport { __awaiter } from 'tslib';\nimport { map } from 'rxjs/operators';\nfunction tuiAsyncLoadLanguage(language, loader, fallback) {\n  return language && loader ? tuiLoadLanguage(language, loader) : of(fallback);\n}\nfunction tuiLoadLanguage(language, loader) {\n  return from(normalizeCommonJSImport(loader(language))).pipe(map(module => module === null || module === void 0 ? void 0 : module[`TUI_${language.toUpperCase()}_LANGUAGE`]));\n}\n// CommonJS `module.exports` is wrapped as `default` in ESModule.\nfunction normalizeCommonJSImport(importPromise) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return importPromise.then(m => m.default || m);\n  });\n}\n\n// @dynamic\nclass TuiLanguageSwitcher extends BehaviorSubject {\n  constructor(fallback, key, storage, loader) {\n    super(tuiAsyncLoadLanguage(storage.getItem(key), loader, fallback));\n    this.fallback = fallback;\n    this.key = key;\n    this.storage = storage;\n    this.loader = loader;\n  }\n  get language() {\n    return this.storage.getItem(this.key) || this.fallback.name;\n  }\n  setLanguage(language) {\n    this.storage.setItem(this.key, language);\n    this.next(tuiAsyncLoadLanguage(language, this.loader, this.fallback));\n  }\n  clear() {\n    this.storage.removeItem(this.key);\n    this.next(of(this.fallback));\n  }\n}\nTuiLanguageSwitcher.ɵfac = function TuiLanguageSwitcher_Factory(t) {\n  return new (t || TuiLanguageSwitcher)(i0.ɵɵinject(TUI_DEFAULT_LANGUAGE), i0.ɵɵinject(TUI_LANGUAGE_STORAGE_KEY), i0.ɵɵinject(LOCAL_STORAGE), i0.ɵɵinject(TUI_LANGUAGE_LOADER, 8));\n};\nTuiLanguageSwitcher.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: TuiLanguageSwitcher,\n  factory: TuiLanguageSwitcher.ɵfac,\n  providedIn: `root`\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiLanguageSwitcher, [{\n    type: Injectable,\n    args: [{\n      providedIn: `root`\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_DEFAULT_LANGUAGE]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TUI_LANGUAGE_STORAGE_KEY]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCAL_STORAGE]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [TUI_LANGUAGE_LOADER]\n      }]\n    }];\n  }, null);\n})();\nfunction tuiLanguageSwitcher(loader) {\n  return [{\n    provide: TUI_LANGUAGE_LOADER,\n    useFactory: () => loader\n  }, {\n    provide: TUI_LANGUAGE,\n    useExisting: TuiLanguageSwitcher\n  }];\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLanguageSwitcher, tuiAsyncLoadLanguage, tuiLanguageSwitcher, tuiLoadLanguage };","map":{"version":3,"names":["TUI_DEFAULT_LANGUAGE","TUI_LANGUAGE_STORAGE_KEY","TUI_LANGUAGE_LOADER","TUI_LANGUAGE","i0","Injectable","Inject","Optional","LOCAL_STORAGE","of","from","BehaviorSubject","__awaiter","map","tuiAsyncLoadLanguage","language","loader","fallback","tuiLoadLanguage","normalizeCommonJSImport","pipe","module","toUpperCase","importPromise","then","m","default","TuiLanguageSwitcher","constructor","key","storage","getItem","name","setLanguage","setItem","next","clear","removeItem","ɵfac","ɵprov","type","args","providedIn","undefined","decorators","tuiLanguageSwitcher","provide","useFactory","useExisting"],"sources":["C:/Users/denis/PycharmProjects/example_project/frontend/node_modules/@taiga-ui/i18n/fesm2015/taiga-ui-i18n-switch.js"],"sourcesContent":["import { TUI_DEFAULT_LANGUAGE, TUI_LANGUAGE_STORAGE_KEY, TUI_LANGUAGE_LOADER, TUI_LANGUAGE } from '@taiga-ui/i18n/tokens';\nimport * as i0 from '@angular/core';\nimport { Injectable, Inject, Optional } from '@angular/core';\nimport { LOCAL_STORAGE } from '@ng-web-apis/common';\nimport { of, from, BehaviorSubject } from 'rxjs';\nimport { __awaiter } from 'tslib';\nimport { map } from 'rxjs/operators';\n\nfunction tuiAsyncLoadLanguage(language, loader, fallback) {\n    return language && loader ? tuiLoadLanguage(language, loader) : of(fallback);\n}\nfunction tuiLoadLanguage(language, loader) {\n    return from(normalizeCommonJSImport(loader(language))).pipe(map((module) => module === null || module === void 0 ? void 0 : module[`TUI_${language.toUpperCase()}_LANGUAGE`]));\n}\n// CommonJS `module.exports` is wrapped as `default` in ESModule.\nfunction normalizeCommonJSImport(importPromise) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return importPromise.then((m) => m.default || m);\n    });\n}\n\n// @dynamic\nclass TuiLanguageSwitcher extends BehaviorSubject {\n    constructor(fallback, key, storage, loader) {\n        super(tuiAsyncLoadLanguage(storage.getItem(key), loader, fallback));\n        this.fallback = fallback;\n        this.key = key;\n        this.storage = storage;\n        this.loader = loader;\n    }\n    get language() {\n        return this.storage.getItem(this.key) || this.fallback.name;\n    }\n    setLanguage(language) {\n        this.storage.setItem(this.key, language);\n        this.next(tuiAsyncLoadLanguage(language, this.loader, this.fallback));\n    }\n    clear() {\n        this.storage.removeItem(this.key);\n        this.next(of(this.fallback));\n    }\n}\nTuiLanguageSwitcher.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiLanguageSwitcher, deps: [{ token: TUI_DEFAULT_LANGUAGE }, { token: TUI_LANGUAGE_STORAGE_KEY }, { token: LOCAL_STORAGE }, { token: TUI_LANGUAGE_LOADER, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nTuiLanguageSwitcher.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiLanguageSwitcher, providedIn: `root` });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: TuiLanguageSwitcher, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: `root` }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_DEFAULT_LANGUAGE]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [TUI_LANGUAGE_STORAGE_KEY]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [LOCAL_STORAGE]\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [TUI_LANGUAGE_LOADER]\n                }] }]; } });\n\nfunction tuiLanguageSwitcher(loader) {\n    return [\n        {\n            provide: TUI_LANGUAGE_LOADER,\n            useFactory: () => loader,\n        },\n        {\n            provide: TUI_LANGUAGE,\n            useExisting: TuiLanguageSwitcher,\n        },\n    ];\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLanguageSwitcher, tuiAsyncLoadLanguage, tuiLanguageSwitcher, tuiLoadLanguage };\n"],"mappings":"AAAA,SAASA,oBAAoB,EAAEC,wBAAwB,EAAEC,mBAAmB,EAAEC,YAAY,QAAQ,uBAAuB;AACzH,OAAO,KAAKC,EAAE,MAAM,eAAe;AACnC,SAASC,UAAU,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,eAAe;AAC5D,SAASC,aAAa,QAAQ,qBAAqB;AACnD,SAASC,EAAE,EAAEC,IAAI,EAAEC,eAAe,QAAQ,MAAM;AAChD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,GAAG,QAAQ,gBAAgB;AAEpC,SAASC,oBAAoB,CAACC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,EAAE;EACtD,OAAOF,QAAQ,IAAIC,MAAM,GAAGE,eAAe,CAACH,QAAQ,EAAEC,MAAM,CAAC,GAAGP,EAAE,CAACQ,QAAQ,CAAC;AAChF;AACA,SAASC,eAAe,CAACH,QAAQ,EAAEC,MAAM,EAAE;EACvC,OAAON,IAAI,CAACS,uBAAuB,CAACH,MAAM,CAACD,QAAQ,CAAC,CAAC,CAAC,CAACK,IAAI,CAACP,GAAG,CAAEQ,MAAM,IAAKA,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAE,OAAMN,QAAQ,CAACO,WAAW,EAAG,WAAU,CAAC,CAAC,CAAC;AAClL;AACA;AACA,SAASH,uBAAuB,CAACI,aAAa,EAAE;EAC5C,OAAOX,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAChD,OAAOW,aAAa,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,OAAO,IAAID,CAAC,CAAC;EACpD,CAAC,CAAC;AACN;;AAEA;AACA,MAAME,mBAAmB,SAAShB,eAAe,CAAC;EAC9CiB,WAAW,CAACX,QAAQ,EAAEY,GAAG,EAAEC,OAAO,EAAEd,MAAM,EAAE;IACxC,KAAK,CAACF,oBAAoB,CAACgB,OAAO,CAACC,OAAO,CAACF,GAAG,CAAC,EAAEb,MAAM,EAAEC,QAAQ,CAAC,CAAC;IACnE,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACY,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACd,MAAM,GAAGA,MAAM;EACxB;EACA,IAAID,QAAQ,GAAG;IACX,OAAO,IAAI,CAACe,OAAO,CAACC,OAAO,CAAC,IAAI,CAACF,GAAG,CAAC,IAAI,IAAI,CAACZ,QAAQ,CAACe,IAAI;EAC/D;EACAC,WAAW,CAAClB,QAAQ,EAAE;IAClB,IAAI,CAACe,OAAO,CAACI,OAAO,CAAC,IAAI,CAACL,GAAG,EAAEd,QAAQ,CAAC;IACxC,IAAI,CAACoB,IAAI,CAACrB,oBAAoB,CAACC,QAAQ,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,QAAQ,CAAC,CAAC;EACzE;EACAmB,KAAK,GAAG;IACJ,IAAI,CAACN,OAAO,CAACO,UAAU,CAAC,IAAI,CAACR,GAAG,CAAC;IACjC,IAAI,CAACM,IAAI,CAAC1B,EAAE,CAAC,IAAI,CAACQ,QAAQ,CAAC,CAAC;EAChC;AACJ;AACAU,mBAAmB,CAACW,IAAI;EAAA,iBAAyFX,mBAAmB,EAA7BvB,EAAE,UAA6CJ,oBAAoB,GAAnEI,EAAE,UAA8EH,wBAAwB,GAAxGG,EAAE,UAAmHI,aAAa,GAAlIJ,EAAE,UAA6IF,mBAAmB;AAAA,CAA6D;AACtUyB,mBAAmB,CAACY,KAAK,kBAD8EnC,EAAE;EAAA,OACYuB,mBAAmB;EAAA,SAAnBA,mBAAmB;EAAA,YAAe;AAAK,EAAG;AAC/J;EAAA,mDAFuGvB,EAAE,mBAEbuB,mBAAmB,EAAc,CAAC;IAClHa,IAAI,EAAEnC,UAAU;IAChBoC,IAAI,EAAE,CAAC;MAAEC,UAAU,EAAG;IAAM,CAAC;EACjC,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEF,IAAI,EAAEG,SAAS;MAAEC,UAAU,EAAE,CAAC;QAC9DJ,IAAI,EAAElC,MAAM;QACZmC,IAAI,EAAE,CAACzC,oBAAoB;MAC/B,CAAC;IAAE,CAAC,EAAE;MAAEwC,IAAI,EAAEG,SAAS;MAAEC,UAAU,EAAE,CAAC;QAClCJ,IAAI,EAAElC,MAAM;QACZmC,IAAI,EAAE,CAACxC,wBAAwB;MACnC,CAAC;IAAE,CAAC,EAAE;MAAEuC,IAAI,EAAEG,SAAS;MAAEC,UAAU,EAAE,CAAC;QAClCJ,IAAI,EAAElC,MAAM;QACZmC,IAAI,EAAE,CAACjC,aAAa;MACxB,CAAC;IAAE,CAAC,EAAE;MAAEgC,IAAI,EAAEG,SAAS;MAAEC,UAAU,EAAE,CAAC;QAClCJ,IAAI,EAAEjC;MACV,CAAC,EAAE;QACCiC,IAAI,EAAElC,MAAM;QACZmC,IAAI,EAAE,CAACvC,mBAAmB;MAC9B,CAAC;IAAE,CAAC,CAAC;EAAE,CAAC;AAAA;AAExB,SAAS2C,mBAAmB,CAAC7B,MAAM,EAAE;EACjC,OAAO,CACH;IACI8B,OAAO,EAAE5C,mBAAmB;IAC5B6C,UAAU,EAAE,MAAM/B;EACtB,CAAC,EACD;IACI8B,OAAO,EAAE3C,YAAY;IACrB6C,WAAW,EAAErB;EACjB,CAAC,CACJ;AACL;;AAEA;AACA;AACA;;AAEA,SAASA,mBAAmB,EAAEb,oBAAoB,EAAE+B,mBAAmB,EAAE3B,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}