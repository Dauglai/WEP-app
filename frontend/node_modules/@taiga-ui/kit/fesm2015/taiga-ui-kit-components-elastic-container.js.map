{"version":3,"file":"taiga-ui-kit-components-elastic-container.js","sources":["../../../projects/kit/components/elastic-container/elastic-container.directive.ts","../../../projects/kit/components/elastic-container/elastic-container.component.ts","../../../projects/kit/components/elastic-container/elastic-container.component.html","../../../projects/kit/components/elastic-container/elastic-container.module.ts","../../../projects/kit/components/elastic-container/taiga-ui-kit-components-elastic-container.ts"],"sourcesContent":["import {Directive, ElementRef, Inject, Output} from '@angular/core';\nimport {\n    MUTATION_OBSERVER_INIT,\n    MutationObserverService,\n} from '@ng-web-apis/mutation-observer';\nimport {ResizeObserverService} from '@ng-web-apis/resize-observer';\nimport {merge, Observable} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, map} from 'rxjs/operators';\n\n@Directive({\n    selector: '[tuiElasticContainer]',\n    providers: [\n        ResizeObserverService,\n        MutationObserverService,\n        {\n            provide: MUTATION_OBSERVER_INIT,\n            useValue: {\n                childList: true,\n                characterData: true,\n                subtree: true,\n            },\n        },\n    ],\n})\nexport class TuiElasticContainerDirective {\n    @Output()\n    readonly tuiElasticContainer = merge(this.resize$, this.mutation$).pipe(\n        debounceTime(0),\n        map(() => this.el.nativeElement.clientHeight - 1),\n        distinctUntilChanged(),\n    );\n\n    constructor(\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n        @Inject(ResizeObserverService) private readonly resize$: Observable<unknown>,\n        @Inject(MutationObserverService) private readonly mutation$: Observable<unknown>,\n    ) {}\n}\n","import {ChangeDetectionStrategy, Component, HostBinding} from '@angular/core';\nimport {shouldCall} from '@tinkoff/ng-event-plugins';\n\n@Component({\n    selector: 'tui-elastic-container',\n    templateUrl: './elastic-container.component.html',\n    styleUrls: ['./elastic-container.component.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiElasticContainerComponent {\n    @HostBinding('style.height.px')\n    height = NaN;\n\n    @HostBinding('class._transitioning')\n    transitions = 0;\n\n    @shouldCall(name => name === 'height')\n    onAnimation(_name: string, count: number): void {\n        this.transitions += count;\n    }\n}\n","<div\n    class=\"t-wrapper\"\n    (transitionstart.silent)=\"onAnimation($any($event).propertyName, 1)\"\n    (transitionend.silent)=\"onAnimation($any($event).propertyName, -1)\"\n    (transitioncancel.silent)=\"onAnimation($any($event).propertyName, -1)\"\n    (tuiElasticContainer)=\"height = $event\"\n>\n    <ng-content></ng-content>\n</div>\n","import {NgModule} from '@angular/core';\n\nimport {TuiElasticContainerComponent} from './elastic-container.component';\nimport {TuiElasticContainerDirective} from './elastic-container.directive';\n\n@NgModule({\n    declarations: [TuiElasticContainerComponent, TuiElasticContainerDirective],\n    exports: [TuiElasticContainerComponent],\n})\nexport class TuiElasticContainerModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1.TuiElasticContainerDirective"],"mappings":"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"}