{"version":3,"file":"taiga-ui-kit-components-tabs.js","sources":["../../../projects/kit/components/tabs/tab/tab.providers.ts","../../../projects/kit/components/tabs/tab/tab.component.ts","../../../projects/kit/components/tabs/tab/tab.template.html","../../../projects/kit/components/tabs/tabs.directive.ts","../../../projects/kit/components/tabs/tabs-options.ts","../../../projects/kit/components/tabs/underline/underline.component.ts","../../../projects/kit/components/tabs/tabs/tabs.component.ts","../../../projects/kit/components/tabs/tabs/tabs.template.html","../../../projects/kit/components/tabs/tabs-vertical/tabs-vertical.component.ts","../../../projects/kit/components/tabs/tabs-with-more/tabs-with-more.providers.ts","../../../projects/kit/components/tabs/tabs-with-more/tabs-with-more.component.ts","../../../projects/kit/components/tabs/tabs-with-more/tabs-with-more.template.html","../../../projects/kit/components/tabs/tabs.module.ts","../../../projects/kit/components/tabs/taiga-ui-kit-components-tabs.ts"],"sourcesContent":["import {ElementRef, InjectionToken, Optional, Provider} from '@angular/core';\nimport {RouterLinkActive} from '@angular/router';\nimport {MutationObserverService} from '@ng-web-apis/mutation-observer';\nimport {\n    TuiDestroyService,\n    TuiFocusVisibleService,\n    tuiTypedFromEvent,\n} from '@taiga-ui/cdk';\nimport {MODE_PROVIDER, TuiRouterLinkActiveService} from '@taiga-ui/core';\nimport {EMPTY, identity, merge, Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\n\n/**\n * Stream of tab activation events\n */\nexport const TUI_TAB_EVENT = new InjectionToken<Observable<Event>>(`[TUI_TAB_EVENT]`);\nexport const TUI_TAB_ACTIVATE = `tui-tab-activate`;\nexport const TUI_TAB_PROVIDERS: Provider[] = [\n    TuiDestroyService,\n    TuiFocusVisibleService,\n    TuiRouterLinkActiveService,\n    {\n        provide: TUI_TAB_EVENT,\n        deps: [\n            ElementRef,\n            TuiRouterLinkActiveService,\n            [new Optional(), MutationObserverService],\n            [new Optional(), RouterLinkActive],\n        ],\n        useFactory: (\n            {nativeElement}: ElementRef<HTMLElement>,\n            routerLinkActiveService: Observable<boolean>,\n            mutationObserverService: MutationObserverService | null,\n            routerLinkActive: RouterLinkActive | null,\n        ): Observable<unknown> => {\n            const mutationObserver =\n                routerLinkActive && mutationObserverService\n                    ? mutationObserverService.pipe(\n                          filter(() => routerLinkActive.isActive),\n                      )\n                    : EMPTY;\n\n            return merge(\n                mutationObserver,\n                routerLinkActiveService.pipe(filter(identity)),\n                nativeElement.matches(`button`)\n                    ? tuiTypedFromEvent(nativeElement, `click`)\n                    : EMPTY,\n            ).pipe(\n                map(() =>\n                    nativeElement.dispatchEvent(\n                        new CustomEvent(TUI_TAB_ACTIVATE, {bubbles: true}),\n                    ),\n                ),\n            );\n        },\n    },\n    MODE_PROVIDER,\n];\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    HostBinding,\n    Inject,\n    OnDestroy,\n    Optional,\n} from '@angular/core';\nimport {RouterLinkActive} from '@angular/router';\nimport {TuiFocusVisibleService, tuiIsNativeFocused} from '@taiga-ui/cdk';\nimport {TUI_MODE, TuiBrightness} from '@taiga-ui/core';\nimport {TUI_TAB_MARGIN} from '@taiga-ui/kit/tokens';\nimport {Observable} from 'rxjs';\n\nimport {TUI_TAB_EVENT, TUI_TAB_PROVIDERS} from './tab.providers';\n\n@Component({\n    selector:\n        'a[tuiTab]:not([routerLink]), a[tuiTab][routerLink][routerLinkActive], button[tuiTab]',\n    templateUrl: './tab.template.html',\n    styleUrls: ['./tab.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: TUI_TAB_PROVIDERS,\n    host: {\n        '($.data-mode.attr)': 'mode$',\n        /**\n         * SSR hack - problem with the Domino renderer that Angular uses for its server-side DOM implementation.\n         * Domino doesn't support CSS variables and some CSS properties like clip-path.\n         * Read more: https://github.com/Tinkoff/taiga-ui/issues/3210#issuecomment-1375788017\n         * ___\n         * TODO: drop this line after Angular team switch over to a new JavaScript DOM API\n         * https://github.com/angular/angular/issues/42170\n         */\n        '[style.cursor]': '\"pointer\"',\n        '[style.--tui-tab-margin.px]': 'margin',\n        type: 'button',\n    },\n})\nexport class TuiTabComponent implements OnDestroy {\n    @HostBinding('class._focus-visible')\n    focusVisible = false;\n\n    constructor(\n        @Optional()\n        @Inject(RouterLinkActive)\n        private readonly routerLinkActive: RouterLinkActive | null,\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n        @Inject(TUI_MODE) readonly mode$: Observable<TuiBrightness | null>,\n        @Inject(TUI_TAB_EVENT) readonly event$: Observable<Event>,\n        @Inject(TUI_TAB_MARGIN) readonly margin: number,\n        @Inject(TuiFocusVisibleService) focusVisible$: TuiFocusVisibleService,\n    ) {\n        focusVisible$.subscribe(visible => {\n            this.focusVisible = visible;\n        });\n    }\n\n    @HostBinding('class._active')\n    get isActive(): boolean {\n        return !!this.routerLinkActive && this.routerLinkActive.isActive;\n    }\n\n    ngOnDestroy(): void {\n        if (tuiIsNativeFocused(this.el.nativeElement)) {\n            this.el.nativeElement.blur();\n        }\n    }\n}\n","<ng-container *ngIf=\"event$ | async\"></ng-container>\n<span class=\"t-highlight\">\n    <ng-content></ng-content>\n</span>\n","import {\n    AfterViewChecked,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {tuiDefaultProp, tuiMoveFocus} from '@taiga-ui/cdk';\n\nimport {TUI_TAB_ACTIVATE} from './tab/tab.providers';\n\n@Directive({\n    selector: 'tui-tabs, nav[tuiTabs]',\n})\nexport class TuiTabsDirective implements AfterViewChecked {\n    @Input()\n    @tuiDefaultProp()\n    activeItemIndex = 0;\n\n    @Output()\n    readonly activeItemIndexChange = new EventEmitter<number>();\n\n    constructor(@Inject(ElementRef) private readonly el: ElementRef<HTMLElement>) {}\n\n    get tabs(): readonly HTMLElement[] {\n        return Array.from(\n            this.el.nativeElement.querySelectorAll<HTMLElement>('[tuiTab]'),\n        );\n    }\n\n    get activeElement(): HTMLElement | null {\n        return this.tabs[this.activeItemIndex] || null;\n    }\n\n    @HostListener(TUI_TAB_ACTIVATE, ['$event', '$event.target'])\n    onActivate(event: Event, element: HTMLElement): void {\n        const index = this.tabs.findIndex(tab => tab === element);\n\n        event.stopPropagation();\n\n        if (index === this.activeItemIndex) {\n            return;\n        }\n\n        this.activeItemIndexChange.emit(index);\n        this.activeItemIndex = index;\n    }\n\n    moveFocus(current: HTMLElement, step: number): void {\n        const {tabs} = this;\n\n        tuiMoveFocus(tabs.indexOf(current), tabs, step);\n    }\n\n    ngAfterViewChecked(): void {\n        const {tabs, activeElement} = this;\n\n        tabs.forEach(nativeElement => {\n            const active = nativeElement === activeElement;\n\n            nativeElement.classList.toggle('_active', active);\n            nativeElement.setAttribute('tabIndex', active ? '0' : '-1');\n        });\n    }\n}\n","import {InjectionToken, ValueProvider} from '@angular/core';\n\nexport interface TuiTabsOptions {\n    readonly underline: boolean;\n    readonly exposeActive: boolean;\n    readonly itemsLimit: number;\n    readonly minMoreWidth: number;\n}\n\nexport const TUI_TABS_DEFAULT_OPTIONS: TuiTabsOptions = {\n    underline: true,\n    exposeActive: true,\n    itemsLimit: Infinity,\n    minMoreWidth: 0,\n};\n\n/**\n * Default parameters for Tabs component\n */\nexport const TUI_TABS_OPTIONS = new InjectionToken<TuiTabsOptions>(`[TUI_TABS_OPTIONS]`, {\n    factory: () => TUI_TABS_DEFAULT_OPTIONS,\n});\n\nexport const tuiTabsOptionsProvider: (\n    options: Partial<TuiTabsOptions>,\n) => ValueProvider = (options: Partial<TuiTabsOptions>) => ({\n    provide: TUI_TABS_OPTIONS,\n    useValue: {...TUI_TABS_DEFAULT_OPTIONS, ...options},\n});\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    HostListener,\n    Inject,\n    Input,\n    NgZone,\n} from '@angular/core';\nimport {ANIMATION_FRAME} from '@ng-web-apis/common';\nimport {tuiDefaultProp, tuiZonefree} from '@taiga-ui/cdk';\nimport {MODE_PROVIDER, TUI_MODE, TuiBrightness} from '@taiga-ui/core';\nimport {asCallable} from '@tinkoff/ng-event-plugins';\nimport {Observable, of, ReplaySubject} from 'rxjs';\nimport {debounceTime, map, share, switchMap} from 'rxjs/operators';\n\n@Component({\n    selector: 'tui-underline',\n    template: '',\n    styleUrls: ['./underline.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [MODE_PROVIDER],\n    host: {\n        '($.data-mode.attr)': 'mode$',\n    },\n})\nexport class TuiUnderlineComponent {\n    private readonly el$ = new ReplaySubject<HTMLElement | null>(1);\n\n    private readonly refresh$ = this.el$.pipe(\n        switchMap(element =>\n            element\n                ? this.animationFrame$.pipe(\n                      map(() => element),\n                      tuiZonefree(this.ngZone),\n                  )\n                : of(null),\n        ),\n        share(),\n    );\n\n    @Input()\n    @tuiDefaultProp()\n    set element(element: HTMLElement | null) {\n        this.el$.next(element);\n    }\n\n    @HostListener('$.style.transitionProperty')\n    readonly transition$ = asCallable(\n        this.el$.pipe(\n            map(element => element && 'all'),\n            debounceTime(50),\n        ),\n    );\n\n    @HostListener('$.style.transform')\n    readonly transform$ = asCallable(\n        this.refresh$.pipe(\n            map(element =>\n                element ? `translate3d(${element.offsetLeft}px, 0, 0)` : null,\n            ),\n        ),\n    );\n\n    @HostListener('$.style.width.px')\n    readonly width$ = asCallable(\n        this.refresh$.pipe(map(element => element?.clientWidth || 0)),\n    );\n\n    constructor(\n        @Inject(ElementRef) {nativeElement}: ElementRef,\n        @Inject(NgZone) private readonly ngZone: NgZone,\n        @Inject(ANIMATION_FRAME) private readonly animationFrame$: Observable<number>,\n        @Inject(TUI_MODE) readonly mode$: Observable<TuiBrightness | null>,\n    ) {\n        nativeElement['$.style.transitionProperty'] = this.transition$;\n        nativeElement['$.style.transform'] = this.transform$;\n        nativeElement['$.style.width.px'] = this.width$;\n    }\n}\n","import {\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChildren,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    QueryList,\n} from '@angular/core';\nimport {\n    MUTATION_OBSERVER_INIT,\n    MutationObserverService,\n} from '@ng-web-apis/mutation-observer';\nimport {\n    EMPTY_QUERY,\n    tuiDefaultProp,\n    TuiDestroyService,\n    tuiPure,\n    TuiResizeService,\n} from '@taiga-ui/cdk';\nimport {Observable} from 'rxjs';\nimport {filter} from 'rxjs/operators';\n\nimport {TuiTabComponent} from '../tab/tab.component';\nimport {TuiTabsDirective} from '../tabs.directive';\nimport {TUI_TABS_OPTIONS, TuiTabsOptions} from '../tabs-options';\n\n@Component({\n    selector: 'tui-tabs:not([vertical]), nav[tuiTabs]:not([vertical])',\n    templateUrl: './tabs.template.html',\n    styleUrls: ['./tabs.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        TuiDestroyService,\n        TuiResizeService,\n        MutationObserverService,\n        {\n            provide: MUTATION_OBSERVER_INIT,\n            useValue: {\n                childList: true,\n            },\n        },\n    ],\n})\nexport class TuiTabsComponent implements AfterViewChecked {\n    @ContentChildren(forwardRef(() => TuiTabComponent))\n    readonly children: QueryList<unknown> = EMPTY_QUERY;\n\n    @Input()\n    @HostBinding('class._underline')\n    @tuiDefaultProp()\n    underline = this.options.underline;\n\n    constructor(\n        @Inject(TUI_TABS_OPTIONS) private readonly options: TuiTabsOptions,\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n        @Inject(TuiTabsDirective) private readonly tabs: TuiTabsDirective,\n        @Inject(ChangeDetectorRef) cdr: ChangeDetectorRef,\n        @Inject(TuiResizeService) resize$: Observable<void>,\n    ) {\n        resize$.pipe(filter(() => this.underline)).subscribe(() => {\n            cdr.detectChanges();\n        });\n    }\n\n    /** @deprecated use `activeItemIndex` from {@link TuiTabsDirective} instead */\n    get activeItemIndex(): number {\n        return this.tabs.activeItemIndex;\n    }\n\n    /** @deprecated use `activeItemIndex` from {@link TuiTabsDirective} instead */\n    set activeItemIndex(index: number) {\n        this.tabs.activeItemIndex = index;\n    }\n\n    get activeElement(): HTMLElement | null {\n        return this.tabs.activeElement;\n    }\n\n    @HostListener('keydown.arrowRight.prevent', ['$event.target', '1'])\n    @HostListener('keydown.arrowLeft.prevent', ['$event.target', '-1'])\n    onKeyDownArrow(current: HTMLElement, step: number): void {\n        this.tabs.moveFocus(current, step);\n    }\n\n    ngAfterViewChecked(): void {\n        this.scrollTo(this.tabs.activeItemIndex);\n    }\n\n    @tuiPure\n    private scrollTo(index: number): void {\n        const element = this.tabs.tabs[index];\n\n        if (!element) {\n            return;\n        }\n\n        const {offsetLeft, offsetWidth} = element;\n        const {nativeElement} = this.el;\n\n        if (offsetLeft < nativeElement.scrollLeft) {\n            nativeElement.scrollLeft = offsetLeft;\n        }\n\n        if (\n            offsetLeft + offsetWidth >\n            nativeElement.scrollLeft + nativeElement.offsetWidth\n        ) {\n            nativeElement.scrollLeft =\n                offsetLeft + offsetWidth - nativeElement.offsetWidth;\n        }\n    }\n}\n","<ng-container *ngIf=\"children.changes | async\"></ng-container>\n<ng-content></ng-content>\n<tui-underline\n    *ngIf=\"underline\"\n    class=\"t-underline\"\n    [element]=\"activeElement\"\n></tui-underline>\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n} from '@angular/core';\nimport {tuiDefaultProp} from '@taiga-ui/cdk';\nimport {TuiHorizontalDirection} from '@taiga-ui/core';\n\nimport {TuiTabsDirective} from '../tabs.directive';\n\n@Component({\n    selector: 'tui-tabs[vertical], nav[tuiTabs][vertical]',\n    template: `\n        <ng-content></ng-content>\n    `,\n    styleUrls: ['./tabs-vertical.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiTabsVerticalComponent {\n    @Input()\n    @HostBinding('attr.data-vertical')\n    @tuiDefaultProp()\n    vertical: TuiHorizontalDirection = 'left';\n\n    constructor(@Inject(TuiTabsDirective) private readonly tabs: TuiTabsDirective) {}\n\n    @HostListener('keydown.arrowDown.prevent', ['$event.target', '1'])\n    @HostListener('keydown.arrowUp.prevent', ['$event.target', '-1'])\n    onKeyDownArrow(current: HTMLElement, step: number): void {\n        this.tabs.moveFocus(current, step);\n    }\n}\n","import {DOCUMENT} from '@angular/common';\nimport {ChangeDetectorRef, ElementRef, InjectionToken, Provider} from '@angular/core';\nimport {\n    MUTATION_OBSERVER_INIT,\n    MutationObserverService,\n} from '@ng-web-apis/mutation-observer';\nimport {TuiDestroyService, TuiResizeService} from '@taiga-ui/cdk';\nimport {merge, Observable} from 'rxjs';\nimport {debounceTime, filter, startWith, takeUntil, tap} from 'rxjs/operators';\n\nexport const TUI_TABS_REFRESH = new InjectionToken<Observable<unknown>>(\n    `[TUI_TABS_REFRESH]`,\n);\nexport const TUI_TABS_PROVIDERS: Provider[] = [\n    TuiResizeService,\n    TuiDestroyService,\n    MutationObserverService,\n    {\n        provide: MUTATION_OBSERVER_INIT,\n        useValue: {\n            childList: true,\n            subtree: true,\n            characterData: true,\n        },\n    },\n    {\n        provide: TUI_TABS_REFRESH,\n        deps: [\n            TuiResizeService,\n            MutationObserverService,\n            TuiDestroyService,\n            DOCUMENT,\n            ElementRef,\n            ChangeDetectorRef,\n        ],\n        useFactory: (\n            resize$: Observable<unknown>,\n            mutations$: Observable<unknown>,\n            destroy$: Observable<unknown>,\n            {body}: Document,\n            {nativeElement}: ElementRef<Node>,\n            cdr: ChangeDetectorRef,\n        ): Observable<unknown> => {\n            return merge(resize$, mutations$.pipe(tap(() => cdr.detectChanges()))).pipe(\n                // Ignoring cases when host is detached from DOM\n                filter(() => body.contains(nativeElement)),\n                debounceTime(0),\n                startWith(null),\n                takeUntil(destroy$),\n            );\n        },\n    },\n];\n","import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChildren,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Inject,\n    Input,\n    Output,\n    QueryList,\n    TemplateRef,\n    ViewChild,\n} from '@angular/core';\nimport {\n    EMPTY_QUERY,\n    TuiActiveZoneDirective,\n    tuiClamp,\n    TuiContextWithImplicit,\n    tuiDefaultProp,\n    tuiGetClosestFocusable,\n    tuiIsElement,\n    tuiIsNativeFocused,\n    TuiItemDirective,\n    tuiToInt,\n} from '@taiga-ui/cdk';\nimport {TUI_MORE_WORD, TUI_TAB_MARGIN} from '@taiga-ui/kit/tokens';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\n\nimport {TuiTabComponent} from '../tab/tab.component';\nimport {TUI_TABS_OPTIONS, TuiTabsOptions} from '../tabs-options';\nimport {TUI_TABS_PROVIDERS, TUI_TABS_REFRESH} from './tabs-with-more.providers';\n\n@Component({\n    selector: 'tui-tabs-with-more, nav[tuiTabsWithMore]',\n    templateUrl: './tabs-with-more.template.html',\n    styleUrls: ['./tabs-with-more.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: TUI_TABS_PROVIDERS,\n})\nexport class TuiTabsWithMoreComponent implements AfterViewInit {\n    @ViewChild(TuiTabComponent, {read: ElementRef})\n    private readonly moreButton?: ElementRef<HTMLButtonElement>;\n\n    private maxIndex = Infinity;\n\n    @Input()\n    moreContent: PolymorpheusContent;\n\n    @Input()\n    dropdownContent: PolymorpheusContent<TuiContextWithImplicit<TuiActiveZoneDirective>>;\n\n    @Input()\n    @HostBinding('class._underline')\n    @tuiDefaultProp()\n    underline = this.options.underline;\n\n    @Input()\n    @tuiDefaultProp()\n    activeItemIndex = 0;\n\n    @Input()\n    @tuiDefaultProp()\n    itemsLimit = this.options.itemsLimit;\n\n    @Output()\n    readonly activeItemIndexChange = new EventEmitter<number>();\n\n    @ContentChildren(TuiItemDirective, {read: TemplateRef})\n    readonly items: QueryList<TemplateRef<Record<string, unknown>>> = EMPTY_QUERY;\n\n    open = false;\n\n    constructor(\n        @Inject(TUI_TABS_OPTIONS) private readonly options: TuiTabsOptions,\n        @Inject(TUI_TAB_MARGIN) private readonly margin: number,\n        @Inject(TUI_TABS_REFRESH) private readonly refresh$: Observable<unknown>,\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n        @Inject(ChangeDetectorRef) private readonly cdr: ChangeDetectorRef,\n        @Inject(TUI_MORE_WORD) readonly moreWord$: Observable<string>,\n    ) {}\n\n    // TODO: Improve performance\n    get tabs(): readonly HTMLElement[] {\n        return Array.from<HTMLElement>(\n            this.el.nativeElement.querySelectorAll('[tuiTab]'),\n        );\n    }\n\n    get activeElement(): HTMLElement | null {\n        const {tabs} = this;\n        const safeActiveIndex = tuiClamp(this.activeItemIndex || 0, 0, tabs.length - 2);\n\n        return this.options.exposeActive || this.lastVisibleIndex >= safeActiveIndex\n            ? tabs[safeActiveIndex] || null\n            : this.moreButton?.nativeElement || null;\n    }\n\n    get isMoreAlone(): boolean {\n        return this.lastVisibleIndex < 0 && !this.options.exposeActive;\n    }\n\n    get isMoreVisible(): boolean {\n        return this.lastVisibleIndex < this.items.length - 1;\n    }\n\n    get isMoreFocusable(): boolean {\n        return !!this.moreButton && tuiIsNativeFocused(this.moreButton.nativeElement);\n    }\n\n    get isMoreActive(): boolean {\n        return (\n            this.open ||\n            (!this.options.exposeActive && this.lastVisibleIndex < this.activeItemIndex)\n        );\n    }\n\n    get lastVisibleIndex(): number {\n        if (this.itemsLimit + 1 >= this.items.length) {\n            return this.maxIndex;\n        }\n\n        const offset =\n            this.itemsLimit - 1 > this.activeItemIndex || !this.options.exposeActive\n                ? 1\n                : 2;\n\n        return Math.min(this.itemsLimit - offset, this.maxIndex);\n    }\n\n    ngAfterViewInit(): void {\n        this.refresh$\n            .pipe(\n                map(() => this.getMaxIndex()),\n                filter(maxIndex => this.maxIndex !== maxIndex),\n            )\n            .subscribe(maxIndex => {\n                this.maxIndex = maxIndex;\n                this.cdr.detectChanges();\n            });\n    }\n\n    onActiveItemIndexChange(activeItemIndex: number): void {\n        this.updateActiveItemIndex(activeItemIndex);\n    }\n\n    onClick(index: number): void {\n        this.open = false;\n        this.focusMore();\n        this.updateActiveItemIndex(index);\n    }\n\n    onArrowRight(event: Event): void {\n        if (tuiIsElement(event.target) && tuiIsNativeFocused(event.target)) {\n            this.focusMore();\n        }\n    }\n\n    onArrowLeft(): void {\n        const {tabs} = this;\n        let index = tabs.length - 2;\n\n        while (index >= 0) {\n            tabs[index].focus();\n\n            if (tuiIsNativeFocused(tabs[index])) {\n                return;\n            }\n\n            index--;\n        }\n    }\n\n    onWrapperArrow(event: Event, wrapper: HTMLElement, previous: boolean): void {\n        const button: HTMLButtonElement = event.target as HTMLButtonElement;\n        const target = tuiGetClosestFocusable({initial: button, root: wrapper, previous});\n\n        if (target) {\n            target.focus();\n        }\n    }\n\n    isOverflown(index: number): boolean {\n        return index !== this.activeItemIndex || !this.options.exposeActive;\n    }\n\n    shouldShow(index: number): boolean {\n        return index > this.lastVisibleIndex && this.isOverflown(index);\n    }\n\n    private focusMore(): void {\n        if (this.moreButton) {\n            this.moreButton.nativeElement.focus();\n        }\n    }\n\n    private getMaxIndex(): number {\n        const {tabs, activeItemIndex, margin} = this;\n\n        if (tabs.length < 2) {\n            return 0;\n        }\n\n        const {exposeActive, minMoreWidth} = this.options;\n        const {clientWidth} = this.el.nativeElement;\n        const activeWidth = tabs[activeItemIndex] ? tabs[activeItemIndex].scrollWidth : 0;\n        const moreWidth = Math.max(tabs[tabs.length - 1].scrollWidth, minMoreWidth);\n        let maxIndex = tabs.length - 2;\n        let total =\n            tabs.reduce((acc, {scrollWidth}) => acc + scrollWidth, 0) +\n            maxIndex * margin -\n            tabs[tabs.length - 1].scrollWidth;\n\n        if (total <= clientWidth) {\n            return Infinity;\n        }\n\n        while (maxIndex) {\n            total -= tabs[maxIndex].scrollWidth + margin;\n            maxIndex--;\n\n            const activeDisplaced = exposeActive && activeItemIndex > maxIndex;\n            const activeOffset = activeDisplaced ? activeWidth + margin : 0;\n            const currentWidth = total + activeOffset + moreWidth + margin;\n            // Needed for different rounding of visible and hidden elements scrollWidth\n            const safetyOffset = tuiToInt(this.maxIndex === maxIndex - 1);\n\n            if (currentWidth + safetyOffset < clientWidth) {\n                return maxIndex;\n            }\n        }\n\n        return -1;\n    }\n\n    private updateActiveItemIndex(activeItemIndex: number): void {\n        this.activeItemIndex = activeItemIndex;\n        this.activeItemIndexChange.emit(activeItemIndex);\n        this.maxIndex = this.getMaxIndex();\n    }\n}\n","<ng-container *ngIf=\"items.changes | async\"></ng-container>\n<div class=\"t-wrapper\">\n    <tui-tabs\n        class=\"t-tabs\"\n        [underline]=\"false\"\n        [activeItemIndex]=\"activeItemIndex\"\n        (activeItemIndexChange)=\"onActiveItemIndexChange($event)\"\n        (keydown.arrowRight)=\"onArrowRight($event)\"\n    >\n        <ng-container *ngFor=\"let item of items; let index = index\">\n            <ng-container\n                *ngIf=\"index <= lastVisibleIndex; else hidden\"\n                [ngTemplateOutlet]=\"item\"\n            ></ng-container>\n            <ng-template #hidden>\n                <div [class.t-overflown]=\"isOverflown(index)\">\n                    <ng-container [ngTemplateOutlet]=\"item\"></ng-container>\n                </div>\n            </ng-template>\n        </ng-container>\n    </tui-tabs>\n    <tui-hosted-dropdown\n        class=\"t-more_wrapper\"\n        [class.t-overflown]=\"!isMoreVisible\"\n        [content]=\"dropdownContent || dropdown\"\n        [(open)]=\"open\"\n    >\n        <button\n            tuiTab\n            [class._active]=\"isMoreActive\"\n            [class.t-no-margin]=\"isMoreAlone\"\n            [tuiFocusable]=\"isMoreFocusable\"\n            (keydown.arrowLeft.prevent)=\"onArrowLeft()\"\n        >\n            <ng-container *polymorpheusOutlet=\"moreContent || more as text\">\n                {{ text }}\n            </ng-container>\n        </button>\n        <ng-template #more>\n            {{ moreWord$ | async }}\n            <tui-svg\n                src=\"tuiIconChevronDown\"\n                class=\"t-icon\"\n                [class.t-icon_rotated]=\"open\"\n            ></tui-svg>\n        </ng-template>\n    </tui-hosted-dropdown>\n    <ng-template #dropdown>\n        <div\n            #element\n            class=\"t-dropdown\"\n            (keydown.arrowUp.prevent)=\"onWrapperArrow($event, element, true)\"\n            (keydown.arrowDown.prevent)=\"onWrapperArrow($event, element, false)\"\n        >\n            <div\n                *ngFor=\"let item of items; let index = index\"\n                (tui-tab-activate)=\"onClick(index)\"\n            >\n                <ng-container\n                    *ngIf=\"shouldShow(index)\"\n                    [ngTemplateOutlet]=\"item\"\n                ></ng-container>\n            </div>\n        </div>\n    </ng-template>\n    <tui-underline\n        *ngIf=\"underline\"\n        [element]=\"activeElement\"\n    ></tui-underline>\n</div>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiFocusableModule, TuiItemDirective, TuiItemModule} from '@taiga-ui/cdk';\nimport {TuiHostedDropdownModule, TuiSvgModule} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiTabComponent} from './tab/tab.component';\nimport {TuiTabsDirective} from './tabs.directive';\nimport {TuiTabsComponent} from './tabs/tabs.component';\nimport {TuiTabsVerticalComponent} from './tabs-vertical/tabs-vertical.component';\nimport {TuiTabsWithMoreComponent} from './tabs-with-more/tabs-with-more.component';\nimport {TuiUnderlineComponent} from './underline/underline.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiHostedDropdownModule,\n        TuiSvgModule,\n        TuiFocusableModule,\n        TuiItemModule,\n    ],\n    declarations: [\n        TuiTabsWithMoreComponent,\n        TuiTabsComponent,\n        TuiTabsDirective,\n        TuiTabsVerticalComponent,\n        TuiTabComponent,\n        TuiUnderlineComponent,\n    ],\n    exports: [\n        TuiTabsWithMoreComponent,\n        TuiTabsComponent,\n        TuiTabsDirective,\n        TuiTabsVerticalComponent,\n        TuiTabComponent,\n        TuiItemDirective,\n    ],\n})\nexport class TuiTabsModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1","i1.TuiUnderlineComponent","i2","i1.TuiTabsComponent","i3.TuiTabComponent","i4.TuiUnderlineComponent","i6.TuiTabsDirective","i7"],"mappings":"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"}