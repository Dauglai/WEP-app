{"version":3,"file":"taiga-ui-kit-utils-miscellaneous.js","sources":["../../../projects/kit/utils/miscellaneous/create-default-day-range-periods.ts","../../../projects/kit/utils/miscellaneous/create-time-periods.ts","../../../projects/kit/utils/miscellaneous/get-precision.ts","../../../projects/kit/utils/miscellaneous/is-flat.ts","../../../projects/kit/utils/miscellaneous/replay-control-value-changes-factory.ts","../../../projects/kit/utils/miscellaneous/taiga-ui-kit-utils-miscellaneous.ts"],"sourcesContent":["import {TUI_FIRST_DAY, TuiDay, TuiDayRange} from '@taiga-ui/cdk';\nimport {TuiDayRangePeriod} from '@taiga-ui/kit/classes';\n\nexport function tuiCreateDefaultDayRangePeriods(\n    periodTitles: [string, string, string, string, string, string] = [\n        `For all the time`,\n        `Today`,\n        `Yesterday`,\n        `Current week`,\n        `Current month`,\n        `Previous month`,\n    ],\n): readonly TuiDayRangePeriod[] {\n    const today = TuiDay.currentLocal();\n    const yesterday = today.append({day: -1});\n    const startOfWeek = today.append({day: -today.dayOfWeek()});\n    const endOfWeek = startOfWeek.append({day: 6});\n    const startOfMonth = today.append({day: 1 - today.day});\n    const endOfMonth = startOfMonth.append({month: 1, day: -1});\n    const startOfLastMonth = startOfMonth.append({month: -1});\n\n    return [\n        new TuiDayRangePeriod(new TuiDayRange(TUI_FIRST_DAY, today), periodTitles[0]),\n        new TuiDayRangePeriod(new TuiDayRange(today, today), periodTitles[1]),\n        new TuiDayRangePeriod(new TuiDayRange(yesterday, yesterday), periodTitles[2]),\n        new TuiDayRangePeriod(new TuiDayRange(startOfWeek, endOfWeek), periodTitles[3]),\n        new TuiDayRangePeriod(new TuiDayRange(startOfMonth, endOfMonth), periodTitles[4]),\n        new TuiDayRangePeriod(\n            new TuiDayRange(startOfLastMonth, startOfMonth.append({day: -1})),\n            periodTitles[5],\n        ),\n    ];\n}\n","import {HOURS_IN_DAY, TuiTime} from '@taiga-ui/cdk';\n\nexport function tuiCreateTimePeriods(\n    minHour: number = 0,\n    maxHour: number = HOURS_IN_DAY,\n    minutes: readonly number[] = [0, 30],\n): readonly TuiTime[] {\n    const timeArray: TuiTime[] = [];\n\n    for (let i = minHour; i < maxHour; i++) {\n        for (const minute of minutes) {\n            const time = new TuiTime(i, minute);\n\n            timeArray.push(time);\n        }\n    }\n\n    return timeArray;\n}\n","/**\n * @return fractional length\n */\nexport function tuiGetPrecision(num: number): number {\n    const [, fractionPart = ``] = String(num).split(`.`);\n\n    return fractionPart.length;\n}\n","export function tuiIsFlat<T>(\n    items: ReadonlyArray<readonly T[]> | readonly T[],\n): items is readonly T[] {\n    return !Array.isArray(items[0]);\n}\n","import {NgControl} from '@angular/forms';\nimport {\n    tuiControlValue,\n    TuiControlValueTransformer,\n    TuiDay,\n    TuiDayRange,\n    TuiTime,\n} from '@taiga-ui/cdk';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n/**\n * @internal\n */\nexport function tuiControlValueFactory<\n    T extends TuiDay | TuiDayRange | [TuiDay | null, TuiTime | null],\n>(\n    control: NgControl | null,\n    valueTransformer?: TuiControlValueTransformer<T> | null,\n): Observable<T | null> | null {\n    return control\n        ? tuiControlValue(control).pipe(\n              map(value =>\n                  valueTransformer\n                      ? valueTransformer.fromControlValue(value)\n                      : (value as T),\n              ),\n          )\n        : of(null);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}