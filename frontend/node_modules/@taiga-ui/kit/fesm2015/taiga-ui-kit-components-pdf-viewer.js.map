{"version":3,"file":"taiga-ui-kit-components-pdf-viewer.js","sources":["../../../projects/kit/components/pdf-viewer/pdf-viewer.component.ts","../../../projects/kit/components/pdf-viewer/pdf-viewer.template.html","../../../projects/kit/components/pdf-viewer/pdf-viewer.tokens.ts","../../../projects/kit/components/pdf-viewer/pdf-viewer.service.ts","../../../projects/kit/components/pdf-viewer/pdf-viewer.directive.ts","../../../projects/kit/components/pdf-viewer/pdf-viewer.module.ts","../../../projects/kit/components/pdf-viewer/taiga-ui-kit-components-pdf-viewer.ts"],"sourcesContent":["import {AnimationOptions} from '@angular/animations';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    HostBinding,\n    HostListener,\n    Inject,\n} from '@angular/core';\nimport {TuiDialog} from '@taiga-ui/cdk';\nimport {\n    TUI_ANIMATION_OPTIONS,\n    TUI_CLOSE_WORD,\n    tuiFadeIn,\n    tuiSlideInTop,\n} from '@taiga-ui/core';\nimport {POLYMORPHEUS_CONTEXT} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\n\nimport {TuiPdfViewerOptions} from './pdf-viewer-options';\n\n@Component({\n    selector: 'tui-pdf-viewer',\n    templateUrl: './pdf-viewer.template.html',\n    styleUrls: ['./pdf-viewer.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [tuiSlideInTop, tuiFadeIn],\n})\nexport class TuiPdfViewerComponent<I, O> {\n    @HostBinding('@tuiSlideInTop')\n    @HostBinding('@tuiFadeIn')\n    readonly animation = {value: '', ...this.options} as const;\n\n    constructor(\n        @Inject(TUI_ANIMATION_OPTIONS) private readonly options: AnimationOptions,\n        @Inject(TUI_CLOSE_WORD) readonly closeWord$: Observable<string>,\n        @Inject(POLYMORPHEUS_CONTEXT)\n        readonly context: TuiDialog<TuiPdfViewerOptions<I>, O>,\n    ) {}\n\n    @HostListener('document:keydown.esc')\n    onKeyDownEsc(): void {\n        this.context.$implicit.complete();\n    }\n}\n","<header class=\"t-header\">\n    <h2\n        automation-id=\"tui-pdf-viewer__label\"\n        class=\"t-title\"\n    >\n        {{ context.label }}\n    </h2>\n    <div class=\"t-actions\">\n        <!-- TODO: Polymorpheus fix type -->\n        <ng-container *polymorpheusOutlet=\"$any(context.actions) as text; context: context\">\n            {{ text }}\n        </ng-container>\n    </div>\n    <button\n        tuiIconButton\n        shape=\"rounded\"\n        appearance=\"\"\n        size=\"s\"\n        type=\"button\"\n        icon=\"tuiIconCloseLarge\"\n        class=\"t-close\"\n        [title]=\"closeWord$ | async\"\n        (click)=\"context.$implicit.complete()\"\n    ></button>\n</header>\n<section class=\"t-content\">\n    <!-- TODO: Polymorpheus fix type -->\n    <iframe\n        *polymorpheusOutlet=\"$any(context.content) as content; context: context\"\n        title=\"pdf\"\n        class=\"t-iframe\"\n        [src]=\"content\"\n    ></iframe>\n</section>\n","import {InjectionToken, ValueProvider} from '@angular/core';\n\nimport {TuiPdfViewerOptions} from './pdf-viewer-options';\n\ntype TuiPdfViewerDefaultOptions = Omit<TuiPdfViewerOptions<unknown>, 'data'>;\n\nexport const TUI_PDF_VIEWER_DEFAULT_OPTIONS = {label: ``, actions: ``};\n\n/**\n * Default parameters for PdfViewer component\n */\nexport const TUI_PDF_VIEWER_OPTIONS = new InjectionToken<TuiPdfViewerDefaultOptions>(\n    `[TUI_PDF_VIEWER_OPTIONS]`,\n    {\n        factory: () => TUI_PDF_VIEWER_DEFAULT_OPTIONS,\n    },\n);\n\nexport function tuiPdfViewerOptionsProvider(\n    options: Partial<TuiPdfViewerDefaultOptions>,\n): ValueProvider {\n    return {\n        provide: TUI_PDF_VIEWER_OPTIONS,\n        useValue: {...TUI_PDF_VIEWER_DEFAULT_OPTIONS, ...options},\n    };\n}\n","import {inject, Injectable} from '@angular/core';\nimport {SafeResourceUrl} from '@angular/platform-browser';\nimport {AbstractTuiDialogService, TuiBaseDialogContext} from '@taiga-ui/cdk';\nimport {PolymorpheusComponent, PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\n\nimport {TuiPdfViewerComponent} from './pdf-viewer.component';\nimport {TUI_PDF_VIEWER_OPTIONS} from './pdf-viewer.tokens';\nimport {TuiPdfViewerOptions} from './pdf-viewer-options';\n\nconst DIALOG = new PolymorpheusComponent(TuiPdfViewerComponent);\n\ntype Content<G> = PolymorpheusContent<\n    TuiBaseDialogContext<G> & TuiPdfViewerOptions<unknown>\n>;\n\n@Injectable({\n    providedIn: `root`,\n})\nexport class TuiPdfViewerService extends AbstractTuiDialogService<\n    TuiPdfViewerOptions<unknown>\n> {\n    protected readonly component = DIALOG;\n    protected readonly defaultOptions: TuiPdfViewerOptions<unknown> = {\n        ...inject(TUI_PDF_VIEWER_OPTIONS),\n        data: undefined,\n    };\n\n    override open<G>(\n        content: Content<G> | SafeResourceUrl,\n        options: Partial<TuiPdfViewerOptions<any>> = {},\n    ): Observable<G> {\n        return super.open(content as Content<G>, options);\n    }\n}\n","import {Directive} from '@angular/core';\nimport {AbstractTuiDialogDirective, AbstractTuiDialogService} from '@taiga-ui/cdk';\n\nimport {TuiPdfViewerService} from './pdf-viewer.service';\nimport {TuiPdfViewerOptions} from './pdf-viewer-options';\n\n@Directive({\n    selector: 'ng-template[tuiPdfViewer]',\n    providers: [\n        {\n            provide: AbstractTuiDialogService,\n            useExisting: TuiPdfViewerService,\n        },\n    ],\n    inputs: ['options: tuiPdfViewerOptions', 'open: tuiPdfViewer'],\n    outputs: ['openChange: tuiPdfViewerChange'],\n})\nexport class TuiPdfViewerDirective<T> extends AbstractTuiDialogDirective<\n    TuiPdfViewerOptions<T>\n> {}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {tuiAsDialog} from '@taiga-ui/cdk';\nimport {TuiButtonModule} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPdfViewerComponent} from './pdf-viewer.component';\nimport {TuiPdfViewerDirective} from './pdf-viewer.directive';\nimport {TuiPdfViewerService} from './pdf-viewer.service';\n\n@NgModule({\n    imports: [CommonModule, TuiButtonModule, PolymorpheusModule],\n    declarations: [TuiPdfViewerComponent, TuiPdfViewerDirective],\n    exports: [TuiPdfViewerComponent, TuiPdfViewerDirective],\n    providers: [tuiAsDialog(TuiPdfViewerService)],\n})\nexport class TuiPdfViewerModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}