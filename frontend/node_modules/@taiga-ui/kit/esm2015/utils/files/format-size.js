import { tuiRound } from '@taiga-ui/cdk';
const BYTES_PER_KB = 1000;
const BYTES_PER_MB = 1000 * BYTES_PER_KB;
export function tuiFormatSize(units, size) {
    if (size === undefined) {
        return null;
    }
    if (size < BYTES_PER_KB) {
        return `${size} ${units[0]}`;
    }
    if (size < BYTES_PER_MB) {
        return `${(size / BYTES_PER_KB).toFixed(0)} ${units[1]}`;
    }
    return `${tuiRound(size / BYTES_PER_MB, 2).toLocaleString(`ru-RU`)} ${units[2]}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LXNpemUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9raXQvdXRpbHMvZmlsZXMvZm9ybWF0LXNpemUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUV2QyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUM7QUFDMUIsTUFBTSxZQUFZLEdBQUcsSUFBSSxHQUFHLFlBQVksQ0FBQztBQUV6QyxNQUFNLFVBQVUsYUFBYSxDQUN6QixLQUErQixFQUMvQixJQUFhO0lBRWIsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFFRCxJQUFJLElBQUksR0FBRyxZQUFZLEVBQUU7UUFDckIsT0FBTyxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztLQUNoQztJQUVELElBQUksSUFBSSxHQUFHLFlBQVksRUFBRTtRQUNyQixPQUFPLEdBQUcsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0tBQzVEO0lBRUQsT0FBTyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEdBQUcsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNyRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt0dWlSb3VuZH0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5cbmNvbnN0IEJZVEVTX1BFUl9LQiA9IDEwMDA7XG5jb25zdCBCWVRFU19QRVJfTUIgPSAxMDAwICogQllURVNfUEVSX0tCO1xuXG5leHBvcnQgZnVuY3Rpb24gdHVpRm9ybWF0U2l6ZShcbiAgICB1bml0czogW3N0cmluZywgc3RyaW5nLCBzdHJpbmddLFxuICAgIHNpemU/OiBudW1iZXIsXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChzaXplIDwgQllURVNfUEVSX0tCKSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSAke3VuaXRzWzBdfWA7XG4gICAgfVxuXG4gICAgaWYgKHNpemUgPCBCWVRFU19QRVJfTUIpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gQllURVNfUEVSX0tCKS50b0ZpeGVkKDApfSAke3VuaXRzWzFdfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3R1aVJvdW5kKHNpemUgLyBCWVRFU19QRVJfTUIsIDIpLnRvTG9jYWxlU3RyaW5nKGBydS1SVWApfSAke3VuaXRzWzJdfWA7XG59XG4iXX0=