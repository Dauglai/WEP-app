import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, HostBinding, Inject, Input, } from '@angular/core';
import { tuiDefaultProp, tuiIsNumber, tuiIsPresent } from '@taiga-ui/cdk';
import { MODE_PROVIDER, TUI_MODE, } from '@taiga-ui/core';
import * as i0 from "@angular/core";
import * as i1 from "rxjs";
export class TuiBadgeComponent {
    constructor(mode$) {
        this.mode$ = mode$;
        this.size = 'm';
        this.status = 'default';
        this.hoverable = false;
    }
    get padding() {
        var _a;
        if (this.isEmpty) {
            return 'none';
        }
        return tuiIsNumber((_a = this.value) === null || _a === void 0 ? void 0 : _a.valueOf()) ? 'm' : 'l';
    }
    get outputValue() {
        var _a;
        const value = (_a = this.value) === null || _a === void 0 ? void 0 : _a.valueOf();
        if (tuiIsNumber(value) && value > 99) {
            return '99+';
        }
        return tuiIsPresent(this.value) ? String(this.value) : '';
    }
    get isEmpty() {
        return !this.value && this.value !== 0;
    }
    titleText({ offsetWidth, scrollWidth }) {
        return offsetWidth < scrollWidth ? this.outputValue : '';
    }
}
TuiBadgeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: TuiBadgeComponent, deps: [{ token: TUI_MODE }], target: i0.ɵɵFactoryTarget.Component });
TuiBadgeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: TuiBadgeComponent, selector: "tui-badge", inputs: { value: "value", size: "size", status: "status", hoverable: "hoverable" }, host: { listeners: { "$.data-mode.attr": "mode$" }, properties: { "attr.data-size": "this.size", "attr.data-status": "this.status", "class._hoverable": "this.hoverable", "attr.data-padding": "this.padding", "class._empty-value": "this.isEmpty" } }, providers: [MODE_PROVIDER], ngImport: i0, template: "<span class=\"t-left-content\">\n    <ng-content></ng-content>\n</span>\n<span\n    #text\n    class=\"t-text\"\n    [title]=\"titleText(text)\"\n    (mouseenter)=\"(0)\"\n>\n    {{ outputValue }}\n</span>\n", styles: [":host{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--left-content-color: currentColor;position:relative;display:inline-flex;font:var(--tui-font-text-s);align-items:center;justify-content:center;box-sizing:border-box;color:var(--tui-base-01);border-radius:6.25rem;white-space:nowrap;overflow:hidden;vertical-align:middle;max-width:100%}:host:after{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;width:100%;height:100%;content:\"\";box-sizing:border-box;border-radius:inherit;pointer-events:none}:host._hoverable:hover[data-status=custom]:after,:host._hoverable:active[data-status=custom]:after{background-color:var(--tui-clear)}:host[data-status=primary]{background-color:var(--tui-primary);color:var(--tui-primary-text)}:host[data-status=primary]._hoverable:hover{background-color:var(--tui-primary-hover)}:host[data-status=primary]._hoverable:active{background-color:var(--tui-primary-active)}:host[data-status=error]{--left-content-color: var(--tui-error-fill);background-color:var(--tui-error-bg);color:var(--tui-text-01)}:host[data-status=error]._hoverable:hover,:host[data-status=error]._hoverable:active{background-color:var(--tui-error-bg-hover)}:host[data-status=error][data-mode=onDark]{background-color:var(--tui-error-bg-night);color:var(--tui-text-01-night)}:host[data-status=error][data-mode=onDark]._hoverable:hover,:host[data-status=error][data-mode=onDark]._hoverable:active{background-color:var(--tui-error-bg-night-hover)}:host[data-status=success]{--left-content-color: var(--tui-success-fill);background-color:var(--tui-success-bg);color:var(--tui-text-01)}:host[data-status=success]._hoverable:hover,:host[data-status=success]._hoverable:active{background-color:var(--tui-success-bg-hover)}:host[data-status=success][data-mode=onDark]{background-color:var(--tui-success-bg-night);color:var(--tui-text-01-night)}:host[data-status=success][data-mode=onDark]._hoverable:hover,:host[data-status=success][data-mode=onDark]._hoverable:active{background-color:var(--tui-success-bg-night-hover)}:host[data-status=warning]{--left-content-color: var(--tui-warning-fill);background-color:var(--tui-warning-bg);color:var(--tui-text-01)}:host[data-status=warning]._hoverable:hover,:host[data-status=warning]._hoverable:active{background-color:var(--tui-warning-bg-hover)}:host[data-status=warning][data-mode=onDark]{background-color:var(--tui-warning-bg-night);color:var(--tui-text-01-night)}:host[data-status=warning][data-mode=onDark]._hoverable:hover,:host[data-status=warning][data-mode=onDark]._hoverable:active{background-color:var(--tui-warning-bg-night-hover)}:host[data-status=info]{--left-content-color: var(--tui-info-fill);background-color:var(--tui-info-bg);color:var(--tui-text-01)}:host[data-status=info]._hoverable:hover,:host[data-status=info]._hoverable:active{background-color:var(--tui-info-bg-hover)}:host[data-status=info][data-mode=onDark]{background-color:var(--tui-info-bg-night);color:var(--tui-text-01-night)}:host[data-status=info][data-mode=onDark]._hoverable:hover,:host[data-status=info][data-mode=onDark]._hoverable:active{background-color:var(--tui-info-bg-night-hover)}:host[data-status=neutral]{--left-content-color: var(--tui-neutral-fill);background-color:var(--tui-neutral-bg);color:var(--tui-text-01)}:host[data-status=neutral]._hoverable:hover,:host[data-status=neutral]._hoverable:active{background-color:var(--tui-neutral-bg-hover)}:host[data-status=neutral][data-mode=onDark]{background-color:var(--tui-neutral-bg-night);color:var(--tui-text-01-night)}:host[data-status=neutral][data-mode=onDark]._hoverable:hover,:host[data-status=neutral][data-mode=onDark]._hoverable:active{background-color:var(--tui-neutral-bg-night-hover)}:host[data-status=default]{background-color:var(--tui-base-06)}:host[data-status=default]:not([data-mode])._hoverable:hover{background-color:var(--tui-base-07)}:host[data-status=default]:not([data-mode])._hoverable:active{background-color:var(--tui-base-08)}:host[data-status=default][data-mode=onDark]{background-color:var(--tui-clear-inverse-hover)}:host[data-status=default][data-mode=onDark]._hoverable:hover{background-color:var(--tui-clear-inverse-active)}:host[data-status=default][data-mode=onDark]._hoverable:active{background-color:var(--tui-clear-inverse-active)}:host[data-status=default][data-mode=onDark]:focus:after{border:2px solid var(--tui-base-01)}:host[data-status=default][data-mode=onLight]{background-color:var(--tui-clear);color:var(--tui-text-01)}:host[data-status=default][data-mode=onLight]._hoverable:hover{background-color:var(--tui-clear-hover)}:host[data-status=default][data-mode=onLight]._hoverable:active{background-color:var(--tui-clear-active)}:host._hoverable{cursor:pointer}:host[data-padding=m]{padding:0 .5rem}:host[data-padding=m][data-size=xs]{padding:0 .25rem}:host[data-padding=m][data-size=s]{padding:0 .375rem}:host[data-padding=m][data-size=l]{padding:0 .625rem}:host[data-padding=l]{padding:0 .625rem}:host[data-padding=l][data-size=xs]{padding:0 .375rem}:host[data-padding=l][data-size=s]{padding:0 .5rem}:host[data-padding=l][data-size=l]{padding:0 .75rem}:host[data-size=xs]{font:var(--tui-font-text-xs);height:1rem;min-width:1rem}:host[data-size=xs] .t-left-content:before{width:.34375rem;height:.34375rem}:host[data-size=s]{font:var(--tui-font-text-xs);height:1.25rem;min-width:1.25rem}:host[data-size=s] .t-left-content:before{width:.25rem;height:.25rem}:host[data-size=m]{height:var(--tui-height-xs);line-height:var(--tui-height-xs);min-width:var(--tui-height-xs)}:host[data-size=l]{height:var(--tui-height-s);line-height:var(--tui-height-s);min-width:var(--tui-height-s)}:host[data-size=l] .t-left-content:before{margin:0 .5rem 0 0;width:.5rem;height:.5rem}:host._empty-value .t-left-content{margin:0 -.25rem}:host._empty-value .t-left-content:before{margin:0}.t-left-content{display:none;color:var(--left-content-color);line-height:0}.t-left-content:not(:empty){display:block;margin-left:-.25rem}.t-left-content:not(:empty):before{content:none}:host[data-status=error] .t-left-content,:host[data-status=success] .t-left-content,:host[data-status=warning] .t-left-content,:host[data-status=info] .t-left-content,:host[data-status=neutral] .t-left-content{display:block}.t-left-content:before{content:\"\";display:block;background:currentColor;margin:0 .375rem 0 0;width:.375rem;height:.375rem;border-radius:100%}.t-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush });
__decorate([
    tuiDefaultProp()
], TuiBadgeComponent.prototype, "size", void 0);
__decorate([
    tuiDefaultProp()
], TuiBadgeComponent.prototype, "status", void 0);
__decorate([
    tuiDefaultProp()
], TuiBadgeComponent.prototype, "hoverable", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: TuiBadgeComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'tui-badge',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    templateUrl: './badge.template.html',
                    styleUrls: ['./badge.style.less'],
                    providers: [MODE_PROVIDER],
                    host: {
                        '($.data-mode.attr)': 'mode$',
                    },
                }]
        }], ctorParameters: function () { return [{ type: i1.Observable, decorators: [{
                    type: Inject,
                    args: [TUI_MODE]
                }] }]; }, propDecorators: { value: [{
                type: Input
            }], size: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-size']
            }], status: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-status']
            }], hoverable: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class._hoverable']
            }], padding: [{
                type: HostBinding,
                args: ['attr.data-padding']
            }], isEmpty: [{
                type: HostBinding,
                args: ['class._empty-value']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFkZ2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMva2l0L2NvbXBvbmVudHMvYmFkZ2UvYmFkZ2UuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMva2l0L2NvbXBvbmVudHMvYmFkZ2UvYmFkZ2UudGVtcGxhdGUuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNILHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsV0FBVyxFQUNYLE1BQU0sRUFDTixLQUFLLEdBQ1IsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFDLGNBQWMsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3hFLE9BQU8sRUFDSCxhQUFhLEVBQ2IsUUFBUSxHQUlYLE1BQU0sZ0JBQWdCLENBQUM7OztBQWV4QixNQUFNLE9BQU8saUJBQWlCO0lBbUIxQixZQUF1QyxLQUF1QztRQUF2QyxVQUFLLEdBQUwsS0FBSyxDQUFrQztRQVo5RSxTQUFJLEdBQXlCLEdBQUcsQ0FBQztRQUtqQyxXQUFNLEdBQWMsU0FBUyxDQUFDO1FBSzlCLGNBQVMsR0FBRyxLQUFLLENBQUM7SUFFK0QsQ0FBQztJQUVsRixJQUNJLE9BQU87O1FBQ1AsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2QsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFFRCxPQUFPLFdBQVcsQ0FBQyxNQUFBLElBQUksQ0FBQyxLQUFLLDBDQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQzFELENBQUM7SUFFRCxJQUFJLFdBQVc7O1FBQ1gsTUFBTSxLQUFLLEdBQUcsTUFBQSxJQUFJLENBQUMsS0FBSywwQ0FBRSxPQUFPLEVBQUUsQ0FBQztRQUVwQyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEdBQUcsRUFBRSxFQUFFO1lBQ2xDLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDOUQsQ0FBQztJQUVELElBQ0ksT0FBTztRQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxTQUFTLENBQUMsRUFBQyxXQUFXLEVBQUUsV0FBVyxFQUFjO1FBQzdDLE9BQU8sV0FBVyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzdELENBQUM7OytHQS9DUSxpQkFBaUIsa0JBbUJOLFFBQVE7bUdBbkJuQixpQkFBaUIsaVhBTGYsQ0FBQyxhQUFhLENBQUMsMEJDeEI5QixpTkFXQTtBRHlCSTtJQURDLGNBQWMsRUFBRTsrQ0FDZ0I7QUFLakM7SUFEQyxjQUFjLEVBQUU7aURBQ2E7QUFLOUI7SUFEQyxjQUFjLEVBQUU7b0RBQ0M7NEZBakJULGlCQUFpQjtrQkFWN0IsU0FBUzttQkFBQztvQkFDUCxRQUFRLEVBQUUsV0FBVztvQkFDckIsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07b0JBQy9DLFdBQVcsRUFBRSx1QkFBdUI7b0JBQ3BDLFNBQVMsRUFBRSxDQUFDLG9CQUFvQixDQUFDO29CQUNqQyxTQUFTLEVBQUUsQ0FBQyxhQUFhLENBQUM7b0JBQzFCLElBQUksRUFBRTt3QkFDRixvQkFBb0IsRUFBRSxPQUFPO3FCQUNoQztpQkFDSjs7MEJBb0JnQixNQUFNOzJCQUFDLFFBQVE7NENBakI1QixLQUFLO3NCQURKLEtBQUs7Z0JBTU4sSUFBSTtzQkFISCxLQUFLOztzQkFDTCxXQUFXO3VCQUFDLGdCQUFnQjtnQkFPN0IsTUFBTTtzQkFITCxLQUFLOztzQkFDTCxXQUFXO3VCQUFDLGtCQUFrQjtnQkFPL0IsU0FBUztzQkFIUixLQUFLOztzQkFDTCxXQUFXO3VCQUFDLGtCQUFrQjtnQkFPM0IsT0FBTztzQkFEVixXQUFXO3VCQUFDLG1CQUFtQjtnQkFvQjVCLE9BQU87c0JBRFYsV0FBVzt1QkFBQyxvQkFBb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICAgIENvbXBvbmVudCxcbiAgICBIb3N0QmluZGluZyxcbiAgICBJbmplY3QsXG4gICAgSW5wdXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHt0dWlEZWZhdWx0UHJvcCwgdHVpSXNOdW1iZXIsIHR1aUlzUHJlc2VudH0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5pbXBvcnQge1xuICAgIE1PREVfUFJPVklERVIsXG4gICAgVFVJX01PREUsXG4gICAgVHVpQnJpZ2h0bmVzcyxcbiAgICBUdWlTaXplTCxcbiAgICBUdWlTaXplWFMsXG59IGZyb20gJ0B0YWlnYS11aS9jb3JlJztcbmltcG9ydCB7VHVpU3RhdHVzfSBmcm9tICdAdGFpZ2EtdWkva2l0L3R5cGVzJztcbmltcG9ydCB7UG9seW1vcnBoZXVzQ29udGVudH0gZnJvbSAnQHRpbmtvZmYvbmctcG9seW1vcnBoZXVzJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndHVpLWJhZGdlJyxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYmFkZ2UudGVtcGxhdGUuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vYmFkZ2Uuc3R5bGUubGVzcyddLFxuICAgIHByb3ZpZGVyczogW01PREVfUFJPVklERVJdLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgJygkLmRhdGEtbW9kZS5hdHRyKSc6ICdtb2RlJCcsXG4gICAgfSxcbn0pXG5leHBvcnQgY2xhc3MgVHVpQmFkZ2VDb21wb25lbnQge1xuICAgIEBJbnB1dCgpXG4gICAgdmFsdWU6IFBvbHltb3JwaGV1c0NvbnRlbnQ7XG5cbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5kYXRhLXNpemUnKVxuICAgIEB0dWlEZWZhdWx0UHJvcCgpXG4gICAgc2l6ZTogVHVpU2l6ZUwgfCBUdWlTaXplWFMgPSAnbSc7XG5cbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5kYXRhLXN0YXR1cycpXG4gICAgQHR1aURlZmF1bHRQcm9wKClcbiAgICBzdGF0dXM6IFR1aVN0YXR1cyA9ICdkZWZhdWx0JztcblxuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5faG92ZXJhYmxlJylcbiAgICBAdHVpRGVmYXVsdFByb3AoKVxuICAgIGhvdmVyYWJsZSA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoQEluamVjdChUVUlfTU9ERSkgcmVhZG9ubHkgbW9kZSQ6IE9ic2VydmFibGU8VHVpQnJpZ2h0bmVzcyB8IG51bGw+KSB7fVxuXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLmRhdGEtcGFkZGluZycpXG4gICAgZ2V0IHBhZGRpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0dWlJc051bWJlcih0aGlzLnZhbHVlPy52YWx1ZU9mKCkpID8gJ20nIDogJ2wnO1xuICAgIH1cblxuICAgIGdldCBvdXRwdXRWYWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU/LnZhbHVlT2YoKTtcblxuICAgICAgICBpZiAodHVpSXNOdW1iZXIodmFsdWUpICYmIHZhbHVlID4gOTkpIHtcbiAgICAgICAgICAgIHJldHVybiAnOTkrJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0dWlJc1ByZXNlbnQodGhpcy52YWx1ZSkgPyBTdHJpbmcodGhpcy52YWx1ZSkgOiAnJztcbiAgICB9XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLl9lbXB0eS12YWx1ZScpXG4gICAgZ2V0IGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlICE9PSAwO1xuICAgIH1cblxuICAgIHRpdGxlVGV4dCh7b2Zmc2V0V2lkdGgsIHNjcm9sbFdpZHRofTogSFRNTEVsZW1lbnQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gb2Zmc2V0V2lkdGggPCBzY3JvbGxXaWR0aCA/IHRoaXMub3V0cHV0VmFsdWUgOiAnJztcbiAgICB9XG59XG4iLCI8c3BhbiBjbGFzcz1cInQtbGVmdC1jb250ZW50XCI+XG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuPC9zcGFuPlxuPHNwYW5cbiAgICAjdGV4dFxuICAgIGNsYXNzPVwidC10ZXh0XCJcbiAgICBbdGl0bGVdPVwidGl0bGVUZXh0KHRleHQpXCJcbiAgICAobW91c2VlbnRlcik9XCIoMClcIlxuPlxuICAgIHt7IG91dHB1dFZhbHVlIH19XG48L3NwYW4+XG4iXX0=