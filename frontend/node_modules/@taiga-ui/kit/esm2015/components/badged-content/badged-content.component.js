import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, HostBinding, Input } from '@angular/core';
import { tuiDefaultProp, tuiIsNumber, tuiIsString, tuiPx } from '@taiga-ui/cdk';
import { tuiSizeBigger } from '@taiga-ui/core';
import * as i0 from "@angular/core";
import * as i1 from "@taiga-ui/kit/components/badge";
import * as i2 from "@taiga-ui/core";
import * as i3 from "@angular/common";
import * as i4 from "@tinkoff/ng-polymorpheus";
const BADGE_SIZE = {
    xs: 'xs',
    s: 's',
    m: 's',
    l: 'm',
    xl: 'm',
    xxl: 'l',
};
export class TuiBadgedContentComponent {
    constructor() {
        this.size = 'm';
        this.colorTop = '';
        this.colorBottom = '';
        this.rounded = false;
    }
    get topNotification() {
        return !this.contentTop && this.colorTop ? this.colorTop : '';
    }
    get bottomNotification() {
        return !this.contentBottom && this.colorBottom ? this.colorBottom : '';
    }
    get badgeSize() {
        return BADGE_SIZE[this.size];
    }
    get badgeHidden() {
        return this.size === 'xs';
    }
    get sizeBig() {
        return tuiSizeBigger(this.size);
    }
    get boxShadow() {
        const borderWidth = this.sizeBig ? 3 : 2;
        return `0 0 0 ${tuiPx(borderWidth)}`;
    }
    contentIsNumber(content) {
        return tuiIsNumber(content === null || content === void 0 ? void 0 : content.valueOf());
    }
    contentIsString(content) {
        return tuiIsString(content === null || content === void 0 ? void 0 : content.valueOf());
    }
    getStatus(color) {
        return color ? 'custom' : 'primary';
    }
}
TuiBadgedContentComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: TuiBadgedContentComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
TuiBadgedContentComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: TuiBadgedContentComponent, selector: "tui-badged-content", inputs: { contentTop: "contentTop", contentBottom: "contentBottom", size: "size", colorTop: "colorTop", colorBottom: "colorBottom", rounded: "rounded" }, host: { properties: { "class._with-top": "this.contentTop", "class._with-bottom": "this.contentBottom", "attr.data-size": "this.size", "class._rounded": "this.rounded" } }, ngImport: i0, template: "<ng-content></ng-content>\n\n<div\n    *ngIf=\"topNotification\"\n    class=\"t-notification t-notification_top\"\n    [style.background]=\"topNotification\"\n    [style.boxShadow]=\"boxShadow\"\n></div>\n\n<div\n    *ngIf=\"bottomNotification\"\n    class=\"t-notification t-notification_bottom\"\n    [style.background]=\"bottomNotification\"\n    [style.boxShadow]=\"boxShadow\"\n></div>\n\n<div\n    *ngIf=\"contentTop\"\n    class=\"t-content t-content_top\"\n    [style.boxShadow]=\"boxShadow\"\n>\n    <ng-container *polymorpheusOutlet=\"contentTop as content\">\n        <tui-badge\n            *ngIf=\"contentIsNumber(content)\"\n            [status]=\"getStatus(colorTop)\"\n            [style.backgroundColor]=\"colorTop\"\n            [size]=\"badgeSize\"\n            [value]=\"contentTop\"\n        ></tui-badge>\n        <tui-svg\n            *ngIf=\"contentIsString(content)\"\n            class=\"t-icon\"\n            [style.color]=\"colorTop\"\n            [src]=\"content\"\n        ></tui-svg>\n    </ng-container>\n</div>\n\n<div\n    *ngIf=\"contentBottom && sizeBig\"\n    class=\"t-content t-content_bottom\"\n    [style.boxShadow]=\"boxShadow\"\n>\n    <ng-container *polymorpheusOutlet=\"contentBottom as content\">\n        <tui-badge\n            *ngIf=\"contentIsNumber(content)\"\n            [status]=\"getStatus(colorBottom)\"\n            [style.backgroundColor]=\"colorBottom\"\n            [size]=\"badgeSize\"\n            [value]=\"contentBottom\"\n        ></tui-badge>\n        <tui-svg\n            *ngIf=\"contentIsString(content)\"\n            class=\"t-icon\"\n            [style.color]=\"colorBottom\"\n            [src]=\"content\"\n        ></tui-svg>\n    </ng-container>\n</div>\n", styles: [":host{position:relative;display:inline-block;color:var(--tui-base-01)}.t-notification{position:absolute;border-radius:100%;box-shadow:0 0 0 2px currentColor;background-color:currentColor}:host[data-size=xs]:not(._rounded) .t-notification_top,:host[data-size=s]:not(._rounded) .t-notification_top,:host[data-size=m]:not(._rounded) .t-notification_top{top:-.125rem;right:-.125rem}:host[data-size=l]:not(._rounded) .t-notification_top,:host[data-size=xl]:not(._rounded) .t-notification_top{top:-.25rem;right:-.25rem}:host[data-size=xxl]:not(._rounded) .t-notification_top{top:-.5rem;right:-.5rem}:host[data-size=xs]._rounded .t-notification_top{top:0;right:0}:host[data-size=s]._rounded .t-notification_top{top:.0625rem;right:.0625rem}:host[data-size=m]._rounded .t-notification_top{top:.1875rem;right:.1875rem}:host[data-size=l]._rounded .t-notification_top{top:.25rem;right:.25rem}:host[data-size=xl]._rounded .t-notification_top{top:.375rem;right:.375rem}:host[data-size=xxl]._rounded .t-notification_top{top:.5rem;right:.5rem}:host[data-size=m]:not(._rounded) .t-notification_bottom{bottom:-.125rem;right:-.125rem}:host[data-size=l]:not(._rounded) .t-notification_bottom,:host[data-size=xl]:not(._rounded) .t-notification_bottom{bottom:-.25rem;right:-.25rem}:host[data-size=xxl]:not(._rounded) .t-notification_bottom{bottom:-.5rem;right:-.5rem}:host[data-size=m]._rounded .t-notification_bottom{bottom:.1875rem;right:.1875rem}:host[data-size=l]._rounded .t-notification_bottom{bottom:.25rem;right:.25rem}:host[data-size=xl]._rounded .t-notification_bottom{bottom:.375rem;right:.375rem}:host[data-size=xxl]._rounded .t-notification_bottom{bottom:.5rem;right:.5rem}:host[data-size=xs] .t-notification,:host[data-size=s] .t-notification,:host[data-size=m] .t-notification{width:.5rem;height:.5rem}:host[data-size=l] .t-notification{width:.75rem;height:.75rem}:host[data-size=xl] .t-notification{width:1rem;height:1rem}:host[data-size=xxl] .t-notification{width:1.5rem;height:1.5rem}.t-icon{color:var(--tui-success-fill)}:host[data-size=xs] .t-icon{transform:scale(.66666667);margin:-.25rem}:host[data-size=s] .t-icon,:host[data-size=m] .t-icon{width:1.5rem;height:1.5rem;margin:-.125rem}:host[data-size=l] .t-icon,:host[data-size=xl] .t-icon{transform:scale(1.2)}:host[data-size=xxl] .t-icon{transform:scale(1.6)}.t-content{position:absolute;display:flex;align-items:center;justify-content:center;border-radius:6.25rem;overflow:hidden;background-color:currentColor;box-shadow:0 0 0 2px currentColor}:host[data-size=xxl]._with-top:not(._rounded) .t-content_top,:host[data-size=l]._with-top:not(._rounded) .t-content_top{right:-.5rem;top:-.5rem}:host[data-size=xl]._with-top:not(._rounded) .t-content_top{right:-.375rem;top:-.375rem}:host[data-size=m]._with-top:not(._rounded) .t-content_top,:host[data-size=s]._with-top:not(._rounded) .t-content_top,:host[data-size=xs]._with-top:not(._rounded) .t-content_top{right:-.25rem;top:-.25rem}:host[data-size=xxl]._with-top._rounded .t-content_top{right:.25rem;top:.25rem}:host[data-size=xl]._with-top._rounded .t-content_top{right:.125rem;top:.125rem}:host[data-size=l]._with-top._rounded .t-content_top,:host[data-size=m]._with-top._rounded .t-content_top,:host[data-size=s]._with-top._rounded .t-content_top,:host[data-size=xs]._with-top._rounded .t-content_top{right:-.25rem;top:-.25rem}:host[data-size=xxl]._with-bottom:not(._rounded) .t-content_bottom,:host[data-size=l]._with-bottom:not(._rounded) .t-content_bottom{bottom:-.5rem;right:-.5rem}:host[data-size=xl]._with-bottom:not(._rounded) .t-content_bottom{bottom:-.375rem;right:-.375rem}:host[data-size=m]._with-bottom:not(._rounded) .t-content_bottom{bottom:-.25rem;right:-.25rem}:host[data-size=xxl]._with-bottom._rounded .t-content_bottom{bottom:.25rem;right:.25rem}:host[data-size=xl]._with-bottom._rounded .t-content_bottom{bottom:.125rem;right:.125rem}:host[data-size=l]._with-bottom._rounded .t-content_bottom,:host[data-size=m]._with-bottom._rounded .t-content_bottom{bottom:-.25rem;right:-.25rem}:host[data-size=xxl] .t-content{height:2rem;min-width:2rem}:host[data-size=xl] .t-content,:host[data-size=l] .t-content{height:1.5rem;min-width:1.5rem}:host[data-size=m] .t-content,:host[data-size=s] .t-content{height:1.25rem;min-width:1.25rem}:host[data-size=xs] .t-content{height:1rem;min-width:1rem}\n"], components: [{ type: i1.TuiBadgeComponent, selector: "tui-badge", inputs: ["value", "size", "status", "hoverable"] }, { type: i2.TuiSvgComponent, selector: "tui-svg", inputs: ["src"] }], directives: [{ type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i4.PolymorpheusOutletDirective, selector: "[polymorpheusOutlet]", inputs: ["polymorpheusOutlet", "polymorpheusOutletContext"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
__decorate([
    tuiDefaultProp()
], TuiBadgedContentComponent.prototype, "size", void 0);
__decorate([
    tuiDefaultProp()
], TuiBadgedContentComponent.prototype, "colorTop", void 0);
__decorate([
    tuiDefaultProp()
], TuiBadgedContentComponent.prototype, "colorBottom", void 0);
__decorate([
    tuiDefaultProp()
], TuiBadgedContentComponent.prototype, "rounded", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: TuiBadgedContentComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'tui-badged-content',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    templateUrl: './badged-content.template.html',
                    styleUrls: ['./badged-content.style.less'],
                }]
        }], propDecorators: { contentTop: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class._with-top']
            }], contentBottom: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class._with-bottom']
            }], size: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-size']
            }], colorTop: [{
                type: Input
            }], colorBottom: [{
                type: Input
            }], rounded: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class._rounded']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFkZ2VkLWNvbnRlbnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMva2l0L2NvbXBvbmVudHMvYmFkZ2VkLWNvbnRlbnQvYmFkZ2VkLWNvbnRlbnQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMva2l0L2NvbXBvbmVudHMvYmFkZ2VkLWNvbnRlbnQvYmFkZ2VkLWNvbnRlbnQudGVtcGxhdGUuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3JGLE9BQU8sRUFBQyxjQUFjLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDOUUsT0FBTyxFQUFDLGFBQWEsRUFBa0MsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7O0FBSTlFLE1BQU0sVUFBVSxHQUEwQztJQUN0RCxFQUFFLEVBQUUsSUFBSTtJQUNSLENBQUMsRUFBRSxHQUFHO0lBQ04sQ0FBQyxFQUFFLEdBQUc7SUFDTixDQUFDLEVBQUUsR0FBRztJQUNOLEVBQUUsRUFBRSxHQUFHO0lBQ1AsR0FBRyxFQUFFLEdBQUc7Q0FDWCxDQUFDO0FBUUYsTUFBTSxPQUFPLHlCQUF5QjtJQU50QztRQWtCSSxTQUFJLEdBQTJCLEdBQUcsQ0FBQztRQUluQyxhQUFRLEdBQUcsRUFBRSxDQUFDO1FBSWQsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFLakIsWUFBTyxHQUFHLEtBQUssQ0FBQztLQXVDbkI7SUFyQ0csSUFBSSxlQUFlO1FBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2xFLENBQUM7SUFFRCxJQUFJLGtCQUFrQjtRQUNsQixPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDM0UsQ0FBQztJQUVELElBQUksU0FBUztRQUNULE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1AsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLFNBQVMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUM7SUFDekMsQ0FBQztJQUVELGVBQWUsQ0FBQyxPQUE0QjtRQUN4QyxPQUFPLFdBQVcsQ0FBQyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsZUFBZSxDQUFDLE9BQTRCO1FBQ3hDLE9BQU8sV0FBVyxDQUFDLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBYTtRQUNuQixPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDeEMsQ0FBQzs7dUhBL0RRLHlCQUF5QjsyR0FBekIseUJBQXlCLGlZQ3JCdEMsb3NEQTJEQTtBRDFCSTtJQURDLGNBQWMsRUFBRTt1REFDa0I7QUFJbkM7SUFEQyxjQUFjLEVBQUU7MkRBQ0g7QUFJZDtJQURDLGNBQWMsRUFBRTs4REFDQTtBQUtqQjtJQURDLGNBQWMsRUFBRTswREFDRDs0RkF6QlAseUJBQXlCO2tCQU5yQyxTQUFTO21CQUFDO29CQUNQLFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO29CQUMvQyxXQUFXLEVBQUUsZ0NBQWdDO29CQUM3QyxTQUFTLEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQztpQkFDN0M7OEJBSUcsVUFBVTtzQkFGVCxLQUFLOztzQkFDTCxXQUFXO3VCQUFDLGlCQUFpQjtnQkFLOUIsYUFBYTtzQkFGWixLQUFLOztzQkFDTCxXQUFXO3VCQUFDLG9CQUFvQjtnQkFNakMsSUFBSTtzQkFISCxLQUFLOztzQkFDTCxXQUFXO3VCQUFDLGdCQUFnQjtnQkFNN0IsUUFBUTtzQkFGUCxLQUFLO2dCQU1OLFdBQVc7c0JBRlYsS0FBSztnQkFPTixPQUFPO3NCQUhOLEtBQUs7O3NCQUNMLFdBQVc7dUJBQUMsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBIb3N0QmluZGluZywgSW5wdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHt0dWlEZWZhdWx0UHJvcCwgdHVpSXNOdW1iZXIsIHR1aUlzU3RyaW5nLCB0dWlQeH0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5pbXBvcnQge3R1aVNpemVCaWdnZXIsIFR1aVNpemVMLCBUdWlTaXplWFMsIFR1aVNpemVYWEx9IGZyb20gJ0B0YWlnYS11aS9jb3JlJztcbmltcG9ydCB7VHVpU3RhdHVzfSBmcm9tICdAdGFpZ2EtdWkva2l0L3R5cGVzJztcbmltcG9ydCB7UG9seW1vcnBoZXVzQ29udGVudH0gZnJvbSAnQHRpbmtvZmYvbmctcG9seW1vcnBoZXVzJztcblxuY29uc3QgQkFER0VfU0laRToge1trZXk6IHN0cmluZ106IFR1aVNpemVMIHwgVHVpU2l6ZVhTfSA9IHtcbiAgICB4czogJ3hzJyxcbiAgICBzOiAncycsXG4gICAgbTogJ3MnLFxuICAgIGw6ICdtJyxcbiAgICB4bDogJ20nLFxuICAgIHh4bDogJ2wnLFxufTtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0dWktYmFkZ2VkLWNvbnRlbnQnLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9iYWRnZWQtY29udGVudC50ZW1wbGF0ZS5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9iYWRnZWQtY29udGVudC5zdHlsZS5sZXNzJ10sXG59KVxuZXhwb3J0IGNsYXNzIFR1aUJhZGdlZENvbnRlbnRDb21wb25lbnQge1xuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5fd2l0aC10b3AnKVxuICAgIGNvbnRlbnRUb3A6IFBvbHltb3JwaGV1c0NvbnRlbnQ7XG5cbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuX3dpdGgtYm90dG9tJylcbiAgICBjb250ZW50Qm90dG9tOiBQb2x5bW9ycGhldXNDb250ZW50O1xuXG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuZGF0YS1zaXplJylcbiAgICBAdHVpRGVmYXVsdFByb3AoKVxuICAgIHNpemU6IFR1aVNpemVYUyB8IFR1aVNpemVYWEwgPSAnbSc7XG5cbiAgICBASW5wdXQoKVxuICAgIEB0dWlEZWZhdWx0UHJvcCgpXG4gICAgY29sb3JUb3AgPSAnJztcblxuICAgIEBJbnB1dCgpXG4gICAgQHR1aURlZmF1bHRQcm9wKClcbiAgICBjb2xvckJvdHRvbSA9ICcnO1xuXG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLl9yb3VuZGVkJylcbiAgICBAdHVpRGVmYXVsdFByb3AoKVxuICAgIHJvdW5kZWQgPSBmYWxzZTtcblxuICAgIGdldCB0b3BOb3RpZmljYXRpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbnRlbnRUb3AgJiYgdGhpcy5jb2xvclRvcCA/IHRoaXMuY29sb3JUb3AgOiAnJztcbiAgICB9XG5cbiAgICBnZXQgYm90dG9tTm90aWZpY2F0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jb250ZW50Qm90dG9tICYmIHRoaXMuY29sb3JCb3R0b20gPyB0aGlzLmNvbG9yQm90dG9tIDogJyc7XG4gICAgfVxuXG4gICAgZ2V0IGJhZGdlU2l6ZSgpOiBUdWlTaXplTCB8IFR1aVNpemVYUyB7XG4gICAgICAgIHJldHVybiBCQURHRV9TSVpFW3RoaXMuc2l6ZV07XG4gICAgfVxuXG4gICAgZ2V0IGJhZGdlSGlkZGVuKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplID09PSAneHMnO1xuICAgIH1cblxuICAgIGdldCBzaXplQmlnKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHVpU2l6ZUJpZ2dlcih0aGlzLnNpemUpO1xuICAgIH1cblxuICAgIGdldCBib3hTaGFkb3coKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSB0aGlzLnNpemVCaWcgPyAzIDogMjtcblxuICAgICAgICByZXR1cm4gYDAgMCAwICR7dHVpUHgoYm9yZGVyV2lkdGgpfWA7XG4gICAgfVxuXG4gICAgY29udGVudElzTnVtYmVyKGNvbnRlbnQ6IFBvbHltb3JwaGV1c0NvbnRlbnQpOiBjb250ZW50IGlzIG51bWJlciB7XG4gICAgICAgIHJldHVybiB0dWlJc051bWJlcihjb250ZW50Py52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIGNvbnRlbnRJc1N0cmluZyhjb250ZW50OiBQb2x5bW9ycGhldXNDb250ZW50KTogY29udGVudCBpcyBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdHVpSXNTdHJpbmcoY29udGVudD8udmFsdWVPZigpKTtcbiAgICB9XG5cbiAgICBnZXRTdGF0dXMoY29sb3I6IHN0cmluZyk6IFR1aVN0YXR1cyB7XG4gICAgICAgIHJldHVybiBjb2xvciA/ICdjdXN0b20nIDogJ3ByaW1hcnknO1xuICAgIH1cbn1cbiIsIjxuZy1jb250ZW50PjwvbmctY29udGVudD5cblxuPGRpdlxuICAgICpuZ0lmPVwidG9wTm90aWZpY2F0aW9uXCJcbiAgICBjbGFzcz1cInQtbm90aWZpY2F0aW9uIHQtbm90aWZpY2F0aW9uX3RvcFwiXG4gICAgW3N0eWxlLmJhY2tncm91bmRdPVwidG9wTm90aWZpY2F0aW9uXCJcbiAgICBbc3R5bGUuYm94U2hhZG93XT1cImJveFNoYWRvd1wiXG4+PC9kaXY+XG5cbjxkaXZcbiAgICAqbmdJZj1cImJvdHRvbU5vdGlmaWNhdGlvblwiXG4gICAgY2xhc3M9XCJ0LW5vdGlmaWNhdGlvbiB0LW5vdGlmaWNhdGlvbl9ib3R0b21cIlxuICAgIFtzdHlsZS5iYWNrZ3JvdW5kXT1cImJvdHRvbU5vdGlmaWNhdGlvblwiXG4gICAgW3N0eWxlLmJveFNoYWRvd109XCJib3hTaGFkb3dcIlxuPjwvZGl2PlxuXG48ZGl2XG4gICAgKm5nSWY9XCJjb250ZW50VG9wXCJcbiAgICBjbGFzcz1cInQtY29udGVudCB0LWNvbnRlbnRfdG9wXCJcbiAgICBbc3R5bGUuYm94U2hhZG93XT1cImJveFNoYWRvd1wiXG4+XG4gICAgPG5nLWNvbnRhaW5lciAqcG9seW1vcnBoZXVzT3V0bGV0PVwiY29udGVudFRvcCBhcyBjb250ZW50XCI+XG4gICAgICAgIDx0dWktYmFkZ2VcbiAgICAgICAgICAgICpuZ0lmPVwiY29udGVudElzTnVtYmVyKGNvbnRlbnQpXCJcbiAgICAgICAgICAgIFtzdGF0dXNdPVwiZ2V0U3RhdHVzKGNvbG9yVG9wKVwiXG4gICAgICAgICAgICBbc3R5bGUuYmFja2dyb3VuZENvbG9yXT1cImNvbG9yVG9wXCJcbiAgICAgICAgICAgIFtzaXplXT1cImJhZGdlU2l6ZVwiXG4gICAgICAgICAgICBbdmFsdWVdPVwiY29udGVudFRvcFwiXG4gICAgICAgID48L3R1aS1iYWRnZT5cbiAgICAgICAgPHR1aS1zdmdcbiAgICAgICAgICAgICpuZ0lmPVwiY29udGVudElzU3RyaW5nKGNvbnRlbnQpXCJcbiAgICAgICAgICAgIGNsYXNzPVwidC1pY29uXCJcbiAgICAgICAgICAgIFtzdHlsZS5jb2xvcl09XCJjb2xvclRvcFwiXG4gICAgICAgICAgICBbc3JjXT1cImNvbnRlbnRcIlxuICAgICAgICA+PC90dWktc3ZnPlxuICAgIDwvbmctY29udGFpbmVyPlxuPC9kaXY+XG5cbjxkaXZcbiAgICAqbmdJZj1cImNvbnRlbnRCb3R0b20gJiYgc2l6ZUJpZ1wiXG4gICAgY2xhc3M9XCJ0LWNvbnRlbnQgdC1jb250ZW50X2JvdHRvbVwiXG4gICAgW3N0eWxlLmJveFNoYWRvd109XCJib3hTaGFkb3dcIlxuPlxuICAgIDxuZy1jb250YWluZXIgKnBvbHltb3JwaGV1c091dGxldD1cImNvbnRlbnRCb3R0b20gYXMgY29udGVudFwiPlxuICAgICAgICA8dHVpLWJhZGdlXG4gICAgICAgICAgICAqbmdJZj1cImNvbnRlbnRJc051bWJlcihjb250ZW50KVwiXG4gICAgICAgICAgICBbc3RhdHVzXT1cImdldFN0YXR1cyhjb2xvckJvdHRvbSlcIlxuICAgICAgICAgICAgW3N0eWxlLmJhY2tncm91bmRDb2xvcl09XCJjb2xvckJvdHRvbVwiXG4gICAgICAgICAgICBbc2l6ZV09XCJiYWRnZVNpemVcIlxuICAgICAgICAgICAgW3ZhbHVlXT1cImNvbnRlbnRCb3R0b21cIlxuICAgICAgICA+PC90dWktYmFkZ2U+XG4gICAgICAgIDx0dWktc3ZnXG4gICAgICAgICAgICAqbmdJZj1cImNvbnRlbnRJc1N0cmluZyhjb250ZW50KVwiXG4gICAgICAgICAgICBjbGFzcz1cInQtaWNvblwiXG4gICAgICAgICAgICBbc3R5bGUuY29sb3JdPVwiY29sb3JCb3R0b21cIlxuICAgICAgICAgICAgW3NyY109XCJjb250ZW50XCJcbiAgICAgICAgPjwvdHVpLXN2Zz5cbiAgICA8L25nLWNvbnRhaW5lcj5cbjwvZGl2PlxuIl19