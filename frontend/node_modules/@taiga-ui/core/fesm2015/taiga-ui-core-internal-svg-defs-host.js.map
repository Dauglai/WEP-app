{"version":3,"file":"taiga-ui-core-internal-svg-defs-host.js","sources":["../../../projects/core/internal/svg-defs-host/svg-defs-host.component.ts","../../../projects/core/internal/svg-defs-host/svg-defs-host.template.html","../../../projects/core/internal/svg-defs-host/svg-defs-host.module.ts","../../../projects/core/internal/svg-defs-host/taiga-ui-core-internal-svg-defs-host.ts"],"sourcesContent":["import {isPlatformServer} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    Inject,\n    OnInit,\n    PLATFORM_ID,\n    Self,\n} from '@angular/core';\nimport {SafeHtml} from '@angular/platform-browser';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {TuiSvgService} from '@taiga-ui/core/services';\nimport {takeUntil} from 'rxjs/operators';\n\n@Component({\n    selector: 'tui-svg-defs-host',\n    templateUrl: './svg-defs-host.template.html',\n    styleUrls: ['./svg-defs-host.style.less'],\n    providers: [TuiDestroyService],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiSvgDefsHostComponent implements OnInit {\n    items!: IterableIterator<SafeHtml>;\n    isBrowser = true;\n\n    constructor(\n        @Inject(TuiSvgService) private readonly svgService: TuiSvgService,\n        @Inject(ChangeDetectorRef) private readonly cdr: ChangeDetectorRef,\n        @Self()\n        @Inject(TuiDestroyService)\n        private readonly destroy$: TuiDestroyService,\n        @Inject(PLATFORM_ID) platformId: Record<string, unknown>,\n    ) {\n        this.isBrowser = !isPlatformServer(platformId);\n    }\n\n    // @bad TODO: Looks like it could be async piped but it was probably written like that for a reason\n    ngOnInit(): void {\n        this.svgService.items$.pipe(takeUntil(this.destroy$)).subscribe(defsMap => {\n            this.items = defsMap.values();\n            this.cdr.detectChanges();\n        });\n    }\n}\n","<svg:svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n>\n    <ng-container *ngIf=\"isBrowser; else server\">\n        <defs\n            *ngFor=\"let def of items\"\n            [innerHTML]=\"def\"\n        ></defs>\n    </ng-container>\n    <ng-template #server>\n        <!--svg[outerHTML] - to support SSR, because there is no support of innerHTML for for defs element in domino-->\n        <defs *ngFor=\"let def of items\">\n            <svg [outerHTML]=\"def\"></svg>\n        </defs>\n    </ng-template>\n</svg:svg>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLetModule} from '@taiga-ui/cdk';\n\nimport {TuiSvgDefsHostComponent} from './svg-defs-host.component';\n\n@NgModule({\n    imports: [CommonModule, TuiLetModule],\n    declarations: [TuiSvgDefsHostComponent],\n    exports: [TuiSvgDefsHostComponent],\n})\nexport class TuiSvgDefsHostModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}