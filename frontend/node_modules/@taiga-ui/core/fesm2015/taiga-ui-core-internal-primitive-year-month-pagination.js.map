{"version":3,"file":"taiga-ui-core-internal-primitive-year-month-pagination.js","sources":["../../../projects/core/internal/primitive-year-month-pagination/primitive-year-month-pagination.component.ts","../../../projects/core/internal/primitive-year-month-pagination/primitive-year-month-pagination.template.html","../../../projects/core/internal/primitive-year-month-pagination/primitive-year-month-pagination.module.ts","../../../projects/core/internal/primitive-year-month-pagination/taiga-ui-core-internal-primitive-year-month-pagination.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\nimport {\n    TUI_FIRST_DAY,\n    TUI_LAST_DAY,\n    tuiDefaultProp,\n    TuiMonth,\n    TuiMonthLike,\n    TuiYear,\n} from '@taiga-ui/cdk';\nimport {TuiWithOptionalMinMax} from '@taiga-ui/core/interfaces';\n\n@Component({\n    selector: 'tui-primitive-year-month-pagination',\n    templateUrl: './primitive-year-month-pagination.template.html',\n    styleUrls: ['./primitive-year-month-pagination.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPrimitiveYearMonthPaginationComponent\n    implements TuiWithOptionalMinMax<TuiMonth>\n{\n    @Input()\n    @tuiDefaultProp()\n    value = TuiMonth.currentLocal();\n\n    @Input()\n    @tuiDefaultProp()\n    min: TuiMonth = TUI_FIRST_DAY;\n\n    @Input()\n    @tuiDefaultProp()\n    max: TuiMonth = TUI_LAST_DAY;\n\n    @Output()\n    readonly valueChange = new EventEmitter<TuiMonth>();\n\n    @Output()\n    readonly yearClick = new EventEmitter<TuiYear>();\n\n    get prevMonthDisabled(): boolean {\n        return this.value.monthSameOrBefore(this.min);\n    }\n\n    get nextMonthDisabled(): boolean {\n        return this.value.monthSameOrAfter(this.max);\n    }\n\n    get oneYear(): boolean {\n        return this.min.year === this.max.year;\n    }\n\n    onYearClick(): void {\n        this.yearClick.next(this.value);\n    }\n\n    onPrevMonthClick(): void {\n        this.appendValueWithLimit({month: -1});\n    }\n\n    onNextMonthClick(): void {\n        this.appendValueWithLimit({month: 1});\n    }\n\n    private appendValueWithLimit(date: TuiMonthLike): void {\n        const newMonth: TuiMonth = this.value.append(date);\n\n        if (this.min.monthSameOrAfter(newMonth)) {\n            this.updateValue(this.min);\n\n            return;\n        }\n\n        this.updateValue(this.max.monthSameOrBefore(newMonth) ? this.max : newMonth);\n    }\n\n    private updateValue(value: TuiMonth): void {\n        if (this.value.monthSame(value)) {\n            return;\n        }\n\n        this.value = value;\n        this.valueChange.emit(value);\n    }\n}\n","<tui-primitive-spin-button\n    [focusable]=\"false\"\n    [leftDisabled]=\"prevMonthDisabled\"\n    [rightDisabled]=\"nextMonthDisabled\"\n    (leftClick)=\"onPrevMonthClick()\"\n    (rightClick)=\"onNextMonthClick()\"\n>\n    {{ value | tuiMonth | async }}\n    <ng-container *ngIf=\"oneYear; else button\">\n        {{ value.formattedYear }}\n    </ng-container>\n    <ng-template #button>\n        <button\n            id=\"year-btn\"\n            automation-id=\"tui-primitive-year-month-pagination__year-button\"\n            tuiLink\n            type=\"button\"\n            [tuiFocusable]=\"false\"\n            (click)=\"onYearClick()\"\n        >\n            {{ value.formattedYear }}\n        </button>\n    </ng-template>\n</tui-primitive-spin-button>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiFocusableModule} from '@taiga-ui/cdk';\nimport {TuiLinkModule} from '@taiga-ui/core/components/link';\nimport {TuiPrimitiveSpinButtonModule} from '@taiga-ui/core/components/primitive-spin-button';\nimport {TuiMonthPipeModule} from '@taiga-ui/core/pipes';\n\nimport {TuiPrimitiveYearMonthPaginationComponent} from './primitive-year-month-pagination.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiFocusableModule,\n        TuiPrimitiveSpinButtonModule,\n        TuiLinkModule,\n        TuiMonthPipeModule,\n    ],\n    declarations: [TuiPrimitiveYearMonthPaginationComponent],\n    exports: [TuiPrimitiveYearMonthPaginationComponent],\n})\nexport class TuiPrimitiveYearMonthPaginationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}