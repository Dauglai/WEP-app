{"version":3,"file":"taiga-ui-core-abstract.js","sources":["../../../projects/core/abstract/driver.ts","../../../projects/core/abstract/vehicle.ts","../../../projects/core/abstract/abstract-driver.directive.ts","../../../projects/core/abstract/abstract-textfield-host.ts","../../../projects/core/abstract/position-accessor.ts","../../../projects/core/abstract/rect-accessor.ts","../../../projects/core/abstract/taiga-ui-core-abstract.ts"],"sourcesContent":["import {ExistingProvider, Type} from '@angular/core';\nimport {Observable} from 'rxjs';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport abstract class TuiDriver extends Observable<boolean> {\n    abstract readonly type: string;\n}\n\nexport function tuiAsDriver(useExisting: Type<TuiDriver>): ExistingProvider {\n    return {\n        provide: TuiDriver,\n        multi: true,\n        useExisting,\n    };\n}\n","import {ExistingProvider, Type} from '@angular/core';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport abstract class TuiVehicle {\n    abstract readonly type: string;\n    abstract toggle(value: boolean): void;\n}\n\nexport function tuiAsVehicle(useExisting: Type<TuiVehicle>): ExistingProvider {\n    return {\n        provide: TuiVehicle,\n        multi: true,\n        useExisting,\n    };\n}\n","import {Directive, Inject, OnInit, Self} from '@angular/core';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {merge, Observable} from 'rxjs';\nimport {distinctUntilChanged, takeUntil} from 'rxjs/operators';\n\nimport {TuiDriver} from './driver';\nimport {TuiVehicle} from './vehicle';\n\n@Directive()\nexport abstract class AbstractTuiDriverDirective implements OnInit {\n    abstract type: string;\n\n    constructor(\n        @Self() @Inject(TuiDestroyService) private readonly destroy$: Observable<unknown>,\n        @Inject(TuiDriver) private readonly drivers: TuiDriver[],\n        @Inject(TuiVehicle) private readonly vehicles: TuiVehicle[],\n    ) {}\n\n    ngOnInit(): void {\n        const vehicle = this.vehicles.find(({type}) => type === this.type);\n\n        merge(...this.drivers.filter(({type}) => type === this.type))\n            .pipe(distinctUntilChanged(), takeUntil(this.destroy$))\n            .subscribe(value => {\n                vehicle?.toggle(value);\n            });\n    }\n}\n","import {Directive, Inject} from '@angular/core';\nimport {AbstractTuiControl} from '@taiga-ui/cdk';\nimport {TuiTextfieldHost} from '@taiga-ui/core/interfaces';\n\n@Directive()\nexport abstract class AbstractTuiTextfieldHost<T extends AbstractTuiControl<any>>\n    implements TuiTextfieldHost\n{\n    constructor(@Inject(AbstractTuiControl) protected readonly host: T) {}\n\n    get readOnly(): boolean {\n        return this.host.readOnly;\n    }\n\n    get disabled(): boolean {\n        return this.host.computedDisabled;\n    }\n\n    get invalid(): boolean {\n        return this.host.computedInvalid;\n    }\n\n    get focusable(): boolean {\n        return this.host.computedFocusable;\n    }\n\n    get inputMode(): TuiTextfieldHost['inputMode'] {\n        return `text`;\n    }\n\n    get value(): string {\n        return this.host.value?.toString() || ``;\n    }\n\n    abstract onValueChange(value: string): void;\n\n    process(_input: HTMLInputElement): void {}\n}\n","import {ExistingProvider, FactoryProvider, SkipSelf, Type} from '@angular/core';\nimport {TuiPoint} from '@taiga-ui/core/types';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport abstract class TuiPositionAccessor {\n    abstract readonly type: string;\n    abstract getPosition(rect: ClientRect): TuiPoint;\n}\n\nexport function tuiPositionAccessorFor(type: string): FactoryProvider {\n    return {\n        provide: TuiPositionAccessor,\n        deps: [[new SkipSelf(), TuiPositionAccessor]],\n        useFactory: (accessors: readonly TuiPositionAccessor[]) =>\n            accessors.find(accessor => accessor.type === type),\n    };\n}\n\nexport function tuiAsPositionAccessor(\n    useExisting: Type<TuiPositionAccessor>,\n): ExistingProvider {\n    return {\n        provide: TuiPositionAccessor,\n        multi: true,\n        useExisting,\n    };\n}\n","import {ExistingProvider, FactoryProvider, SkipSelf, Type} from '@angular/core';\n\n// TODO: Rename to getBoundingClientRect to match the DOM API\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport abstract class TuiRectAccessor {\n    abstract readonly type: string;\n    abstract getClientRect(): ClientRect;\n}\n\nexport function tuiRectAccessorFor(\n    type: string,\n    fallback: Type<TuiRectAccessor>,\n): FactoryProvider {\n    return {\n        provide: TuiRectAccessor,\n        deps: [[new SkipSelf(), TuiRectAccessor], fallback],\n        useFactory: tuiFallbackRectAccessor(type),\n    };\n}\n\nexport function tuiFallbackRectAccessor(\n    type: string,\n): (accessors: readonly TuiRectAccessor[], fallback: TuiRectAccessor) => TuiRectAccessor {\n    return (accessors, fallback) =>\n        accessors.find(accessor => accessor !== fallback && accessor.type === type) ||\n        fallback;\n}\n\nexport function tuiAsRectAccessor(useExisting: Type<TuiRectAccessor>): ExistingProvider {\n    return {\n        provide: TuiRectAccessor,\n        multi: true,\n        useExisting,\n    };\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}