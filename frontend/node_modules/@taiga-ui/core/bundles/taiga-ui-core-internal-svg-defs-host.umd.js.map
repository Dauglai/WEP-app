{"version":3,"file":"taiga-ui-core-internal-svg-defs-host.umd.js","sources":["../../../projects/core/internal/svg-defs-host/svg-defs-host.component.ts","../../../projects/core/internal/svg-defs-host/svg-defs-host.template.html","../../../projects/core/internal/svg-defs-host/svg-defs-host.module.ts","../../../projects/core/internal/svg-defs-host/taiga-ui-core-internal-svg-defs-host.ts"],"sourcesContent":["import {isPlatformServer} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    Inject,\n    OnInit,\n    PLATFORM_ID,\n    Self,\n} from '@angular/core';\nimport {SafeHtml} from '@angular/platform-browser';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {TuiSvgService} from '@taiga-ui/core/services';\nimport {takeUntil} from 'rxjs/operators';\n\n@Component({\n    selector: 'tui-svg-defs-host',\n    templateUrl: './svg-defs-host.template.html',\n    styleUrls: ['./svg-defs-host.style.less'],\n    providers: [TuiDestroyService],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiSvgDefsHostComponent implements OnInit {\n    items!: IterableIterator<SafeHtml>;\n    isBrowser = true;\n\n    constructor(\n        @Inject(TuiSvgService) private readonly svgService: TuiSvgService,\n        @Inject(ChangeDetectorRef) private readonly cdr: ChangeDetectorRef,\n        @Self()\n        @Inject(TuiDestroyService)\n        private readonly destroy$: TuiDestroyService,\n        @Inject(PLATFORM_ID) platformId: Record<string, unknown>,\n    ) {\n        this.isBrowser = !isPlatformServer(platformId);\n    }\n\n    // @bad TODO: Looks like it could be async piped but it was probably written like that for a reason\n    ngOnInit(): void {\n        this.svgService.items$.pipe(takeUntil(this.destroy$)).subscribe(defsMap => {\n            this.items = defsMap.values();\n            this.cdr.detectChanges();\n        });\n    }\n}\n","<svg:svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n>\n    <ng-container *ngIf=\"isBrowser; else server\">\n        <defs\n            *ngFor=\"let def of items\"\n            [innerHTML]=\"def\"\n        ></defs>\n    </ng-container>\n    <ng-template #server>\n        <!--svg[outerHTML] - to support SSR, because there is no support of innerHTML for for defs element in domino-->\n        <defs *ngFor=\"let def of items\">\n            <svg [outerHTML]=\"def\"></svg>\n        </defs>\n    </ng-template>\n</svg:svg>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLetModule} from '@taiga-ui/cdk';\n\nimport {TuiSvgDefsHostComponent} from './svg-defs-host.component';\n\n@NgModule({\n    imports: [CommonModule, TuiLetModule],\n    declarations: [TuiSvgDefsHostComponent],\n    exports: [TuiSvgDefsHostComponent],\n})\nexport class TuiSvgDefsHostModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["isPlatformServer","takeUntil","i0","TuiSvgService","ChangeDetectorRef","TuiDestroyService","PLATFORM_ID","i1","Component","ChangeDetectionStrategy","Inject","Self","CommonModule","TuiLetModule","NgModule"],"mappings":"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"}