{"version":3,"file":"taiga-ui-core-providers.umd.js","sources":["../../../projects/core/providers/is-mobile-resolution.provider.ts","../../../projects/core/providers/mode.provider.ts","../../../projects/core/providers/watched-controller-provider-factory.ts","../../../projects/core/providers/taiga-ui-core-providers.ts"],"sourcesContent":["import {ElementRef, Provider, SkipSelf} from '@angular/core';\nimport {TUI_IS_MOBILE_RES} from '@taiga-ui/core/tokens';\nimport {Observable} from 'rxjs';\n\nexport const TUI_IS_MOBILE_RES_PROVIDER: Provider = {\n    provide: TUI_IS_MOBILE_RES,\n    deps: [[new SkipSelf(), TUI_IS_MOBILE_RES], ElementRef],\n    useFactory: (\n        mobile$: Observable<boolean>,\n        {nativeElement}: ElementRef,\n    ): Observable<boolean> => {\n        nativeElement[`$.class._mobile`] = mobile$;\n\n        return mobile$;\n    },\n};\n","import {ElementRef, Optional, Provider} from '@angular/core';\nimport {TuiModeDirective} from '@taiga-ui/core/directives/mode';\nimport {TUI_MODE} from '@taiga-ui/core/tokens';\nimport {TuiBrightness} from '@taiga-ui/core/types';\nimport {Observable, of} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\n\nexport const MODE_PROVIDER: Provider = {\n    provide: TUI_MODE,\n    deps: [[new Optional(), TuiModeDirective], ElementRef],\n    useFactory: (\n        mode: TuiModeDirective | null,\n        {nativeElement}: ElementRef,\n    ): Observable<TuiBrightness | null> => {\n        const mode$ = mode\n            ? mode.change$.pipe(\n                  startWith(null),\n                  map(() => mode.mode),\n              )\n            : of(null);\n\n        nativeElement[`$.data-mode.attr`] = mode$;\n\n        return mode$;\n    },\n};\n","import {ChangeDetectorRef} from '@angular/core';\nimport {AbstractTuiController, tuiWatch} from '@taiga-ui/cdk';\nimport {Observable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nexport function tuiWatchedControllerFactory(\n    controller: AbstractTuiController,\n    cdr: ChangeDetectorRef,\n    destroy$: Observable<void>,\n): AbstractTuiController {\n    controller.change$.pipe(tuiWatch(cdr), takeUntil(destroy$)).subscribe();\n\n    return controller;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["TUI_IS_MOBILE_RES","SkipSelf","ElementRef","TUI_MODE","Optional","TuiModeDirective","startWith","map","of","tuiWatch","takeUntil"],"mappings":";;;;;;AAIa,QAAA,0BAA0B,GAAa;IAChD,IAAA,OAAO,EAAEA,wBAAiB;QAC1B,IAAI,EAAE,CAAC,CAAC,IAAIC,aAAQ,EAAE,EAAED,wBAAiB,CAAC,EAAEE,eAAU,CAAC;IACvD,IAAA,UAAU,EAAE,UACR,OAA4B,EAC5B,EAA2B,EAAA;IAA1B,QAAA,IAAA,aAAa,GAAA,EAAA,CAAA,aAAA,CAAA;IAEd,QAAA,aAAa,CAAC,iBAAiB,CAAC,GAAG,OAAO,CAAC;IAE3C,QAAA,OAAO,OAAO,CAAC;SAClB;;;ACPQ,QAAA,aAAa,GAAa;IACnC,IAAA,OAAO,EAAEC,eAAQ;QACjB,IAAI,EAAE,CAAC,CAAC,IAAIC,aAAQ,EAAE,EAAEC,qBAAgB,CAAC,EAAEH,eAAU,CAAC;IACtD,IAAA,UAAU,EAAE,UACR,IAA6B,EAC7B,EAA2B,EAAA;IAA1B,QAAA,IAAA,aAAa,GAAA,EAAA,CAAA,aAAA,CAAA;YAEd,IAAM,KAAK,GAAG,IAAI;kBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CACbI,mBAAS,CAAC,IAAI,CAAC,EACfC,aAAG,CAAC,cAAM,OAAA,IAAI,CAAC,IAAI,CAAA,EAAA,CAAC,CACvB;IACH,cAAEC,OAAE,CAAC,IAAI,CAAC,CAAC;IAEf,QAAA,aAAa,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;IAE1C,QAAA,OAAO,KAAK,CAAC;SAChB;;;aCnBW,2BAA2B,CACvC,UAAiC,EACjC,GAAsB,EACtB,QAA0B,EAAA;IAE1B,IAAA,UAAU,CAAC,OAAO,CAAC,IAAI,CAACC,YAAQ,CAAC,GAAG,CAAC,EAAEC,mBAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IAExE,IAAA,OAAO,UAAU,CAAC;IACtB;;ICbA;;IAEG;;;;;;;;;;;;"}