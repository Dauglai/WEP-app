"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addUniqueImport = void 0;
const ng_morph_1 = require("ng-morph");
function addUniqueImport(filePath, namedImport, moduleSpecifier) {
    const existingNamedImport = ng_morph_1.getImports(filePath, {
        namedImports: namedImport,
        moduleSpecifier,
    });
    if (existingNamedImport.length) {
        return;
    }
    const existingDeclaration = ng_morph_1.getImports(filePath, {
        moduleSpecifier,
    });
    if (existingDeclaration.length) {
        const modules = existingDeclaration[0]
            .getNamedImports()
            .map(namedImport => namedImport.getText());
        ng_morph_1.editImports(existingDeclaration[0], () => ({
            namedImports: [...modules, namedImport],
        }));
        return;
    }
    ng_morph_1.addImports(filePath, {
        moduleSpecifier,
        namedImports: [namedImport],
    });
}
exports.addUniqueImport = addUniqueImport;
