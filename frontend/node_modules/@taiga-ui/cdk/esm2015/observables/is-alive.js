import { ALWAYS_FALSE_HANDLER } from '@taiga-ui/cdk/constants';
import { pipe, timer } from 'rxjs';
import { distinctUntilChanged, map, startWith, switchMap } from 'rxjs/operators';
/**
 * Operator to set lifespan after which current value is considered obsolete
 */
export function tuiIsAlive(lifespan = 0) {
    return pipe(switchMap(() => timer(lifespan).pipe(map(ALWAYS_FALSE_HANDLER), startWith(true))), distinctUntilChanged());
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtYWxpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9jZGsvb2JzZXJ2YWJsZXMvaXMtYWxpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLG9CQUFvQixFQUFDLE1BQU0seUJBQXlCLENBQUM7QUFDN0QsT0FBTyxFQUFtQixJQUFJLEVBQUUsS0FBSyxFQUFDLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRS9FOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBQyxXQUFtQixDQUFDO0lBQzNDLE9BQU8sSUFBSSxDQUNQLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2pGLG9CQUFvQixFQUFFLENBQ3pCLENBQUM7QUFDTixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBTFdBWVNfRkFMU0VfSEFORExFUn0gZnJvbSAnQHRhaWdhLXVpL2Nkay9jb25zdGFudHMnO1xuaW1wb3J0IHtPcGVyYXRvckZ1bmN0aW9uLCBwaXBlLCB0aW1lcn0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2Rpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAsIHN0YXJ0V2l0aCwgc3dpdGNoTWFwfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbi8qKlxuICogT3BlcmF0b3IgdG8gc2V0IGxpZmVzcGFuIGFmdGVyIHdoaWNoIGN1cnJlbnQgdmFsdWUgaXMgY29uc2lkZXJlZCBvYnNvbGV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHVpSXNBbGl2ZShsaWZlc3BhbjogbnVtYmVyID0gMCk6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgYm9vbGVhbj4ge1xuICAgIHJldHVybiBwaXBlKFxuICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGltZXIobGlmZXNwYW4pLnBpcGUobWFwKEFMV0FZU19GQUxTRV9IQU5ETEVSKSwgc3RhcnRXaXRoKHRydWUpKSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgKTtcbn1cbiJdfQ==