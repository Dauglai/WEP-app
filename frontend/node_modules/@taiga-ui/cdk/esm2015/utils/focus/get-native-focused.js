/**
 * Returns current active element, including shadow dom
 *
 * @return element or null
 */
export function tuiGetNativeFocused(doc) {
    var _a;
    if (!((_a = doc.activeElement) === null || _a === void 0 ? void 0 : _a.shadowRoot)) {
        return doc.activeElement;
    }
    let element = doc.activeElement.shadowRoot.activeElement;
    while (element === null || element === void 0 ? void 0 : element.shadowRoot) {
        element = element.shadowRoot.activeElement;
    }
    return element;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LW5hdGl2ZS1mb2N1c2VkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2RrL3V0aWxzL2ZvY3VzL2dldC1uYXRpdmUtZm9jdXNlZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLG1CQUFtQixDQUFDLEdBQWE7O0lBQzdDLElBQUksQ0FBQyxDQUFBLE1BQUEsR0FBRyxDQUFDLGFBQWEsMENBQUUsVUFBVSxDQUFBLEVBQUU7UUFDaEMsT0FBTyxHQUFHLENBQUMsYUFBYSxDQUFDO0tBQzVCO0lBRUQsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDO0lBRXpELE9BQU8sT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFVBQVUsRUFBRTtRQUN4QixPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7S0FDOUM7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZXR1cm5zIGN1cnJlbnQgYWN0aXZlIGVsZW1lbnQsIGluY2x1ZGluZyBzaGFkb3cgZG9tXG4gKlxuICogQHJldHVybiBlbGVtZW50IG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHR1aUdldE5hdGl2ZUZvY3VzZWQoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICBpZiAoIWRvYy5hY3RpdmVFbGVtZW50Py5zaGFkb3dSb290KSB7XG4gICAgICAgIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudDtcbiAgICB9XG5cbiAgICBsZXQgZWxlbWVudCA9IGRvYy5hY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtcblxuICAgIHdoaWxlIChlbGVtZW50Py5zaGFkb3dSb290KSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbn1cbiJdfQ==