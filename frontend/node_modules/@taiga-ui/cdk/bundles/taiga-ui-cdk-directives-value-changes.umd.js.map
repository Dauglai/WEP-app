{"version":3,"file":"taiga-ui-cdk-directives-value-changes.umd.js","sources":["../../../projects/cdk/directives/value-changes/value-changes.directive.ts","../../../projects/cdk/directives/value-changes/value-changes.module.ts","../../../projects/cdk/directives/value-changes/taiga-ui-cdk-directives-value-changes.ts"],"sourcesContent":["import {Directive, DoCheck, Inject, Optional, Output} from '@angular/core';\nimport {ControlContainer, NgControl} from '@angular/forms';\nimport {EMPTY, Observable, Subject} from 'rxjs';\nimport {distinctUntilChanged, switchAll} from 'rxjs/operators';\n\n@Directive({\n    selector: '[tuiValueChanges]',\n})\nexport class TuiValueChangesDirective<T> implements DoCheck {\n    private readonly refresh$ = new Subject<Observable<T>>();\n\n    @Output()\n    readonly tuiValueChanges = this.refresh$.pipe(distinctUntilChanged(), switchAll());\n\n    constructor(\n        @Optional()\n        @Inject(ControlContainer)\n        private readonly container: ControlContainer | null,\n        @Optional()\n        @Inject(NgControl)\n        private readonly control: NgControl | null,\n    ) {}\n\n    ngDoCheck(): void {\n        this.refresh$.next(\n            this.control?.valueChanges || this.container?.valueChanges || EMPTY,\n        );\n    }\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiValueChangesDirective} from './value-changes.directive';\n\n@NgModule({\n    declarations: [TuiValueChangesDirective],\n    exports: [TuiValueChangesDirective],\n})\nexport class TuiValueChangesModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Subject","distinctUntilChanged","switchAll","EMPTY","ControlContainer","NgControl","i0","Directive","Optional","Inject","Output","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,QAAA,wBAAA,kBAAA,YAAA;QAMI,SAGqB,wBAAA,CAAA,SAAkC,EAGlC,OAAyB,EAAA;IAHzB,QAAA,IAAS,CAAA,SAAA,GAAT,SAAS,CAAyB;IAGlC,QAAA,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;IAX7B,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAIA,YAAO,EAAiB,CAAC;IAGhD,QAAA,IAAA,CAAA,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAACC,8BAAoB,EAAE,EAAEC,mBAAS,EAAE,CAAC,CAAC;SAS/E;IAEJ,IAAA,wBAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;;IACI,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CACd,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,YAAY,MAAI,CAAA,EAAA,GAAA,IAAI,CAAC,SAAS,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,YAAY,CAAA,IAAIC,UAAK,CACtE,CAAC;SACL,CAAA;;;gJAnBQ,wBAAwB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAQrBC,mBAAgB,EAAA,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAGhBC,YAAS,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAAC,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;yHAXZ,wBAAwB,EAAA,QAAA,EAAA,mBAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAxB,wBAAwB,EAAA,UAAA,EAAA,CAAA;sBAHpCC,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACP,oBAAA,QAAQ,EAAE,mBAAmB;qBAChC,CAAA;;;kCAQQC,WAAQ;;kCACRC,SAAM;mCAACL,mBAAgB,CAAA;;kCAEvBI,WAAQ;;kCACRC,SAAM;mCAACJ,YAAS,CAAA;;6BAPZ,eAAe,EAAA,CAAA;0BADvBK,SAAM;;;ACHX,QAAA,qBAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,qBAAA,GAAA;;;;6IAAa,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAAJ,aAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;8IAArB,qBAAqB,EAAA,YAAA,EAAA,CAHf,wBAAwB,CAAA,EAAA,OAAA,EAAA,CAC7B,wBAAwB,CAAA,EAAA,CAAA,CAAA;8IAEzB,qBAAqB,EAAA,CAAA,CAAA;sHAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;sBAJjCK,WAAQ;IAAC,YAAA,IAAA,EAAA,CAAA;wBACN,YAAY,EAAE,CAAC,wBAAwB,CAAC;wBACxC,OAAO,EAAE,CAAC,wBAAwB,CAAC;qBACtC,CAAA;;;ICPD;;IAEG;;;;;;;;;;;"}