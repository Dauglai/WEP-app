{"version":3,"file":"taiga-ui-cdk-observables.umd.js","sources":["../../../projects/cdk/observables/control-value.ts","../../../projects/cdk/observables/typed-from-event.ts","../../../projects/cdk/observables/mouse-drag-finish-from.ts","../../../projects/cdk/observables/drag-and-drop-from.ts","../../../projects/cdk/observables/is-alive.ts","../../../projects/cdk/observables/focus-visible-observable.ts","../../../projects/cdk/observables/if-map.ts","../../../projects/cdk/observables/is-observed.ts","../../../projects/cdk/observables/items-query-list-observable.ts","../../../projects/cdk/observables/must-be-present.ts","../../../projects/cdk/observables/pressed-observable.ts","../../../projects/cdk/observables/prevent-default.ts","../../../projects/cdk/observables/stop-propagation.ts","../../../projects/cdk/observables/watch.ts","../../../projects/cdk/observables/zone-free.ts","../../../projects/cdk/observables/taiga-ui-cdk-observables.ts"],"sourcesContent":["import {AbstractControl, AbstractControlDirective} from '@angular/forms';\nimport {TuiValueChangesException} from '@taiga-ui/cdk/exceptions';\nimport {Observable} from 'rxjs';\nimport {startWith} from 'rxjs/operators';\n\n/**\n * Turns AbstractControl/Abstract-control-directive valueChanges into ReplaySubject(1)\n */\nexport function tuiControlValue<T>(\n    control: AbstractControl | AbstractControlDirective,\n): Observable<T> {\n    return new Observable(subscriber => {\n        if (!control.valueChanges) {\n            throw new TuiValueChangesException();\n        }\n\n        control.valueChanges.pipe(startWith(control.value)).subscribe(subscriber);\n    });\n}\n","import {TuiEventWith, TuiTypedEventTarget} from '@taiga-ui/cdk/types';\nimport {fromEvent, Observable} from 'rxjs';\n\nexport function tuiTypedFromEvent<E extends keyof WindowEventMap>(\n    target: Window,\n    event: E,\n    options?: AddEventListenerOptions,\n): Observable<TuiEventWith<WindowEventMap[E], typeof target>>;\n\nexport function tuiTypedFromEvent<E extends keyof DocumentEventMap>(\n    target: Document,\n    event: E,\n    options?: AddEventListenerOptions,\n): Observable<TuiEventWith<DocumentEventMap[E], typeof target>>;\n\nexport function tuiTypedFromEvent<T extends Element, E extends keyof HTMLElementEventMap>(\n    target: T,\n    event: E,\n    options?: AddEventListenerOptions,\n): Observable<TuiEventWith<HTMLElementEventMap[E], typeof target>>;\n\nexport function tuiTypedFromEvent<\n    E extends Event,\n    T extends TuiTypedEventTarget<TuiEventWith<E, T>>,\n>(\n    target: T,\n    event: string,\n    options?: AddEventListenerOptions,\n): Observable<TuiEventWith<E, T>>;\n\nexport function tuiTypedFromEvent<E extends Event>(\n    target: TuiTypedEventTarget<E>,\n    event: string,\n    options?: AddEventListenerOptions,\n): Observable<E>;\n\nexport function tuiTypedFromEvent<E extends Event>(\n    target: TuiTypedEventTarget<E>,\n    event: string,\n    options: AddEventListenerOptions = {},\n): Observable<E> {\n    /**\n     * @note:\n     * in RxJS 7 type signature `TuiTypedEventTarget<E>` !== `HasEventTargetAddRemove<E>`\n     */\n    return fromEvent<E>(target as any, event, options) as unknown as Observable<E>;\n}\n","import {TuiEventWith, TuiTypedEventTarget} from '@taiga-ui/cdk/types';\nimport {merge, Observable} from 'rxjs';\n\nimport {tuiTypedFromEvent} from './typed-from-event';\n\n/**\n * Letting go of the mouse after it was pressed\n * @param target\n */\nexport function tuiMouseDragFinishFrom<\n    T extends TuiTypedEventTarget<TuiEventWith<DragEvent, T>>,\n>(target: Exclude<T, null>): Observable<TuiEventWith<MouseEvent, T>> {\n    return merge(\n        tuiTypedFromEvent(target, `mouseup`),\n        tuiTypedFromEvent(target, `dragend`),\n    );\n}\n","import {TuiOwnerDocumentException} from '@taiga-ui/cdk/exceptions';\nimport {tuiIsPresent} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {concat, merge, Observable} from 'rxjs';\nimport {endWith, map, repeat, take, takeWhile} from 'rxjs/operators';\n\nimport {tuiMouseDragFinishFrom} from './mouse-drag-finish-from';\nimport {tuiTypedFromEvent} from './typed-from-event';\n\nexport const enum TuiDragStage {\n    Start,\n    Continues,\n    End,\n}\n\nexport class TuiDragState {\n    constructor(readonly stage: TuiDragStage, readonly event: MouseEvent) {}\n}\n\nexport function tuiDragAndDropFrom(element: Element): Observable<TuiDragState> {\n    const {ownerDocument} = element;\n\n    if (!ownerDocument) {\n        throw new TuiOwnerDocumentException();\n    }\n\n    return concat(\n        tuiTypedFromEvent(element, `mousedown`).pipe(\n            take(1),\n            map(event => new TuiDragState(TuiDragStage.Start, event)),\n        ),\n        merge(\n            tuiTypedFromEvent(ownerDocument, `mousemove`).pipe(\n                map(event => new TuiDragState(TuiDragStage.Continues, event)),\n            ),\n            tuiMouseDragFinishFrom(ownerDocument).pipe(\n                take(1),\n                map(event => new TuiDragState(TuiDragStage.End, event)),\n                endWith(null),\n            ),\n        ).pipe(takeWhile(tuiIsPresent)),\n    ).pipe(repeat());\n}\n","import {ALWAYS_FALSE_HANDLER} from '@taiga-ui/cdk/constants';\nimport {OperatorFunction, pipe, timer} from 'rxjs';\nimport {distinctUntilChanged, map, startWith, switchMap} from 'rxjs/operators';\n\n/**\n * Operator to set lifespan after which current value is considered obsolete\n */\nexport function tuiIsAlive(lifespan: number = 0): OperatorFunction<unknown, boolean> {\n    return pipe(\n        switchMap(() => timer(lifespan).pipe(map(ALWAYS_FALSE_HANDLER), startWith(true))),\n        distinctUntilChanged(),\n    );\n}\n","import {ALWAYS_FALSE_HANDLER} from '@taiga-ui/cdk/constants';\nimport {TuiOwnerDocumentException} from '@taiga-ui/cdk/exceptions';\nimport {tuiIsFalsy} from '@taiga-ui/cdk/utils';\nimport {tuiIsNativeFocused} from '@taiga-ui/cdk/utils/focus';\nimport {concat, merge, Observable} from 'rxjs';\nimport {\n    distinctUntilChanged,\n    filter,\n    ignoreElements,\n    map,\n    repeat,\n    shareReplay,\n    startWith,\n    switchMap,\n    take,\n    withLatestFrom,\n} from 'rxjs/operators';\n\nimport {tuiIsAlive} from './is-alive';\nimport {tuiTypedFromEvent} from './typed-from-event';\n\nlet documentMouseUpIsAlive$: Observable<boolean>;\nlet documentMouseDownIsAlive$: Observable<boolean>;\n\nexport function tuiFocusVisibleObservable(element: Element): Observable<boolean> {\n    const elementBlur$ = tuiTypedFromEvent(element, `blur`);\n    const {ownerDocument} = element;\n\n    if (!ownerDocument) {\n        throw new TuiOwnerDocumentException();\n    }\n\n    if (!documentMouseDownIsAlive$ || !documentMouseUpIsAlive$) {\n        documentMouseUpIsAlive$ = tuiTypedFromEvent(ownerDocument, `mouseup`, {\n            capture: true,\n        }).pipe(\n            tuiIsAlive(),\n            startWith(false),\n            shareReplay({bufferSize: 1, refCount: true}),\n        );\n        documentMouseDownIsAlive$ = tuiTypedFromEvent(ownerDocument, `mousedown`, {\n            capture: true,\n        }).pipe(\n            tuiIsAlive(),\n            startWith(false),\n            shareReplay({bufferSize: 1, refCount: true}),\n        );\n    }\n\n    return merge(\n        // focus events excluding ones that came right after mouse action\n        concat(\n            tuiTypedFromEvent(element, `focus`).pipe(take(1)),\n            // filtering out blur events when element remains focused so that we ignore browser tab focus loss\n            elementBlur$.pipe(\n                filter(() => !tuiIsNativeFocused(element)),\n                take(1),\n                ignoreElements(),\n            ),\n        ).pipe(\n            repeat(),\n            withLatestFrom(\n                documentMouseDownIsAlive$,\n                documentMouseUpIsAlive$,\n                (_event, elementActual, documentActual) =>\n                    elementActual || documentActual,\n            ),\n            filter(tuiIsFalsy),\n        ),\n    ).pipe(\n        switchMap(() =>\n            elementBlur$.pipe(map(ALWAYS_FALSE_HANDLER), take(1), startWith(true)),\n        ),\n        distinctUntilChanged(),\n    );\n}\n","import {TuiBooleanHandler} from '@taiga-ui/cdk/types';\nimport {EMPTY, Observable, OperatorFunction, pipe} from 'rxjs';\nimport {switchMap} from 'rxjs/operators';\n\nexport function tuiIfMap<T, G>(\n    project: (value: T) => Observable<G>,\n    predicate: TuiBooleanHandler<T> = Boolean,\n): OperatorFunction<T, G> {\n    return pipe(switchMap(value => (predicate(value) ? project(value) : EMPTY)));\n}\n","import {Observer, Subject} from 'rxjs';\n\n/* In RxJS 7 All subjects now have an observed property */\ntype SubjectRxJS7plus<T> = Subject<T> & {observed: boolean};\n\n/* In RxJS 8 `observers` will be removed */\ntype SubjectRxJS6<T> = Subject<T> & {observers: Array<Observer<T>>};\n\nexport function tuiIsObserved<T>(observable: Subject<T>): boolean {\n    return `observed` in observable\n        ? (observable as SubjectRxJS7plus<T>).observed\n        : !!(observable as SubjectRxJS6<T>)?.observers?.length;\n}\n","import {QueryList} from '@angular/core';\nimport {tuiGetOriginalArrayFromQueryList} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {Observable} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\n\n/**\n * Converts changes observable of a QueryList to an Observable of arrays\n */\nexport function tuiQueryListChanges<T>(\n    queryList: QueryList<T>,\n): Observable<readonly T[]> {\n    return queryList.changes.pipe(\n        startWith(null),\n        map(() => tuiGetOriginalArrayFromQueryList(queryList)),\n    );\n}\n\n/**\n * @deprecated An alias, use {@link tuiQueryListChanges} instead\n */\nexport const tuiItemsQueryListObservable = tuiQueryListChanges;\n","import {TuiValuePresentException} from '@taiga-ui/cdk/exceptions';\nimport {tuiIsPresent} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {OperatorFunction} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nexport function tuiMustBePresent<T>(): OperatorFunction<T | null | undefined, T> {\n    return map(value => {\n        if (!tuiIsPresent(value)) {\n            throw new TuiValuePresentException();\n        }\n\n        return value;\n    });\n}\n","import {ALWAYS_FALSE_HANDLER} from '@taiga-ui/cdk/constants';\nimport {TuiOwnerDocumentException} from '@taiga-ui/cdk/exceptions';\nimport {Observable} from 'rxjs';\nimport {filter, map, startWith, switchMap, take} from 'rxjs/operators';\n\nimport {tuiMouseDragFinishFrom} from './mouse-drag-finish-from';\nimport {tuiTypedFromEvent} from './typed-from-event';\n\nexport interface TuiPressedObservableOptions {\n    onlyTrusted: boolean;\n}\n\nexport function tuiPressedObservable(\n    element: Element,\n    {onlyTrusted}: TuiPressedObservableOptions = {onlyTrusted: true},\n): Observable<boolean> {\n    const {ownerDocument} = element;\n\n    if (!ownerDocument) {\n        throw new TuiOwnerDocumentException();\n    }\n\n    return tuiTypedFromEvent(element, `mousedown`).pipe(\n        filter(({isTrusted}) => isTrusted || !onlyTrusted),\n        switchMap(() =>\n            tuiMouseDragFinishFrom(ownerDocument).pipe(\n                map(ALWAYS_FALSE_HANDLER),\n                take(1),\n                startWith(true),\n            ),\n        ),\n    );\n}\n","import {MonoTypeOperatorFunction} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\nexport function tuiPreventDefault<T extends Event>(): MonoTypeOperatorFunction<T> {\n    return tap(event => event.preventDefault());\n}\n","import {MonoTypeOperatorFunction} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\nexport function tuiStopPropagation<T extends Event>(): MonoTypeOperatorFunction<T> {\n    return tap(e => {\n        e.stopPropagation();\n    });\n}\n","import {ChangeDetectorRef} from '@angular/core';\nimport {MonoTypeOperatorFunction} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\nexport function tuiWatch<T>(cdr: ChangeDetectorRef): MonoTypeOperatorFunction<T> {\n    return tap(() => {\n        cdr.markForCheck();\n    });\n}\n","import {NgZone} from '@angular/core';\nimport {MonoTypeOperatorFunction, Observable, pipe} from 'rxjs';\n\nexport function tuiZonefull<T>(ngZone: NgZone): MonoTypeOperatorFunction<T> {\n    return source =>\n        new Observable(subscriber =>\n            source.subscribe({\n                next: value => ngZone.run(() => subscriber.next(value)),\n                error: (error: unknown) => ngZone.run(() => subscriber.error(error)),\n                complete: () => ngZone.run(() => subscriber.complete()),\n            }),\n        );\n}\n\nexport function tuiZonefree<T>(ngZone: NgZone): MonoTypeOperatorFunction<T> {\n    return source =>\n        new Observable(subscriber =>\n            ngZone.runOutsideAngular(() => source.subscribe(subscriber)),\n        );\n}\n\nexport function tuiZoneOptimized<T>(ngZone: NgZone): MonoTypeOperatorFunction<T> {\n    return pipe(tuiZonefree(ngZone), tuiZonefull(ngZone));\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Observable","TuiValueChangesException","startWith","fromEvent","merge","TuiDragStage","TuiOwnerDocumentException","concat","take","map","endWith","takeWhile","tuiIsPresent","repeat","pipe","switchMap","timer","ALWAYS_FALSE_HANDLER","distinctUntilChanged","shareReplay","filter","tuiIsNativeFocused","ignoreElements","withLatestFrom","tuiIsFalsy","EMPTY","tuiGetOriginalArrayFromQueryList","TuiValuePresentException","tap"],"mappings":"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"}