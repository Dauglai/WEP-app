{"version":3,"file":"taiga-ui-cdk-directives-hovered.js","sources":["../../../projects/cdk/directives/hovered/hovered.service.ts","../../../projects/cdk/directives/hovered/hovered.directive.ts","../../../projects/cdk/directives/hovered/hovered.module.ts","../../../projects/cdk/directives/hovered/taiga-ui-cdk-directives-hovered.ts"],"sourcesContent":["import {ElementRef, Inject, Injectable, NgZone} from '@angular/core';\nimport {ALWAYS_FALSE_HANDLER, ALWAYS_TRUE_HANDLER} from '@taiga-ui/cdk/constants';\nimport {tuiTypedFromEvent, tuiZoneOptimized} from '@taiga-ui/cdk/observables';\nimport {tuiIsElement} from '@taiga-ui/cdk/utils';\nimport {merge, Observable} from 'rxjs';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\n\nfunction movedOut({currentTarget, relatedTarget}: MouseEvent): boolean {\n    return (\n        !tuiIsElement(relatedTarget) ||\n        !tuiIsElement(currentTarget) ||\n        !currentTarget.contains(relatedTarget)\n    );\n}\n\n@Injectable()\nexport class TuiHoveredService extends Observable<boolean> {\n    private readonly stream$ = merge(\n        tuiTypedFromEvent(this.el.nativeElement, `mouseenter`).pipe(\n            map(ALWAYS_TRUE_HANDLER),\n        ),\n        tuiTypedFromEvent(this.el.nativeElement, `mouseleave`).pipe(\n            map(ALWAYS_FALSE_HANDLER),\n        ),\n        // Hello, Safari\n        tuiTypedFromEvent(this.el.nativeElement, `mouseout`).pipe(\n            filter(movedOut),\n            map(ALWAYS_FALSE_HANDLER),\n        ),\n    ).pipe(distinctUntilChanged(), tuiZoneOptimized(this.ngZone));\n\n    constructor(\n        @Inject(ElementRef) private readonly el: ElementRef<Element>,\n        @Inject(NgZone) private readonly ngZone: NgZone,\n    ) {\n        super(subscriber => this.stream$.subscribe(subscriber));\n    }\n}\n","import {Directive, Inject} from '@angular/core';\nimport {Observable} from 'rxjs';\n\nimport {TuiHoveredService} from './hovered.service';\n\n@Directive({\n    selector: '[tuiHoveredChange]',\n    outputs: ['tuiHoveredChange'],\n    providers: [TuiHoveredService],\n})\nexport class TuiHoveredDirective {\n    constructor(\n        @Inject(TuiHoveredService) readonly tuiHoveredChange: Observable<boolean>,\n    ) {}\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiHoveredDirective} from './hovered.directive';\n\n@NgModule({\n    declarations: [TuiHoveredDirective],\n    exports: [TuiHoveredDirective],\n})\nexport class TuiHoveredModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;AAOA,SAAS,QAAQ,CAAC,EAAC,aAAa,EAAE,aAAa,EAAa,EAAA;AACxD,IAAA,QACI,CAAC,YAAY,CAAC,aAAa,CAAC;QAC5B,CAAC,YAAY,CAAC,aAAa,CAAC;AAC5B,QAAA,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,EACxC;AACN,CAAC;AAGK,MAAO,iBAAkB,SAAQ,UAAmB,CAAA;IAetD,WACyC,CAAA,EAAuB,EAC3B,MAAc,EAAA;AAE/C,QAAA,KAAK,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAHnB,IAAE,CAAA,EAAA,GAAF,EAAE,CAAqB;QAC3B,IAAM,CAAA,MAAA,GAAN,MAAM,CAAQ;AAhBlC,QAAA,IAAA,CAAA,OAAO,GAAG,KAAK,CAC5B,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAY,UAAA,CAAA,CAAC,CAAC,IAAI,CACvD,GAAG,CAAC,mBAAmB,CAAC,CAC3B,EACD,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAY,UAAA,CAAA,CAAC,CAAC,IAAI,CACvD,GAAG,CAAC,oBAAoB,CAAC,CAC5B;;AAED,QAAA,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAA,QAAA,CAAU,CAAC,CAAC,IAAI,CACrD,MAAM,CAAC,QAAQ,CAAC,EAChB,GAAG,CAAC,oBAAoB,CAAC,CAC5B,CACJ,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;KAO7D;;+GApBQ,iBAAiB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAgBd,UAAU,EAAA,EAAA,EAAA,KAAA,EACV,MAAM,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;mHAjBT,iBAAiB,EAAA,CAAA,CAAA;4FAAjB,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBAD7B,UAAU;;0BAiBF,MAAM;2BAAC,UAAU,CAAA;;0BACjB,MAAM;2BAAC,MAAM,CAAA;;;MCvBT,mBAAmB,CAAA;AAC5B,IAAA,WAAA,CACwC,gBAAqC,EAAA;QAArC,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB,CAAqB;KACzE;;AAHK,mBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,mBAAmB,kBAEhB,iBAAiB,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;qGAFpB,mBAAmB,EAAA,QAAA,EAAA,oBAAA,EAAA,OAAA,EAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,EAAA,SAAA,EAFjB,CAAC,iBAAiB,CAAC,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;4FAErB,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAL/B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,oBAAoB;oBAC9B,OAAO,EAAE,CAAC,kBAAkB,CAAC;oBAC7B,SAAS,EAAE,CAAC,iBAAiB,CAAC;AACjC,iBAAA,CAAA;;0BAGQ,MAAM;2BAAC,iBAAiB,CAAA;;;MCJpB,gBAAgB,CAAA;;8GAAhB,gBAAgB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;+GAAhB,gBAAgB,EAAA,YAAA,EAAA,CAHV,mBAAmB,CAAA,EAAA,OAAA,EAAA,CACxB,mBAAmB,CAAA,EAAA,CAAA,CAAA;+GAEpB,gBAAgB,EAAA,CAAA,CAAA;4FAAhB,gBAAgB,EAAA,UAAA,EAAA,CAAA;kBAJ5B,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;oBACN,YAAY,EAAE,CAAC,mBAAmB,CAAC;oBACnC,OAAO,EAAE,CAAC,mBAAmB,CAAC;AACjC,iBAAA,CAAA;;;ACPD;;AAEG;;;;"}