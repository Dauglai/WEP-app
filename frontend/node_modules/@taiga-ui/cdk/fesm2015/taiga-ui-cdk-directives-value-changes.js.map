{"version":3,"file":"taiga-ui-cdk-directives-value-changes.js","sources":["../../../projects/cdk/directives/value-changes/value-changes.directive.ts","../../../projects/cdk/directives/value-changes/value-changes.module.ts","../../../projects/cdk/directives/value-changes/taiga-ui-cdk-directives-value-changes.ts"],"sourcesContent":["import {Directive, DoCheck, Inject, Optional, Output} from '@angular/core';\nimport {ControlContainer, NgControl} from '@angular/forms';\nimport {EMPTY, Observable, Subject} from 'rxjs';\nimport {distinctUntilChanged, switchAll} from 'rxjs/operators';\n\n@Directive({\n    selector: '[tuiValueChanges]',\n})\nexport class TuiValueChangesDirective<T> implements DoCheck {\n    private readonly refresh$ = new Subject<Observable<T>>();\n\n    @Output()\n    readonly tuiValueChanges = this.refresh$.pipe(distinctUntilChanged(), switchAll());\n\n    constructor(\n        @Optional()\n        @Inject(ControlContainer)\n        private readonly container: ControlContainer | null,\n        @Optional()\n        @Inject(NgControl)\n        private readonly control: NgControl | null,\n    ) {}\n\n    ngDoCheck(): void {\n        this.refresh$.next(\n            this.control?.valueChanges || this.container?.valueChanges || EMPTY,\n        );\n    }\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiValueChangesDirective} from './value-changes.directive';\n\n@NgModule({\n    declarations: [TuiValueChangesDirective],\n    exports: [TuiValueChangesDirective],\n})\nexport class TuiValueChangesModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;MAQa,wBAAwB,CAAA;IAMjC,WAGqB,CAAA,SAAkC,EAGlC,OAAyB,EAAA;QAHzB,IAAS,CAAA,SAAA,GAAT,SAAS,CAAyB;QAGlC,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;AAX7B,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,OAAO,EAAiB,CAAC;AAGhD,QAAA,IAAA,CAAA,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC;KAS/E;IAEJ,SAAS,GAAA;;QACL,IAAI,CAAC,QAAQ,CAAC,IAAI,CACd,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,YAAY,MAAI,CAAA,EAAA,GAAA,IAAI,CAAC,SAAS,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,YAAY,CAAA,IAAI,KAAK,CACtE,CAAC;KACL;;sHAnBQ,wBAAwB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAQrB,gBAAgB,EAAA,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAGhB,SAAS,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;0GAXZ,wBAAwB,EAAA,QAAA,EAAA,mBAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;4FAAxB,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAHpC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,mBAAmB;AAChC,iBAAA,CAAA;;0BAQQ,QAAQ;;0BACR,MAAM;2BAAC,gBAAgB,CAAA;;0BAEvB,QAAQ;;0BACR,MAAM;2BAAC,SAAS,CAAA;4CAPZ,eAAe,EAAA,CAAA;sBADvB,MAAM;;;MCHE,qBAAqB,CAAA;;mHAArB,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;oHAArB,qBAAqB,EAAA,YAAA,EAAA,CAHf,wBAAwB,CAAA,EAAA,OAAA,EAAA,CAC7B,wBAAwB,CAAA,EAAA,CAAA,CAAA;oHAEzB,qBAAqB,EAAA,CAAA,CAAA;4FAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAJjC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;oBACN,YAAY,EAAE,CAAC,wBAAwB,CAAC;oBACxC,OAAO,EAAE,CAAC,wBAAwB,CAAC;AACtC,iBAAA,CAAA;;;ACPD;;AAEG;;;;"}