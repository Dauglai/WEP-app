import { __awaiter } from "tslib";
import { from, of } from 'rxjs';
import { map } from 'rxjs/operators';
export function tuiAsyncLoadLanguage(language, loader, fallback) {
    return language && loader ? tuiLoadLanguage(language, loader) : of(fallback);
}
export function tuiLoadLanguage(language, loader) {
    return from(normalizeCommonJSImport(loader(language))).pipe(map((module) => module === null || module === void 0 ? void 0 : module[`TUI_${language.toUpperCase()}_LANGUAGE`]));
}
// CommonJS `module.exports` is wrapped as `default` in ESModule.
function normalizeCommonJSImport(importPromise) {
    return __awaiter(this, void 0, void 0, function* () {
        return importPromise.then((m) => m.default || m);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9pMThuL3N3aXRjaC91dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBS0EsT0FBTyxFQUFDLElBQUksRUFBYyxFQUFFLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDMUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRW5DLE1BQU0sVUFBVSxvQkFBb0IsQ0FDaEMsUUFBZ0MsRUFDaEMsTUFBZ0MsRUFDaEMsUUFBcUI7SUFFckIsT0FBTyxRQUFRLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakYsQ0FBQztBQUVELE1BQU0sVUFBVSxlQUFlLENBQzNCLFFBQXlCLEVBQ3pCLE1BQXlCO0lBRXpCLE9BQU8sSUFBSSxDQUFDLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUN2RCxHQUFHLENBQUMsQ0FBQyxNQUFXLEVBQUUsRUFBRSxDQUFDLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRyxPQUFPLFFBQVEsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FDM0UsQ0FBQztBQUNOLENBQUM7QUFFRCxpRUFBaUU7QUFDakUsU0FBZSx1QkFBdUIsQ0FBSSxhQUF5Qjs7UUFDL0QsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUM7Q0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgICBUdWlMYW5ndWFnZSxcbiAgICBUdWlMYW5ndWFnZUxvYWRlcixcbiAgICBUdWlMYW5ndWFnZU5hbWUsXG59IGZyb20gJ0B0YWlnYS11aS9pMThuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHtmcm9tLCBPYnNlcnZhYmxlLCBvZn0gZnJvbSAncnhqcyc7XG5pbXBvcnQge21hcH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHVpQXN5bmNMb2FkTGFuZ3VhZ2UoXG4gICAgbGFuZ3VhZ2U6IFR1aUxhbmd1YWdlTmFtZSB8IG51bGwsXG4gICAgbG9hZGVyOiBUdWlMYW5ndWFnZUxvYWRlciB8IG51bGwsXG4gICAgZmFsbGJhY2s6IFR1aUxhbmd1YWdlLFxuKTogT2JzZXJ2YWJsZTxUdWlMYW5ndWFnZT4ge1xuICAgIHJldHVybiBsYW5ndWFnZSAmJiBsb2FkZXIgPyB0dWlMb2FkTGFuZ3VhZ2UobGFuZ3VhZ2UsIGxvYWRlcikgOiBvZihmYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dWlMb2FkTGFuZ3VhZ2UoXG4gICAgbGFuZ3VhZ2U6IFR1aUxhbmd1YWdlTmFtZSxcbiAgICBsb2FkZXI6IFR1aUxhbmd1YWdlTG9hZGVyLFxuKTogT2JzZXJ2YWJsZTxUdWlMYW5ndWFnZT4ge1xuICAgIHJldHVybiBmcm9tKG5vcm1hbGl6ZUNvbW1vbkpTSW1wb3J0KGxvYWRlcihsYW5ndWFnZSkpKS5waXBlKFxuICAgICAgICBtYXAoKG1vZHVsZTogYW55KSA9PiBtb2R1bGU/LltgVFVJXyR7bGFuZ3VhZ2UudG9VcHBlckNhc2UoKX1fTEFOR1VBR0VgXSksXG4gICAgKTtcbn1cblxuLy8gQ29tbW9uSlMgYG1vZHVsZS5leHBvcnRzYCBpcyB3cmFwcGVkIGFzIGBkZWZhdWx0YCBpbiBFU01vZHVsZS5cbmFzeW5jIGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbW1vbkpTSW1wb3J0PFQ+KGltcG9ydFByb21pc2U6IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gaW1wb3J0UHJvbWlzZS50aGVuKChtOiBhbnkpID0+IG0uZGVmYXVsdCB8fCBtKTtcbn1cbiJdfQ==